import{initializeApp as Hg}from"https://www.gstatic.com/firebasejs/10.13.0/firebase-app.js";import{getAnalytics as qg}from"https://www.gstatic.com/firebasejs/10.13.0/firebase-analytics.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();const Vg={apiKey:"AIzaSyBxw_C9aujIIDtd44lnR8_-rItwS9fTseU",authDomain:"epi-use-ta.firebaseapp.com",projectId:"epi-use-ta",storageBucket:"epi-use-ta.appspot.com",messagingSenderId:"120320519574",appId:"1:120320519574:web:33b1b3346135f7c266c1b7",measurementId:"G-6DSSTP4HCC"},Ug=Hg(Vg);qg(Ug);/**
* @vue/shared v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Mu(t,e){const r=new Set(t.split(","));return n=>r.has(n)}const Ze={},ca=[],rr=()=>{},jg=()=>!1,Xs=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),$u=t=>t.startsWith("onUpdate:"),Tt=Object.assign,Nu=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},Wg=Object.prototype.hasOwnProperty,Re=(t,e)=>Wg.call(t,e),De=Array.isArray,fa=t=>Zs(t)==="[object Map]",Jd=t=>Zs(t)==="[object Set]",Se=t=>typeof t=="function",it=t=>typeof t=="string",fn=t=>typeof t=="symbol",Qe=t=>t!==null&&typeof t=="object",eh=t=>(Qe(t)||Se(t))&&Se(t.then)&&Se(t.catch),th=Object.prototype.toString,Zs=t=>th.call(t),Kg=t=>Zs(t).slice(8,-1),rh=t=>Zs(t)==="[object Object]",zu=t=>it(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,si=Mu(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Qs=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},Gg=/-(\w)/g,gr=Qs(t=>t.replace(Gg,(e,r)=>r?r.toUpperCase():"")),Yg=/\B([A-Z])/g,Hn=Qs(t=>t.replace(Yg,"-$1").toLowerCase()),Js=Qs(t=>t.charAt(0).toUpperCase()+t.slice(1)),Ho=Qs(t=>t?`on${Js(t)}`:""),nn=(t,e)=>!Object.is(t,e),qo=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},nh=(t,e,r,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:r})},Xg=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Uc;const ah=()=>Uc||(Uc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Hu(t){if(De(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],a=it(n)?em(n):Hu(n);if(a)for(const i in a)e[i]=a[i]}return e}else if(it(t)||Qe(t))return t}const Zg=/;(?![^(]*\))/g,Qg=/:([^]+)/,Jg=/\/\*[^]*?\*\//g;function em(t){const e={};return t.replace(Jg,"").split(Zg).forEach(r=>{if(r){const n=r.split(Qg);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function qu(t){let e="";if(it(t))e=t;else if(De(t))for(let r=0;r<t.length;r++){const n=qu(t[r]);n&&(e+=n+" ")}else if(Qe(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const tm="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",rm=Mu(tm);function ih(t){return!!t||t===""}const sh=t=>!!(t&&t.__v_isRef===!0),ur=t=>it(t)?t:t==null?"":De(t)||Qe(t)&&(t.toString===th||!Se(t.toString))?sh(t)?ur(t.value):JSON.stringify(t,oh,2):String(t),oh=(t,e)=>sh(e)?oh(t,e.value):fa(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,a],i)=>(r[Vo(n,i)+" =>"]=a,r),{})}:Jd(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>Vo(r))}:fn(e)?Vo(e):Qe(e)&&!De(e)&&!rh(e)?String(e):e,Vo=(t,e="")=>{var r;return fn(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let or;class nm{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=or,!e&&or&&(this.index=(or.scopes||(or.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const r=or;try{return or=this,e()}finally{or=r}}}on(){or=this}off(){or=this.parent}stop(e){if(this._active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!e){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0,this._active=!1}}}function am(t,e=or){e&&e.active&&e.effects.push(t)}function im(){return or}let Tn;class Vu{constructor(e,r,n,a){this.fn=e,this.trigger=r,this.scheduler=n,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,am(this,a)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,dn();for(let e=0;e<this._depsLength;e++){const r=this.deps[e];if(r.computed&&(sm(r.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),hn()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=Jr,r=Tn;try{return Jr=!0,Tn=this,this._runnings++,jc(this),this.fn()}finally{Wc(this),this._runnings--,Tn=r,Jr=e}}stop(){this.active&&(jc(this),Wc(this),this.onStop&&this.onStop(),this.active=!1)}}function sm(t){return t.value}function jc(t){t._trackId++,t._depsLength=0}function Wc(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)lh(t.deps[e],t);t.deps.length=t._depsLength}}function lh(t,e){const r=t.get(e);r!==void 0&&e._trackId!==r&&(t.delete(e),t.size===0&&t.cleanup())}let Jr=!0,Jl=0;const uh=[];function dn(){uh.push(Jr),Jr=!1}function hn(){const t=uh.pop();Jr=t===void 0?!0:t}function Uu(){Jl++}function ju(){for(Jl--;!Jl&&eu.length;)eu.shift()()}function ch(t,e,r){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const n=t.deps[t._depsLength];n!==e?(n&&lh(n,t),t.deps[t._depsLength++]=e):t._depsLength++}}const eu=[];function fh(t,e,r){Uu();for(const n of t.keys()){let a;n._dirtyLevel<e&&(a??(a=t.get(n)===n._trackId))&&(n._shouldSchedule||(n._shouldSchedule=n._dirtyLevel===0),n._dirtyLevel=e),n._shouldSchedule&&(a??(a=t.get(n)===n._trackId))&&(n.trigger(),(!n._runnings||n.allowRecurse)&&n._dirtyLevel!==2&&(n._shouldSchedule=!1,n.scheduler&&eu.push(n.scheduler)))}ju()}const dh=(t,e)=>{const r=new Map;return r.cleanup=t,r.computed=e,r},tu=new WeakMap,Pn=Symbol(""),ru=Symbol("");function Vt(t,e,r){if(Jr&&Tn){let n=tu.get(t);n||tu.set(t,n=new Map);let a=n.get(r);a||n.set(r,a=dh(()=>n.delete(r))),ch(Tn,a)}}function Fr(t,e,r,n,a,i){const s=tu.get(t);if(!s)return;let o=[];if(e==="clear")o=[...s.values()];else if(r==="length"&&De(t)){const u=Number(n);s.forEach((l,c)=>{(c==="length"||!fn(c)&&c>=u)&&o.push(l)})}else switch(r!==void 0&&o.push(s.get(r)),e){case"add":De(t)?zu(r)&&o.push(s.get("length")):(o.push(s.get(Pn)),fa(t)&&o.push(s.get(ru)));break;case"delete":De(t)||(o.push(s.get(Pn)),fa(t)&&o.push(s.get(ru)));break;case"set":fa(t)&&o.push(s.get(Pn));break}Uu();for(const u of o)u&&fh(u,4);ju()}const om=Mu("__proto__,__v_isRef,__isVue"),hh=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(fn)),Kc=lm();function lm(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...r){const n=ze(this);for(let i=0,s=this.length;i<s;i++)Vt(n,"get",i+"");const a=n[e](...r);return a===-1||a===!1?n[e](...r.map(ze)):a}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...r){dn(),Uu();const n=ze(this)[e].apply(this,r);return ju(),hn(),n}}),t}function um(t){fn(t)||(t=String(t));const e=ze(this);return Vt(e,"has",t),e.hasOwnProperty(t)}class vh{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,n){const a=this._isReadonly,i=this._isShallow;if(r==="__v_isReactive")return!a;if(r==="__v_isReadonly")return a;if(r==="__v_isShallow")return i;if(r==="__v_raw")return n===(a?i?Em:yh:i?mh:gh).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const s=De(e);if(!a){if(s&&Re(Kc,r))return Reflect.get(Kc,r,n);if(r==="hasOwnProperty")return um}const o=Reflect.get(e,r,n);return(fn(r)?hh.has(r):om(r))||(a||Vt(e,"get",r),i)?o:Ut(o)?s&&zu(r)?o:o.value:Qe(o)?a?bh(o):to(o):o}}class ph extends vh{constructor(e=!1){super(!1,e)}set(e,r,n,a){let i=e[r];if(!this._isShallow){const u=Fn(i);if(!ba(n)&&!Fn(n)&&(i=ze(i),n=ze(n)),!De(e)&&Ut(i)&&!Ut(n))return u?!1:(i.value=n,!0)}const s=De(e)&&zu(r)?Number(r)<e.length:Re(e,r),o=Reflect.set(e,r,n,a);return e===ze(a)&&(s?nn(n,i)&&Fr(e,"set",r,n):Fr(e,"add",r,n)),o}deleteProperty(e,r){const n=Re(e,r);e[r];const a=Reflect.deleteProperty(e,r);return a&&n&&Fr(e,"delete",r,void 0),a}has(e,r){const n=Reflect.has(e,r);return(!fn(r)||!hh.has(r))&&Vt(e,"has",r),n}ownKeys(e){return Vt(e,"iterate",De(e)?"length":Pn),Reflect.ownKeys(e)}}class cm extends vh{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const fm=new ph,dm=new cm,hm=new ph(!0);const Wu=t=>t,eo=t=>Reflect.getPrototypeOf(t);function Yi(t,e,r=!1,n=!1){t=t.__v_raw;const a=ze(t),i=ze(e);r||(nn(e,i)&&Vt(a,"get",e),Vt(a,"get",i));const{has:s}=eo(a),o=n?Wu:r?Yu:mi;if(s.call(a,e))return o(t.get(e));if(s.call(a,i))return o(t.get(i));t!==a&&t.get(e)}function Xi(t,e=!1){const r=this.__v_raw,n=ze(r),a=ze(t);return e||(nn(t,a)&&Vt(n,"has",t),Vt(n,"has",a)),t===a?r.has(t):r.has(t)||r.has(a)}function Zi(t,e=!1){return t=t.__v_raw,!e&&Vt(ze(t),"iterate",Pn),Reflect.get(t,"size",t)}function Gc(t,e=!1){!e&&!ba(t)&&!Fn(t)&&(t=ze(t));const r=ze(this);return eo(r).has.call(r,t)||(r.add(t),Fr(r,"add",t,t)),this}function Yc(t,e,r=!1){!r&&!ba(e)&&!Fn(e)&&(e=ze(e));const n=ze(this),{has:a,get:i}=eo(n);let s=a.call(n,t);s||(t=ze(t),s=a.call(n,t));const o=i.call(n,t);return n.set(t,e),s?nn(e,o)&&Fr(n,"set",t,e):Fr(n,"add",t,e),this}function Xc(t){const e=ze(this),{has:r,get:n}=eo(e);let a=r.call(e,t);a||(t=ze(t),a=r.call(e,t)),n&&n.call(e,t);const i=e.delete(t);return a&&Fr(e,"delete",t,void 0),i}function Zc(){const t=ze(this),e=t.size!==0,r=t.clear();return e&&Fr(t,"clear",void 0,void 0),r}function Qi(t,e){return function(n,a){const i=this,s=i.__v_raw,o=ze(s),u=e?Wu:t?Yu:mi;return!t&&Vt(o,"iterate",Pn),s.forEach((l,c)=>n.call(a,u(l),u(c),i))}}function Ji(t,e,r){return function(...n){const a=this.__v_raw,i=ze(a),s=fa(i),o=t==="entries"||t===Symbol.iterator&&s,u=t==="keys"&&s,l=a[t](...n),c=r?Wu:e?Yu:mi;return!e&&Vt(i,"iterate",u?ru:Pn),{next(){const{value:f,done:d}=l.next();return d?{value:f,done:d}:{value:o?[c(f[0]),c(f[1])]:c(f),done:d}},[Symbol.iterator](){return this}}}}function zr(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function vm(){const t={get(i){return Yi(this,i)},get size(){return Zi(this)},has:Xi,add:Gc,set:Yc,delete:Xc,clear:Zc,forEach:Qi(!1,!1)},e={get(i){return Yi(this,i,!1,!0)},get size(){return Zi(this)},has:Xi,add(i){return Gc.call(this,i,!0)},set(i,s){return Yc.call(this,i,s,!0)},delete:Xc,clear:Zc,forEach:Qi(!1,!0)},r={get(i){return Yi(this,i,!0)},get size(){return Zi(this,!0)},has(i){return Xi.call(this,i,!0)},add:zr("add"),set:zr("set"),delete:zr("delete"),clear:zr("clear"),forEach:Qi(!0,!1)},n={get(i){return Yi(this,i,!0,!0)},get size(){return Zi(this,!0)},has(i){return Xi.call(this,i,!0)},add:zr("add"),set:zr("set"),delete:zr("delete"),clear:zr("clear"),forEach:Qi(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=Ji(i,!1,!1),r[i]=Ji(i,!0,!1),e[i]=Ji(i,!1,!0),n[i]=Ji(i,!0,!0)}),[t,r,e,n]}const[pm,gm,mm,ym]=vm();function Ku(t,e){const r=e?t?ym:mm:t?gm:pm;return(n,a,i)=>a==="__v_isReactive"?!t:a==="__v_isReadonly"?t:a==="__v_raw"?n:Reflect.get(Re(r,a)&&a in n?r:n,a,i)}const xm={get:Ku(!1,!1)},bm={get:Ku(!1,!0)},wm={get:Ku(!0,!1)};const gh=new WeakMap,mh=new WeakMap,yh=new WeakMap,Em=new WeakMap;function Cm(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function _m(t){return t.__v_skip||!Object.isExtensible(t)?0:Cm(Kg(t))}function to(t){return Fn(t)?t:Gu(t,!1,fm,xm,gh)}function xh(t){return Gu(t,!1,hm,bm,mh)}function bh(t){return Gu(t,!0,dm,wm,yh)}function Gu(t,e,r,n,a){if(!Qe(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=a.get(t);if(i)return i;const s=_m(t);if(s===0)return t;const o=new Proxy(t,s===2?n:r);return a.set(t,o),o}function oi(t){return Fn(t)?oi(t.__v_raw):!!(t&&t.__v_isReactive)}function Fn(t){return!!(t&&t.__v_isReadonly)}function ba(t){return!!(t&&t.__v_isShallow)}function wh(t){return t?!!t.__v_raw:!1}function ze(t){const e=t&&t.__v_raw;return e?ze(e):t}function Bm(t){return Object.isExtensible(t)&&nh(t,"__v_skip",!0),t}const mi=t=>Qe(t)?to(t):t,Yu=t=>Qe(t)?bh(t):t;class Eh{constructor(e,r,n,a){this.getter=e,this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Vu(()=>e(this._value),()=>ms(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!a,this.__v_isReadonly=n}get value(){const e=ze(this);return(!e._cacheable||e.effect.dirty)&&nn(e._value,e._value=e.effect.run())&&ms(e,4),Ch(e),e.effect._dirtyLevel>=2&&ms(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function Am(t,e,r=!1){let n,a;const i=Se(t);return i?(n=t,a=rr):(n=t.get,a=t.set),new Eh(n,a,i||!a,r)}function Ch(t){var e;Jr&&Tn&&(t=ze(t),ch(Tn,(e=t.dep)!=null?e:t.dep=dh(()=>t.dep=void 0,t instanceof Eh?t:void 0)))}function ms(t,e=4,r,n){t=ze(t);const a=t.dep;a&&fh(a,e)}function Ut(t){return!!(t&&t.__v_isRef===!0)}function Dm(t){return _h(t,!1)}function Sm(t){return _h(t,!0)}function _h(t,e){return Ut(t)?t:new km(t,e)}class km{constructor(e,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?e:ze(e),this._value=r?e:mi(e)}get value(){return Ch(this),this._value}set value(e){const r=this.__v_isShallow||ba(e)||Fn(e);e=r?e:ze(e),nn(e,this._rawValue)&&(this._rawValue,this._rawValue=e,this._value=r?e:mi(e),ms(this,4))}}function da(t){return Ut(t)?t.value:t}const Tm={get:(t,e,r)=>da(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const a=t[e];return Ut(a)&&!Ut(r)?(a.value=r,!0):Reflect.set(t,e,r,n)}};function Bh(t){return oi(t)?t:new Proxy(t,Tm)}/**
* @vue/runtime-core v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function en(t,e,r,n){try{return n?t(...n):t()}catch(a){ro(a,e,r)}}function vr(t,e,r,n){if(Se(t)){const a=en(t,e,r,n);return a&&eh(a)&&a.catch(i=>{ro(i,e,r)}),a}if(De(t)){const a=[];for(let i=0;i<t.length;i++)a.push(vr(t[i],e,r,n));return a}}function ro(t,e,r,n=!0){const a=e?e.vnode:null;if(e){let i=e.parent;const s=e.proxy,o=`https://vuejs.org/error-reference/#runtime-${r}`;for(;i;){const l=i.ec;if(l){for(let c=0;c<l.length;c++)if(l[c](t,s,o)===!1)return}i=i.parent}const u=e.appContext.config.errorHandler;if(u){dn(),en(u,null,10,[t,s,o]),hn();return}}Pm(t,r,a,n)}function Pm(t,e,r,n=!0){console.error(t)}let yi=!1,nu=!1;const Dt=[];let Cr=0;const ha=[];let jr=null,An=0;const Ah=Promise.resolve();let Xu=null;function Dh(t){const e=Xu||Ah;return t?e.then(this?t.bind(this):t):e}function Fm(t){let e=Cr+1,r=Dt.length;for(;e<r;){const n=e+r>>>1,a=Dt[n],i=xi(a);i<t||i===t&&a.pre?e=n+1:r=n}return e}function Zu(t){(!Dt.length||!Dt.includes(t,yi&&t.allowRecurse?Cr+1:Cr))&&(t.id==null?Dt.push(t):Dt.splice(Fm(t.id),0,t),Sh())}function Sh(){!yi&&!nu&&(nu=!0,Xu=Ah.then(Th))}function Rm(t){const e=Dt.indexOf(t);e>Cr&&Dt.splice(e,1)}function Om(t){De(t)?ha.push(...t):(!jr||!jr.includes(t,t.allowRecurse?An+1:An))&&ha.push(t),Sh()}function Qc(t,e,r=yi?Cr+1:0){for(;r<Dt.length;r++){const n=Dt[r];if(n&&n.pre){if(t&&n.id!==t.uid)continue;Dt.splice(r,1),r--,n()}}}function kh(t){if(ha.length){const e=[...new Set(ha)].sort((r,n)=>xi(r)-xi(n));if(ha.length=0,jr){jr.push(...e);return}for(jr=e,An=0;An<jr.length;An++){const r=jr[An];r.active!==!1&&r()}jr=null,An=0}}const xi=t=>t.id==null?1/0:t.id,Im=(t,e)=>{const r=xi(t)-xi(e);if(r===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return r};function Th(t){nu=!1,yi=!0,Dt.sort(Im);try{for(Cr=0;Cr<Dt.length;Cr++){const e=Dt[Cr];e&&e.active!==!1&&en(e,e.i,e.i?15:14)}}finally{Cr=0,Dt.length=0,kh(),yi=!1,Xu=null,(Dt.length||ha.length)&&Th()}}let wt=null,no=null;function Fs(t){const e=wt;return wt=t,no=t&&t.type.__scopeId||null,e}function Qu(t){no=t}function Ju(){no=null}function Lm(t,e=wt,r){if(!e||t._n)return t;const n=(...a)=>{n._d&&uf(-1);const i=Fs(e);let s;try{s=t(...a)}finally{Fs(i),n._d&&uf(1)}return s};return n._n=!0,n._c=!0,n._d=!0,n}function Jc(t,e){if(wt===null)return t;const r=fo(wt),n=t.dirs||(t.dirs=[]);for(let a=0;a<e.length;a++){let[i,s,o,u=Ze]=e[a];i&&(Se(i)&&(i={mounted:i,updated:i}),i.deep&&Yr(s),n.push({dir:i,instance:r,value:s,oldValue:void 0,arg:o,modifiers:u}))}return t}function mn(t,e,r,n){const a=t.dirs,i=e&&e.dirs;for(let s=0;s<a.length;s++){const o=a[s];i&&(o.oldValue=i[s].value);let u=o.dir[n];u&&(dn(),vr(u,r,8,[t.el,o,t,e]),hn())}}function Ph(t,e){t.shapeFlag&6&&t.component?Ph(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function Fh(t,e){return Se(t)?Tt({name:t.name},e,{setup:t}):t}const li=t=>!!t.type.__asyncLoader,Rh=t=>t.type.__isKeepAlive;function Mm(t,e){Oh(t,"a",e)}function $m(t,e){Oh(t,"da",e)}function Oh(t,e,r=St){const n=t.__wdc||(t.__wdc=()=>{let a=r;for(;a;){if(a.isDeactivated)return;a=a.parent}return t()});if(ao(e,n,r),r){let a=r.parent;for(;a&&a.parent;)Rh(a.parent.vnode)&&Nm(n,e,r,a),a=a.parent}}function Nm(t,e,r,n){const a=ao(e,t,n,!0);Ih(()=>{Nu(n[e],a)},r)}function ao(t,e,r=St,n=!1){if(r){const a=r[t]||(r[t]=[]),i=e.__weh||(e.__weh=(...s)=>{dn();const o=Ii(r),u=vr(e,r,t,s);return o(),hn(),u});return n?a.unshift(i):a.push(i),i}}const Mr=t=>(e,r=St)=>{(!co||t==="sp")&&ao(t,(...n)=>e(...n),r)},zm=Mr("bm"),Hm=Mr("m"),qm=Mr("bu"),Vm=Mr("u"),Um=Mr("bum"),Ih=Mr("um"),jm=Mr("sp"),Wm=Mr("rtg"),Km=Mr("rtc");function Gm(t,e=St){ao("ec",t,e)}const ec="components";function au(t,e){return Mh(ec,t,!0,e)||t}const Lh=Symbol.for("v-ndc");function Ym(t){return it(t)?Mh(ec,t,!1)||t:t||Lh}function Mh(t,e,r=!0,n=!1){const a=wt||St;if(a){const i=a.type;if(t===ec){const o=Ny(i,!1);if(o&&(o===e||o===gr(e)||o===Js(gr(e))))return i}const s=ef(a[t]||i[t],e)||ef(a.appContext[t],e);return!s&&n?i:s}}function ef(t,e){return t&&(t[e]||t[gr(e)]||t[Js(gr(e))])}function Xm(t,e,r,n){let a;const i=r;if(De(t)||it(t)){a=new Array(t.length);for(let s=0,o=t.length;s<o;s++)a[s]=e(t[s],s,void 0,i)}else if(typeof t=="number"){a=new Array(t);for(let s=0;s<t;s++)a[s]=e(s+1,s,void 0,i)}else if(Qe(t))if(t[Symbol.iterator])a=Array.from(t,(s,o)=>e(s,o,void 0,i));else{const s=Object.keys(t);a=new Array(s.length);for(let o=0,u=s.length;o<u;o++){const l=s[o];a[o]=e(t[l],l,o,i)}}else a=[];return a}function Rs(t,e,r={},n,a){if(wt.isCE||wt.parent&&li(wt.parent)&&wt.parent.isCE)return e!=="default"&&(r.name=e),gt("slot",r,n&&n());let i=t[e];i&&i._c&&(i._d=!1),lt();const s=i&&$h(i(r)),o=oo(Mt,{key:(r.key||s&&s.key||`_${e}`)+(!s&&n?"_fb":"")},s||(n?n():[]),s&&t._===1?64:-2);return o.scopeId&&(o.slotScopeIds=[o.scopeId+"-s"]),i&&i._c&&(i._d=!0),o}function $h(t){return t.some(e=>Is(e)?!(e.type===an||e.type===Mt&&!$h(e.children)):!0)?t:null}const iu=t=>t?nv(t)?fo(t):iu(t.parent):null,ui=Tt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>iu(t.parent),$root:t=>iu(t.root),$emit:t=>t.emit,$options:t=>tc(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,Zu(t.update)}),$nextTick:t=>t.n||(t.n=Dh.bind(t.proxy)),$watch:t=>xy.bind(t)}),Uo=(t,e)=>t!==Ze&&!t.__isScriptSetup&&Re(t,e),Zm={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:n,data:a,props:i,accessCache:s,type:o,appContext:u}=t;let l;if(e[0]!=="$"){const h=s[e];if(h!==void 0)switch(h){case 1:return n[e];case 2:return a[e];case 4:return r[e];case 3:return i[e]}else{if(Uo(n,e))return s[e]=1,n[e];if(a!==Ze&&Re(a,e))return s[e]=2,a[e];if((l=t.propsOptions[0])&&Re(l,e))return s[e]=3,i[e];if(r!==Ze&&Re(r,e))return s[e]=4,r[e];su&&(s[e]=0)}}const c=ui[e];let f,d;if(c)return e==="$attrs"&&Vt(t.attrs,"get",""),c(t);if((f=o.__cssModules)&&(f=f[e]))return f;if(r!==Ze&&Re(r,e))return s[e]=4,r[e];if(d=u.config.globalProperties,Re(d,e))return d[e]},set({_:t},e,r){const{data:n,setupState:a,ctx:i}=t;return Uo(a,e)?(a[e]=r,!0):n!==Ze&&Re(n,e)?(n[e]=r,!0):Re(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:a,propsOptions:i}},s){let o;return!!r[s]||t!==Ze&&Re(t,s)||Uo(e,s)||(o=i[0])&&Re(o,s)||Re(n,s)||Re(ui,s)||Re(a.config.globalProperties,s)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:Re(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function tf(t){return De(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let su=!0;function Qm(t){const e=tc(t),r=t.proxy,n=t.ctx;su=!1,e.beforeCreate&&rf(e.beforeCreate,t,"bc");const{data:a,computed:i,methods:s,watch:o,provide:u,inject:l,created:c,beforeMount:f,mounted:d,beforeUpdate:h,updated:v,activated:y,deactivated:p,beforeDestroy:m,beforeUnmount:g,destroyed:x,unmounted:b,render:C,renderTracked:E,renderTriggered:w,errorCaptured:B,serverPrefetch:D,expose:_,inheritAttrs:A,components:S,directives:P,filters:T}=e;if(l&&Jm(l,n,null),s)for(const M in s){const z=s[M];Se(z)&&(n[M]=z.bind(r))}if(a){const M=a.call(r,r);Qe(M)&&(t.data=to(M))}if(su=!0,i)for(const M in i){const z=i[M],G=Se(z)?z.bind(r,r):Se(z.get)?z.get.bind(r,r):rr,X=!Se(z)&&Se(z.set)?z.set.bind(r):rr,I=hr({get:G,set:X});Object.defineProperty(n,M,{enumerable:!0,configurable:!0,get:()=>I.value,set:L=>I.value=L})}if(o)for(const M in o)Nh(o[M],n,r,M);if(u){const M=Se(u)?u.call(r):u;Reflect.ownKeys(M).forEach(z=>{ys(z,M[z])})}c&&rf(c,t,"c");function O(M,z){De(z)?z.forEach(G=>M(G.bind(r))):z&&M(z.bind(r))}if(O(zm,f),O(Hm,d),O(qm,h),O(Vm,v),O(Mm,y),O($m,p),O(Gm,B),O(Km,E),O(Wm,w),O(Um,g),O(Ih,b),O(jm,D),De(_))if(_.length){const M=t.exposed||(t.exposed={});_.forEach(z=>{Object.defineProperty(M,z,{get:()=>r[z],set:G=>r[z]=G})})}else t.exposed||(t.exposed={});C&&t.render===rr&&(t.render=C),A!=null&&(t.inheritAttrs=A),S&&(t.components=S),P&&(t.directives=P)}function Jm(t,e,r=rr){De(t)&&(t=ou(t));for(const n in t){const a=t[n];let i;Qe(a)?"default"in a?i=Rr(a.from||n,a.default,!0):i=Rr(a.from||n):i=Rr(a),Ut(i)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:s=>i.value=s}):e[n]=i}}function rf(t,e,r){vr(De(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function Nh(t,e,r,n){const a=n.includes(".")?Jh(r,n):()=>r[n];if(it(t)){const i=e[t];Se(i)&&xs(a,i)}else if(Se(t))xs(a,t.bind(r));else if(Qe(t))if(De(t))t.forEach(i=>Nh(i,e,r,n));else{const i=Se(t.handler)?t.handler.bind(r):e[t.handler];Se(i)&&xs(a,i,t)}}function tc(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:a,optionsCache:i,config:{optionMergeStrategies:s}}=t.appContext,o=i.get(e);let u;return o?u=o:!a.length&&!r&&!n?u=e:(u={},a.length&&a.forEach(l=>Os(u,l,s,!0)),Os(u,e,s)),Qe(e)&&i.set(e,u),u}function Os(t,e,r,n=!1){const{mixins:a,extends:i}=e;i&&Os(t,i,r,!0),a&&a.forEach(s=>Os(t,s,r,!0));for(const s in e)if(!(n&&s==="expose")){const o=ey[s]||r&&r[s];t[s]=o?o(t[s],e[s]):e[s]}return t}const ey={data:nf,props:af,emits:af,methods:Ja,computed:Ja,beforeCreate:It,created:It,beforeMount:It,mounted:It,beforeUpdate:It,updated:It,beforeDestroy:It,beforeUnmount:It,destroyed:It,unmounted:It,activated:It,deactivated:It,errorCaptured:It,serverPrefetch:It,components:Ja,directives:Ja,watch:ry,provide:nf,inject:ty};function nf(t,e){return e?t?function(){return Tt(Se(t)?t.call(this,this):t,Se(e)?e.call(this,this):e)}:e:t}function ty(t,e){return Ja(ou(t),ou(e))}function ou(t){if(De(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function It(t,e){return t?[...new Set([].concat(t,e))]:e}function Ja(t,e){return t?Tt(Object.create(null),t,e):e}function af(t,e){return t?De(t)&&De(e)?[...new Set([...t,...e])]:Tt(Object.create(null),tf(t),tf(e??{})):e}function ry(t,e){if(!t)return e;if(!e)return t;const r=Tt(Object.create(null),t);for(const n in e)r[n]=It(t[n],e[n]);return r}function zh(){return{app:null,config:{isNativeTag:jg,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ny=0;function ay(t,e){return function(n,a=null){Se(n)||(n=Tt({},n)),a!=null&&!Qe(a)&&(a=null);const i=zh(),s=new WeakSet;let o=!1;const u=i.app={_uid:ny++,_component:n,_props:a,_container:null,_context:i,_instance:null,version:Hy,get config(){return i.config},set config(l){},use(l,...c){return s.has(l)||(l&&Se(l.install)?(s.add(l),l.install(u,...c)):Se(l)&&(s.add(l),l(u,...c))),u},mixin(l){return i.mixins.includes(l)||i.mixins.push(l),u},component(l,c){return c?(i.components[l]=c,u):i.components[l]},directive(l,c){return c?(i.directives[l]=c,u):i.directives[l]},mount(l,c,f){if(!o){const d=gt(n,a);return d.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),c&&e?e(d,l):t(d,l,f),o=!0,u._container=l,l.__vue_app__=u,fo(d.component)}},unmount(){o&&(t(null,u._container),delete u._container.__vue_app__)},provide(l,c){return i.provides[l]=c,u},runWithContext(l){const c=va;va=u;try{return l()}finally{va=c}}};return u}}let va=null;function ys(t,e){if(St){let r=St.provides;const n=St.parent&&St.parent.provides;n===r&&(r=St.provides=Object.create(n)),r[t]=e}}function Rr(t,e,r=!1){const n=St||wt;if(n||va){const a=va?va._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(a&&t in a)return a[t];if(arguments.length>1)return r&&Se(e)?e.call(n&&n.proxy):e}}const Hh={},qh=()=>Object.create(Hh),Vh=t=>Object.getPrototypeOf(t)===Hh;function iy(t,e,r,n=!1){const a={},i=qh();t.propsDefaults=Object.create(null),Uh(t,e,a,i);for(const s in t.propsOptions[0])s in a||(a[s]=void 0);r?t.props=n?a:xh(a):t.type.props?t.props=a:t.props=i,t.attrs=i}function sy(t,e,r,n){const{props:a,attrs:i,vnode:{patchFlag:s}}=t,o=ze(a),[u]=t.propsOptions;let l=!1;if((n||s>0)&&!(s&16)){if(s&8){const c=t.vnode.dynamicProps;for(let f=0;f<c.length;f++){let d=c[f];if(io(t.emitsOptions,d))continue;const h=e[d];if(u)if(Re(i,d))h!==i[d]&&(i[d]=h,l=!0);else{const v=gr(d);a[v]=lu(u,o,v,h,t,!1)}else h!==i[d]&&(i[d]=h,l=!0)}}}else{Uh(t,e,a,i)&&(l=!0);let c;for(const f in o)(!e||!Re(e,f)&&((c=Hn(f))===f||!Re(e,c)))&&(u?r&&(r[f]!==void 0||r[c]!==void 0)&&(a[f]=lu(u,o,f,void 0,t,!0)):delete a[f]);if(i!==o)for(const f in i)(!e||!Re(e,f))&&(delete i[f],l=!0)}l&&Fr(t.attrs,"set","")}function Uh(t,e,r,n){const[a,i]=t.propsOptions;let s=!1,o;if(e)for(let u in e){if(si(u))continue;const l=e[u];let c;a&&Re(a,c=gr(u))?!i||!i.includes(c)?r[c]=l:(o||(o={}))[c]=l:io(t.emitsOptions,u)||(!(u in n)||l!==n[u])&&(n[u]=l,s=!0)}if(i){const u=ze(r),l=o||Ze;for(let c=0;c<i.length;c++){const f=i[c];r[f]=lu(a,u,f,l[f],t,!Re(l,f))}}return s}function lu(t,e,r,n,a,i){const s=t[r];if(s!=null){const o=Re(s,"default");if(o&&n===void 0){const u=s.default;if(s.type!==Function&&!s.skipFactory&&Se(u)){const{propsDefaults:l}=a;if(r in l)n=l[r];else{const c=Ii(a);n=l[r]=u.call(null,e),c()}}else n=u}s[0]&&(i&&!o?n=!1:s[1]&&(n===""||n===Hn(r))&&(n=!0))}return n}const oy=new WeakMap;function jh(t,e,r=!1){const n=r?oy:e.propsCache,a=n.get(t);if(a)return a;const i=t.props,s={},o=[];let u=!1;if(!Se(t)){const c=f=>{u=!0;const[d,h]=jh(f,e,!0);Tt(s,d),h&&o.push(...h)};!r&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!u)return Qe(t)&&n.set(t,ca),ca;if(De(i))for(let c=0;c<i.length;c++){const f=gr(i[c]);sf(f)&&(s[f]=Ze)}else if(i)for(const c in i){const f=gr(c);if(sf(f)){const d=i[c],h=s[f]=De(d)||Se(d)?{type:d}:Tt({},d),v=h.type;let y=!1,p=!0;if(De(v))for(let m=0;m<v.length;++m){const g=v[m],x=Se(g)&&g.name;if(x==="Boolean"){y=!0;break}else x==="String"&&(p=!1)}else y=Se(v)&&v.name==="Boolean";h[0]=y,h[1]=p,(y||Re(h,"default"))&&o.push(f)}}const l=[s,o];return Qe(t)&&n.set(t,l),l}function sf(t){return t[0]!=="$"&&!si(t)}const Wh=t=>t[0]==="_"||t==="$stable",rc=t=>De(t)?t.map(Er):[Er(t)],ly=(t,e,r)=>{if(e._n)return e;const n=Lm((...a)=>rc(e(...a)),r);return n._c=!1,n},Kh=(t,e,r)=>{const n=t._ctx;for(const a in t){if(Wh(a))continue;const i=t[a];if(Se(i))e[a]=ly(a,i,n);else if(i!=null){const s=rc(i);e[a]=()=>s}}},Gh=(t,e)=>{const r=rc(e);t.slots.default=()=>r},Yh=(t,e,r)=>{for(const n in e)(r||n!=="_")&&(t[n]=e[n])},uy=(t,e,r)=>{const n=t.slots=qh();if(t.vnode.shapeFlag&32){const a=e._;a?(Yh(n,e,r),r&&nh(n,"_",a,!0)):Kh(e,n)}else e&&Gh(t,e)},cy=(t,e,r)=>{const{vnode:n,slots:a}=t;let i=!0,s=Ze;if(n.shapeFlag&32){const o=e._;o?r&&o===1?i=!1:Yh(a,e,r):(i=!e.$stable,Kh(e,a)),s=e}else e&&(Gh(t,e),s={default:1});if(i)for(const o in a)!Wh(o)&&s[o]==null&&delete a[o]};function uu(t,e,r,n,a=!1){if(De(t)){t.forEach((d,h)=>uu(d,e&&(De(e)?e[h]:e),r,n,a));return}if(li(n)&&!a)return;const i=n.shapeFlag&4?fo(n.component):n.el,s=a?null:i,{i:o,r:u}=t,l=e&&e.r,c=o.refs===Ze?o.refs={}:o.refs,f=o.setupState;if(l!=null&&l!==u&&(it(l)?(c[l]=null,Re(f,l)&&(f[l]=null)):Ut(l)&&(l.value=null)),Se(u))en(u,o,12,[s,c]);else{const d=it(u),h=Ut(u);if(d||h){const v=()=>{if(t.f){const y=d?Re(f,u)?f[u]:c[u]:u.value;a?De(y)&&Nu(y,i):De(y)?y.includes(i)||y.push(i):d?(c[u]=[i],Re(f,u)&&(f[u]=c[u])):(u.value=[i],t.k&&(c[t.k]=u.value))}else d?(c[u]=s,Re(f,u)&&(f[u]=s)):h&&(u.value=s,t.k&&(c[t.k]=s))};s?(v.id=-1,Ht(v,r)):v()}}}const fy=Symbol("_vte"),dy=t=>t.__isTeleport,Ht=Dy;function hy(t){return vy(t)}function vy(t,e){const r=ah();r.__VUE__=!0;const{insert:n,remove:a,patchProp:i,createElement:s,createText:o,createComment:u,setText:l,setElementText:c,parentNode:f,nextSibling:d,setScopeId:h=rr,insertStaticContent:v}=t,y=(R,F,q,Z=null,Y=null,te=null,le=void 0,ce=null,ue=!!F.dynamicChildren)=>{if(R===F)return;R&&!Va(R,F)&&(Z=V(R),L(R,Y,te,!0),R=null),F.patchFlag===-2&&(ue=!1,F.dynamicChildren=null);const{type:ae,ref:fe,shapeFlag:Q}=F;switch(ae){case so:p(R,F,q,Z);break;case an:m(R,F,q,Z);break;case bs:R==null&&g(F,q,Z,le);break;case Mt:S(R,F,q,Z,Y,te,le,ce,ue);break;default:Q&1?C(R,F,q,Z,Y,te,le,ce,ue):Q&6?P(R,F,q,Z,Y,te,le,ce,ue):(Q&64||Q&128)&&ae.process(R,F,q,Z,Y,te,le,ce,ue,K)}fe!=null&&Y&&uu(fe,R&&R.ref,te,F||R,!F)},p=(R,F,q,Z)=>{if(R==null)n(F.el=o(F.children),q,Z);else{const Y=F.el=R.el;F.children!==R.children&&l(Y,F.children)}},m=(R,F,q,Z)=>{R==null?n(F.el=u(F.children||""),q,Z):F.el=R.el},g=(R,F,q,Z)=>{[R.el,R.anchor]=v(R.children,F,q,Z,R.el,R.anchor)},x=({el:R,anchor:F},q,Z)=>{let Y;for(;R&&R!==F;)Y=d(R),n(R,q,Z),R=Y;n(F,q,Z)},b=({el:R,anchor:F})=>{let q;for(;R&&R!==F;)q=d(R),a(R),R=q;a(F)},C=(R,F,q,Z,Y,te,le,ce,ue)=>{F.type==="svg"?le="svg":F.type==="math"&&(le="mathml"),R==null?E(F,q,Z,Y,te,le,ce,ue):D(R,F,Y,te,le,ce,ue)},E=(R,F,q,Z,Y,te,le,ce)=>{let ue,ae;const{props:fe,shapeFlag:Q,transition:k,dirs:W}=R;if(ue=R.el=s(R.type,te,fe&&fe.is,fe),Q&8?c(ue,R.children):Q&16&&B(R.children,ue,null,Z,Y,jo(R,te),le,ce),W&&mn(R,null,Z,"created"),w(ue,R,R.scopeId,le,Z),fe){for(const re in fe)re!=="value"&&!si(re)&&i(ue,re,null,fe[re],te,Z);"value"in fe&&i(ue,"value",null,fe.value,te),(ae=fe.onVnodeBeforeMount)&&xr(ae,Z,R)}W&&mn(R,null,Z,"beforeMount");const ee=py(Y,k);ee&&k.beforeEnter(ue),n(ue,F,q),((ae=fe&&fe.onVnodeMounted)||ee||W)&&Ht(()=>{ae&&xr(ae,Z,R),ee&&k.enter(ue),W&&mn(R,null,Z,"mounted")},Y)},w=(R,F,q,Z,Y)=>{if(q&&h(R,q),Z)for(let te=0;te<Z.length;te++)h(R,Z[te]);if(Y){let te=Y.subTree;if(F===te){const le=Y.vnode;w(R,le,le.scopeId,le.slotScopeIds,Y.parent)}}},B=(R,F,q,Z,Y,te,le,ce,ue=0)=>{for(let ae=ue;ae<R.length;ae++){const fe=R[ae]=ce?Wr(R[ae]):Er(R[ae]);y(null,fe,F,q,Z,Y,te,le,ce)}},D=(R,F,q,Z,Y,te,le)=>{const ce=F.el=R.el;let{patchFlag:ue,dynamicChildren:ae,dirs:fe}=F;ue|=R.patchFlag&16;const Q=R.props||Ze,k=F.props||Ze;let W;if(q&&yn(q,!1),(W=k.onVnodeBeforeUpdate)&&xr(W,q,F,R),fe&&mn(F,R,q,"beforeUpdate"),q&&yn(q,!0),(Q.innerHTML&&k.innerHTML==null||Q.textContent&&k.textContent==null)&&c(ce,""),ae?_(R.dynamicChildren,ae,ce,q,Z,jo(F,Y),te):le||z(R,F,ce,null,q,Z,jo(F,Y),te,!1),ue>0){if(ue&16)A(ce,Q,k,q,Y);else if(ue&2&&Q.class!==k.class&&i(ce,"class",null,k.class,Y),ue&4&&i(ce,"style",Q.style,k.style,Y),ue&8){const ee=F.dynamicProps;for(let re=0;re<ee.length;re++){const J=ee[re],de=Q[J],ie=k[J];(ie!==de||J==="value")&&i(ce,J,de,ie,Y,q)}}ue&1&&R.children!==F.children&&c(ce,F.children)}else!le&&ae==null&&A(ce,Q,k,q,Y);((W=k.onVnodeUpdated)||fe)&&Ht(()=>{W&&xr(W,q,F,R),fe&&mn(F,R,q,"updated")},Z)},_=(R,F,q,Z,Y,te,le)=>{for(let ce=0;ce<F.length;ce++){const ue=R[ce],ae=F[ce],fe=ue.el&&(ue.type===Mt||!Va(ue,ae)||ue.shapeFlag&70)?f(ue.el):q;y(ue,ae,fe,null,Z,Y,te,le,!0)}},A=(R,F,q,Z,Y)=>{if(F!==q){if(F!==Ze)for(const te in F)!si(te)&&!(te in q)&&i(R,te,F[te],null,Y,Z);for(const te in q){if(si(te))continue;const le=q[te],ce=F[te];le!==ce&&te!=="value"&&i(R,te,ce,le,Y,Z)}"value"in q&&i(R,"value",F.value,q.value,Y)}},S=(R,F,q,Z,Y,te,le,ce,ue)=>{const ae=F.el=R?R.el:o(""),fe=F.anchor=R?R.anchor:o("");let{patchFlag:Q,dynamicChildren:k,slotScopeIds:W}=F;W&&(ce=ce?ce.concat(W):W),R==null?(n(ae,q,Z),n(fe,q,Z),B(F.children||[],q,fe,Y,te,le,ce,ue)):Q>0&&Q&64&&k&&R.dynamicChildren?(_(R.dynamicChildren,k,q,Y,te,le,ce),(F.key!=null||Y&&F===Y.subTree)&&Xh(R,F,!0)):z(R,F,q,fe,Y,te,le,ce,ue)},P=(R,F,q,Z,Y,te,le,ce,ue)=>{F.slotScopeIds=ce,R==null?F.shapeFlag&512?Y.ctx.activate(F,q,Z,le,ue):T(F,q,Z,Y,te,le,ue):$(R,F,ue)},T=(R,F,q,Z,Y,te,le)=>{const ce=R.component=Oy(R,Z,Y);if(Rh(R)&&(ce.ctx.renderer=K),Iy(ce,!1,le),ce.asyncDep){if(Y&&Y.registerDep(ce,O,le),!R.el){const ue=ce.subTree=gt(an);m(null,ue,F,q)}}else O(ce,R,F,q,Y,te,le)},$=(R,F,q)=>{const Z=F.component=R.component;if(_y(R,F,q))if(Z.asyncDep&&!Z.asyncResolved){M(Z,F,q);return}else Z.next=F,Rm(Z.update),Z.effect.dirty=!0,Z.update();else F.el=R.el,Z.vnode=F},O=(R,F,q,Z,Y,te,le)=>{const ce=()=>{if(R.isMounted){let{next:fe,bu:Q,u:k,parent:W,vnode:ee}=R;{const pe=Zh(R);if(pe){fe&&(fe.el=ee.el,M(R,fe,le)),pe.asyncDep.then(()=>{R.isUnmounted||ce()});return}}let re=fe,J;yn(R,!1),fe?(fe.el=ee.el,M(R,fe,le)):fe=ee,Q&&qo(Q),(J=fe.props&&fe.props.onVnodeBeforeUpdate)&&xr(J,W,fe,ee),yn(R,!0);const de=Wo(R),ie=R.subTree;R.subTree=de,y(ie,de,f(ie.el),V(ie),R,Y,te),fe.el=de.el,re===null&&By(R,de.el),k&&Ht(k,Y),(J=fe.props&&fe.props.onVnodeUpdated)&&Ht(()=>xr(J,W,fe,ee),Y)}else{let fe;const{el:Q,props:k}=F,{bm:W,m:ee,parent:re}=R,J=li(F);if(yn(R,!1),W&&qo(W),!J&&(fe=k&&k.onVnodeBeforeMount)&&xr(fe,re,F),yn(R,!0),Q&&he){const de=()=>{R.subTree=Wo(R),he(Q,R.subTree,R,Y,null)};J?F.type.__asyncLoader().then(()=>!R.isUnmounted&&de()):de()}else{const de=R.subTree=Wo(R);y(null,de,q,Z,R,Y,te),F.el=de.el}if(ee&&Ht(ee,Y),!J&&(fe=k&&k.onVnodeMounted)){const de=F;Ht(()=>xr(fe,re,de),Y)}(F.shapeFlag&256||re&&li(re.vnode)&&re.vnode.shapeFlag&256)&&R.a&&Ht(R.a,Y),R.isMounted=!0,F=q=Z=null}},ue=R.effect=new Vu(ce,rr,()=>Zu(ae),R.scope),ae=R.update=()=>{ue.dirty&&ue.run()};ae.i=R,ae.id=R.uid,yn(R,!0),ae()},M=(R,F,q)=>{F.component=R;const Z=R.vnode.props;R.vnode=F,R.next=null,sy(R,F.props,Z,q),cy(R,F.children,q),dn(),Qc(R),hn()},z=(R,F,q,Z,Y,te,le,ce,ue=!1)=>{const ae=R&&R.children,fe=R?R.shapeFlag:0,Q=F.children,{patchFlag:k,shapeFlag:W}=F;if(k>0){if(k&128){X(ae,Q,q,Z,Y,te,le,ce,ue);return}else if(k&256){G(ae,Q,q,Z,Y,te,le,ce,ue);return}}W&8?(fe&16&&se(ae,Y,te),Q!==ae&&c(q,Q)):fe&16?W&16?X(ae,Q,q,Z,Y,te,le,ce,ue):se(ae,Y,te,!0):(fe&8&&c(q,""),W&16&&B(Q,q,Z,Y,te,le,ce,ue))},G=(R,F,q,Z,Y,te,le,ce,ue)=>{R=R||ca,F=F||ca;const ae=R.length,fe=F.length,Q=Math.min(ae,fe);let k;for(k=0;k<Q;k++){const W=F[k]=ue?Wr(F[k]):Er(F[k]);y(R[k],W,q,null,Y,te,le,ce,ue)}ae>fe?se(R,Y,te,!0,!1,Q):B(F,q,Z,Y,te,le,ce,ue,Q)},X=(R,F,q,Z,Y,te,le,ce,ue)=>{let ae=0;const fe=F.length;let Q=R.length-1,k=fe-1;for(;ae<=Q&&ae<=k;){const W=R[ae],ee=F[ae]=ue?Wr(F[ae]):Er(F[ae]);if(Va(W,ee))y(W,ee,q,null,Y,te,le,ce,ue);else break;ae++}for(;ae<=Q&&ae<=k;){const W=R[Q],ee=F[k]=ue?Wr(F[k]):Er(F[k]);if(Va(W,ee))y(W,ee,q,null,Y,te,le,ce,ue);else break;Q--,k--}if(ae>Q){if(ae<=k){const W=k+1,ee=W<fe?F[W].el:Z;for(;ae<=k;)y(null,F[ae]=ue?Wr(F[ae]):Er(F[ae]),q,ee,Y,te,le,ce,ue),ae++}}else if(ae>k)for(;ae<=Q;)L(R[ae],Y,te,!0),ae++;else{const W=ae,ee=ae,re=new Map;for(ae=ee;ae<=k;ae++){const be=F[ae]=ue?Wr(F[ae]):Er(F[ae]);be.key!=null&&re.set(be.key,ae)}let J,de=0;const ie=k-ee+1;let pe=!1,Ce=0;const we=new Array(ie);for(ae=0;ae<ie;ae++)we[ae]=0;for(ae=W;ae<=Q;ae++){const be=R[ae];if(de>=ie){L(be,Y,te,!0);continue}let me;if(be.key!=null)me=re.get(be.key);else for(J=ee;J<=k;J++)if(we[J-ee]===0&&Va(be,F[J])){me=J;break}me===void 0?L(be,Y,te,!0):(we[me-ee]=ae+1,me>=Ce?Ce=me:pe=!0,y(be,F[me],q,null,Y,te,le,ce,ue),de++)}const ye=pe?gy(we):ca;for(J=ye.length-1,ae=ie-1;ae>=0;ae--){const be=ee+ae,me=F[be],Ee=be+1<fe?F[be+1].el:Z;we[ae]===0?y(null,me,q,Ee,Y,te,le,ce,ue):pe&&(J<0||ae!==ye[J]?I(me,q,Ee,2):J--)}}},I=(R,F,q,Z,Y=null)=>{const{el:te,type:le,transition:ce,children:ue,shapeFlag:ae}=R;if(ae&6){I(R.component.subTree,F,q,Z);return}if(ae&128){R.suspense.move(F,q,Z);return}if(ae&64){le.move(R,F,q,K);return}if(le===Mt){n(te,F,q);for(let Q=0;Q<ue.length;Q++)I(ue[Q],F,q,Z);n(R.anchor,F,q);return}if(le===bs){x(R,F,q);return}if(Z!==2&&ae&1&&ce)if(Z===0)ce.beforeEnter(te),n(te,F,q),Ht(()=>ce.enter(te),Y);else{const{leave:Q,delayLeave:k,afterLeave:W}=ce,ee=()=>n(te,F,q),re=()=>{Q(te,()=>{ee(),W&&W()})};k?k(te,ee,re):re()}else n(te,F,q)},L=(R,F,q,Z=!1,Y=!1)=>{const{type:te,props:le,ref:ce,children:ue,dynamicChildren:ae,shapeFlag:fe,patchFlag:Q,dirs:k,cacheIndex:W}=R;if(Q===-2&&(Y=!1),ce!=null&&uu(ce,null,q,R,!0),W!=null&&(F.renderCache[W]=void 0),fe&256){F.ctx.deactivate(R);return}const ee=fe&1&&k,re=!li(R);let J;if(re&&(J=le&&le.onVnodeBeforeUnmount)&&xr(J,F,R),fe&6)oe(R.component,q,Z);else{if(fe&128){R.suspense.unmount(q,Z);return}ee&&mn(R,null,F,"beforeUnmount"),fe&64?R.type.remove(R,F,q,K,Z):ae&&!ae.hasOnce&&(te!==Mt||Q>0&&Q&64)?se(ae,F,q,!1,!0):(te===Mt&&Q&384||!Y&&fe&16)&&se(ue,F,q),Z&&U(R)}(re&&(J=le&&le.onVnodeUnmounted)||ee)&&Ht(()=>{J&&xr(J,F,R),ee&&mn(R,null,F,"unmounted")},q)},U=R=>{const{type:F,el:q,anchor:Z,transition:Y}=R;if(F===Mt){j(q,Z);return}if(F===bs){b(R);return}const te=()=>{a(q),Y&&!Y.persisted&&Y.afterLeave&&Y.afterLeave()};if(R.shapeFlag&1&&Y&&!Y.persisted){const{leave:le,delayLeave:ce}=Y,ue=()=>le(q,te);ce?ce(R.el,te,ue):ue()}else te()},j=(R,F)=>{let q;for(;R!==F;)q=d(R),a(R),R=q;a(F)},oe=(R,F,q)=>{const{bum:Z,scope:Y,update:te,subTree:le,um:ce,m:ue,a:ae}=R;of(ue),of(ae),Z&&qo(Z),Y.stop(),te&&(te.active=!1,L(le,R,F,q)),ce&&Ht(ce,F),Ht(()=>{R.isUnmounted=!0},F),F&&F.pendingBranch&&!F.isUnmounted&&R.asyncDep&&!R.asyncResolved&&R.suspenseId===F.pendingId&&(F.deps--,F.deps===0&&F.resolve())},se=(R,F,q,Z=!1,Y=!1,te=0)=>{for(let le=te;le<R.length;le++)L(R[le],F,q,Z,Y)},V=R=>{if(R.shapeFlag&6)return V(R.component.subTree);if(R.shapeFlag&128)return R.suspense.next();const F=d(R.anchor||R.el),q=F&&F[fy];return q?d(q):F};let H=!1;const N=(R,F,q)=>{R==null?F._vnode&&L(F._vnode,null,null,!0):y(F._vnode||null,R,F,null,null,null,q),F._vnode=R,H||(H=!0,Qc(),kh(),H=!1)},K={p:y,um:L,m:I,r:U,mt:T,mc:B,pc:z,pbc:_,n:V,o:t};let ne,he;return{render:N,hydrate:ne,createApp:ay(N,ne)}}function jo({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function yn({effect:t,update:e},r){t.allowRecurse=e.allowRecurse=r}function py(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Xh(t,e,r=!1){const n=t.children,a=e.children;if(De(n)&&De(a))for(let i=0;i<n.length;i++){const s=n[i];let o=a[i];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=a[i]=Wr(a[i]),o.el=s.el),!r&&o.patchFlag!==-2&&Xh(s,o)),o.type===so&&(o.el=s.el)}}function gy(t){const e=t.slice(),r=[0];let n,a,i,s,o;const u=t.length;for(n=0;n<u;n++){const l=t[n];if(l!==0){if(a=r[r.length-1],t[a]<l){e[n]=a,r.push(n);continue}for(i=0,s=r.length-1;i<s;)o=i+s>>1,t[r[o]]<l?i=o+1:s=o;l<t[r[i]]&&(i>0&&(e[n]=r[i-1]),r[i]=n)}}for(i=r.length,s=r[i-1];i-- >0;)r[i]=s,s=e[s];return r}function Zh(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Zh(e)}function of(t){if(t)for(let e=0;e<t.length;e++)t[e].active=!1}const my=Symbol.for("v-scx"),yy=()=>Rr(my),es={};function xs(t,e,r){return Qh(t,e,r)}function Qh(t,e,{immediate:r,deep:n,flush:a,once:i,onTrack:s,onTrigger:o}=Ze){if(e&&i){const E=e;e=(...w)=>{E(...w),C()}}const u=St,l=E=>n===!0?E:Yr(E,n===!1?1:void 0);let c,f=!1,d=!1;if(Ut(t)?(c=()=>t.value,f=ba(t)):oi(t)?(c=()=>l(t),f=!0):De(t)?(d=!0,f=t.some(E=>oi(E)||ba(E)),c=()=>t.map(E=>{if(Ut(E))return E.value;if(oi(E))return l(E);if(Se(E))return en(E,u,2)})):Se(t)?e?c=()=>en(t,u,2):c=()=>(h&&h(),vr(t,u,3,[v])):c=rr,e&&n){const E=c;c=()=>Yr(E())}let h,v=E=>{h=x.onStop=()=>{en(E,u,4),h=x.onStop=void 0}},y;if(co)if(v=rr,e?r&&vr(e,u,3,[c(),d?[]:void 0,v]):c(),a==="sync"){const E=yy();y=E.__watcherHandles||(E.__watcherHandles=[])}else return rr;let p=d?new Array(t.length).fill(es):es;const m=()=>{if(!(!x.active||!x.dirty))if(e){const E=x.run();(n||f||(d?E.some((w,B)=>nn(w,p[B])):nn(E,p)))&&(h&&h(),vr(e,u,3,[E,p===es?void 0:d&&p[0]===es?[]:p,v]),p=E)}else x.run()};m.allowRecurse=!!e;let g;a==="sync"?g=m:a==="post"?g=()=>Ht(m,u&&u.suspense):(m.pre=!0,u&&(m.id=u.uid),g=()=>Zu(m));const x=new Vu(c,rr,g),b=im(),C=()=>{x.stop(),b&&Nu(b.effects,x)};return e?r?m():p=x.run():a==="post"?Ht(x.run.bind(x),u&&u.suspense):x.run(),y&&y.push(C),C}function xy(t,e,r){const n=this.proxy,a=it(t)?t.includes(".")?Jh(n,t):()=>n[t]:t.bind(n,n);let i;Se(e)?i=e:(i=e.handler,r=e);const s=Ii(this),o=Qh(a,i.bind(n),r);return s(),o}function Jh(t,e){const r=e.split(".");return()=>{let n=t;for(let a=0;a<r.length&&n;a++)n=n[r[a]];return n}}function Yr(t,e=1/0,r){if(e<=0||!Qe(t)||t.__v_skip||(r=r||new Set,r.has(t)))return t;if(r.add(t),e--,Ut(t))Yr(t.value,e,r);else if(De(t))for(let n=0;n<t.length;n++)Yr(t[n],e,r);else if(Jd(t)||fa(t))t.forEach(n=>{Yr(n,e,r)});else if(rh(t)){for(const n in t)Yr(t[n],e,r);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&Yr(t[n],e,r)}return t}const by=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${gr(e)}Modifiers`]||t[`${Hn(e)}Modifiers`];function wy(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||Ze;let a=r;const i=e.startsWith("update:"),s=i&&by(n,e.slice(7));s&&(s.trim&&(a=r.map(c=>it(c)?c.trim():c)),s.number&&(a=r.map(Xg)));let o,u=n[o=Ho(e)]||n[o=Ho(gr(e))];!u&&i&&(u=n[o=Ho(Hn(e))]),u&&vr(u,t,6,a);const l=n[o+"Once"];if(l){if(!t.emitted)t.emitted={};else if(t.emitted[o])return;t.emitted[o]=!0,vr(l,t,6,a)}}function ev(t,e,r=!1){const n=e.emitsCache,a=n.get(t);if(a!==void 0)return a;const i=t.emits;let s={},o=!1;if(!Se(t)){const u=l=>{const c=ev(l,e,!0);c&&(o=!0,Tt(s,c))};!r&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}return!i&&!o?(Qe(t)&&n.set(t,null),null):(De(i)?i.forEach(u=>s[u]=null):Tt(s,i),Qe(t)&&n.set(t,s),s)}function io(t,e){return!t||!Xs(e)?!1:(e=e.slice(2).replace(/Once$/,""),Re(t,e[0].toLowerCase()+e.slice(1))||Re(t,Hn(e))||Re(t,e))}function Wo(t){const{type:e,vnode:r,proxy:n,withProxy:a,propsOptions:[i],slots:s,attrs:o,emit:u,render:l,renderCache:c,props:f,data:d,setupState:h,ctx:v,inheritAttrs:y}=t,p=Fs(t);let m,g;try{if(r.shapeFlag&4){const b=a||n,C=b;m=Er(l.call(C,b,c,f,h,d,v)),g=o}else{const b=e;m=Er(b.length>1?b(f,{attrs:o,slots:s,emit:u}):b(f,null)),g=e.props?o:Ey(o)}}catch(b){ci.length=0,ro(b,t,1),m=gt(an)}let x=m;if(g&&y!==!1){const b=Object.keys(g),{shapeFlag:C}=x;b.length&&C&7&&(i&&b.some($u)&&(g=Cy(g,i)),x=wa(x,g,!1,!0))}return r.dirs&&(x=wa(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(r.dirs):r.dirs),r.transition&&(x.transition=r.transition),m=x,Fs(p),m}const Ey=t=>{let e;for(const r in t)(r==="class"||r==="style"||Xs(r))&&((e||(e={}))[r]=t[r]);return e},Cy=(t,e)=>{const r={};for(const n in t)(!$u(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function _y(t,e,r){const{props:n,children:a,component:i}=t,{props:s,children:o,patchFlag:u}=e,l=i.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&u>=0){if(u&1024)return!0;if(u&16)return n?lf(n,s,l):!!s;if(u&8){const c=e.dynamicProps;for(let f=0;f<c.length;f++){const d=c[f];if(s[d]!==n[d]&&!io(l,d))return!0}}}else return(a||o)&&(!o||!o.$stable)?!0:n===s?!1:n?s?lf(n,s,l):!0:!!s;return!1}function lf(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let a=0;a<n.length;a++){const i=n[a];if(e[i]!==t[i]&&!io(r,i))return!0}return!1}function By({vnode:t,parent:e},r){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=r,e=e.parent;else break}}const Ay=t=>t.__isSuspense;function Dy(t,e){e&&e.pendingBranch?De(t)?e.effects.push(...t):e.effects.push(t):Om(t)}const Mt=Symbol.for("v-fgt"),so=Symbol.for("v-txt"),an=Symbol.for("v-cmt"),bs=Symbol.for("v-stc"),ci=[];let Gt=null;function lt(t=!1){ci.push(Gt=t?null:[])}function Sy(){ci.pop(),Gt=ci[ci.length-1]||null}let bi=1;function uf(t){bi+=t,t<0&&Gt&&(Gt.hasOnce=!0)}function tv(t){return t.dynamicChildren=bi>0?Gt||ca:null,Sy(),bi>0&&Gt&&Gt.push(t),t}function $t(t,e,r,n,a,i){return tv(ve(t,e,r,n,a,i,!0))}function oo(t,e,r,n,a){return tv(gt(t,e,r,n,a,!0))}function Is(t){return t?t.__v_isVNode===!0:!1}function Va(t,e){return t.type===e.type&&t.key===e.key}const rv=({key:t})=>t??null,ws=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?it(t)||Ut(t)||Se(t)?{i:wt,r:t,k:e,f:!!r}:t:null);function ve(t,e=null,r=null,n=0,a=null,i=t===Mt?0:1,s=!1,o=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&rv(e),ref:e&&ws(e),scopeId:no,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:wt};return o?(ac(u,r),i&128&&t.normalize(u)):r&&(u.shapeFlag|=it(r)?8:16),bi>0&&!s&&Gt&&(u.patchFlag>0||i&6)&&u.patchFlag!==32&&Gt.push(u),u}const gt=ky;function ky(t,e=null,r=null,n=0,a=null,i=!1){if((!t||t===Lh)&&(t=an),Is(t)){const o=wa(t,e,!0);return r&&ac(o,r),bi>0&&!i&&Gt&&(o.shapeFlag&6?Gt[Gt.indexOf(t)]=o:Gt.push(o)),o.patchFlag=-2,o}if(zy(t)&&(t=t.__vccOpts),e){e=Ty(e);let{class:o,style:u}=e;o&&!it(o)&&(e.class=qu(o)),Qe(u)&&(wh(u)&&!De(u)&&(u=Tt({},u)),e.style=Hu(u))}const s=it(t)?1:Ay(t)?128:dy(t)?64:Qe(t)?4:Se(t)?2:0;return ve(t,e,r,n,a,s,i,!0)}function Ty(t){return t?wh(t)||Vh(t)?Tt({},t):t:null}function wa(t,e,r=!1,n=!1){const{props:a,ref:i,patchFlag:s,children:o,transition:u}=t,l=e?Py(a||{},e):a,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&rv(l),ref:e&&e.ref?r&&i?De(i)?i.concat(ws(e)):[i,ws(e)]:ws(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Mt?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:u,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&wa(t.ssContent),ssFallback:t.ssFallback&&wa(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return u&&n&&Ph(c,u.clone(c)),c}function lo(t=" ",e=0){return gt(so,null,t,e)}function uo(t,e){const r=gt(bs,null,t);return r.staticCount=e,r}function nc(t="",e=!1){return e?(lt(),oo(an,null,t)):gt(an,null,t)}function Er(t){return t==null||typeof t=="boolean"?gt(an):De(t)?gt(Mt,null,t.slice()):typeof t=="object"?Wr(t):gt(so,null,String(t))}function Wr(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:wa(t)}function ac(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(De(e))r=16;else if(typeof e=="object")if(n&65){const a=e.default;a&&(a._c&&(a._d=!1),ac(t,a()),a._c&&(a._d=!0));return}else{r=32;const a=e._;!a&&!Vh(e)?e._ctx=wt:a===3&&wt&&(wt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Se(e)?(e={default:e,_ctx:wt},r=32):(e=String(e),n&64?(r=16,e=[lo(e)]):r=8);t.children=e,t.shapeFlag|=r}function Py(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const a in n)if(a==="class")e.class!==n.class&&(e.class=qu([e.class,n.class]));else if(a==="style")e.style=Hu([e.style,n.style]);else if(Xs(a)){const i=e[a],s=n[a];s&&i!==s&&!(De(i)&&i.includes(s))&&(e[a]=i?[].concat(i,s):s)}else a!==""&&(e[a]=n[a])}return e}function xr(t,e,r,n=null){vr(t,e,7,[r,n])}const Fy=zh();let Ry=0;function Oy(t,e,r){const n=t.type,a=(e?e.appContext:t.appContext)||Fy,i={uid:Ry++,vnode:t,type:n,parent:e,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,scope:new nm(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(a.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:jh(n,a),emitsOptions:ev(n,a),emit:null,emitted:null,propsDefaults:Ze,inheritAttrs:n.inheritAttrs,ctx:Ze,data:Ze,props:Ze,attrs:Ze,slots:Ze,refs:Ze,setupState:Ze,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=wy.bind(null,i),t.ce&&t.ce(i),i}let St=null,Ls,cu;{const t=ah(),e=(r,n)=>{let a;return(a=t[r])||(a=t[r]=[]),a.push(n),i=>{a.length>1?a.forEach(s=>s(i)):a[0](i)}};Ls=e("__VUE_INSTANCE_SETTERS__",r=>St=r),cu=e("__VUE_SSR_SETTERS__",r=>co=r)}const Ii=t=>{const e=St;return Ls(t),t.scope.on(),()=>{t.scope.off(),Ls(e)}},cf=()=>{St&&St.scope.off(),Ls(null)};function nv(t){return t.vnode.shapeFlag&4}let co=!1;function Iy(t,e=!1,r=!1){e&&cu(e);const{props:n,children:a}=t.vnode,i=nv(t);iy(t,n,i,e),uy(t,a,r);const s=i?Ly(t,e):void 0;return e&&cu(!1),s}function Ly(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Zm);const{setup:n}=r;if(n){const a=t.setupContext=n.length>1?$y(t):null,i=Ii(t);dn();const s=en(n,t,0,[t.props,a]);if(hn(),i(),eh(s)){if(s.then(cf,cf),e)return s.then(o=>{ff(t,o,e)}).catch(o=>{ro(o,t,0)});t.asyncDep=s}else ff(t,s,e)}else av(t,e)}function ff(t,e,r){Se(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Qe(e)&&(t.setupState=Bh(e)),av(t,r)}let df;function av(t,e,r){const n=t.type;if(!t.render){if(!e&&df&&!n.render){const a=n.template||tc(t).template;if(a){const{isCustomElement:i,compilerOptions:s}=t.appContext.config,{delimiters:o,compilerOptions:u}=n,l=Tt(Tt({isCustomElement:i,delimiters:o},s),u);n.render=df(a,l)}}t.render=n.render||rr}{const a=Ii(t);dn();try{Qm(t)}finally{hn(),a()}}}const My={get(t,e){return Vt(t,"get",""),t[e]}};function $y(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,My),slots:t.slots,emit:t.emit,expose:e}}function fo(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Bh(Bm(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in ui)return ui[r](t)},has(e,r){return r in e||r in ui}})):t.proxy}function Ny(t,e=!0){return Se(t)?t.displayName||t.name:t.name||e&&t.__name}function zy(t){return Se(t)&&"__vccOpts"in t}const hr=(t,e)=>Am(t,e,co);function iv(t,e,r){const n=arguments.length;return n===2?Qe(e)&&!De(e)?Is(e)?gt(t,null,[e]):gt(t,e):gt(t,null,e):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&Is(r)&&(r=[r]),gt(t,e,r))}const Hy="3.4.38";/**
* @vue/runtime-dom v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const qy="http://www.w3.org/2000/svg",Vy="http://www.w3.org/1998/Math/MathML",Pr=typeof document<"u"?document:null,hf=Pr&&Pr.createElement("template"),Uy={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const a=e==="svg"?Pr.createElementNS(qy,t):e==="mathml"?Pr.createElementNS(Vy,t):r?Pr.createElement(t,{is:r}):Pr.createElement(t);return t==="select"&&n&&n.multiple!=null&&a.setAttribute("multiple",n.multiple),a},createText:t=>Pr.createTextNode(t),createComment:t=>Pr.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Pr.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,n,a,i){const s=r?r.previousSibling:e.lastChild;if(a&&(a===i||a.nextSibling))for(;e.insertBefore(a.cloneNode(!0),r),!(a===i||!(a=a.nextSibling)););else{hf.innerHTML=n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t;const o=hf.content;if(n==="svg"||n==="mathml"){const u=o.firstChild;for(;u.firstChild;)o.appendChild(u.firstChild);o.removeChild(u)}e.insertBefore(o,r)}return[s?s.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},jy=Symbol("_vtc");function Wy(t,e,r){const n=t[jy];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const Ms=Symbol("_vod"),sv=Symbol("_vsh"),vf={beforeMount(t,{value:e},{transition:r}){t[Ms]=t.style.display==="none"?"":t.style.display,r&&e?r.beforeEnter(t):Ua(t,e)},mounted(t,{value:e},{transition:r}){r&&e&&r.enter(t)},updated(t,{value:e,oldValue:r},{transition:n}){!e!=!r&&(n?e?(n.beforeEnter(t),Ua(t,!0),n.enter(t)):n.leave(t,()=>{Ua(t,!1)}):Ua(t,e))},beforeUnmount(t,{value:e}){Ua(t,e)}};function Ua(t,e){t.style.display=e?t[Ms]:"none",t[sv]=!e}const Ky=Symbol(""),Gy=/(^|;)\s*display\s*:/;function Yy(t,e,r){const n=t.style,a=it(r);let i=!1;if(r&&!a){if(e)if(it(e))for(const s of e.split(";")){const o=s.slice(0,s.indexOf(":")).trim();r[o]==null&&Es(n,o,"")}else for(const s in e)r[s]==null&&Es(n,s,"");for(const s in r)s==="display"&&(i=!0),Es(n,s,r[s])}else if(a){if(e!==r){const s=n[Ky];s&&(r+=";"+s),n.cssText=r,i=Gy.test(r)}}else e&&t.removeAttribute("style");Ms in t&&(t[Ms]=i?n.display:"",t[sv]&&(n.display="none"))}const pf=/\s*!important$/;function Es(t,e,r){if(De(r))r.forEach(n=>Es(t,e,n));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const n=Xy(t,e);pf.test(r)?t.setProperty(Hn(n),r.replace(pf,""),"important"):t[n]=r}}const gf=["Webkit","Moz","ms"],Ko={};function Xy(t,e){const r=Ko[e];if(r)return r;let n=gr(e);if(n!=="filter"&&n in t)return Ko[e]=n;n=Js(n);for(let a=0;a<gf.length;a++){const i=gf[a]+n;if(i in t)return Ko[e]=i}return e}const mf="http://www.w3.org/1999/xlink";function yf(t,e,r,n,a,i=rm(e)){n&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(mf,e.slice(6,e.length)):t.setAttributeNS(mf,e,r):r==null||i&&!ih(r)?t.removeAttribute(e):t.setAttribute(e,i?"":fn(r)?String(r):r)}function Zy(t,e,r,n){if(e==="innerHTML"||e==="textContent"){if(r==null)return;t[e]=r;return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){const s=a==="OPTION"?t.getAttribute("value")||"":t.value,o=r==null?"":String(r);(s!==o||!("_value"in t))&&(t.value=o),r==null&&t.removeAttribute(e),t._value=r;return}let i=!1;if(r===""||r==null){const s=typeof t[e];s==="boolean"?r=ih(r):r==null&&s==="string"?(r="",i=!0):s==="number"&&(r=0,i=!0)}try{t[e]=r}catch{}i&&t.removeAttribute(e)}function Qy(t,e,r,n){t.addEventListener(e,r,n)}function Jy(t,e,r,n){t.removeEventListener(e,r,n)}const xf=Symbol("_vei");function ex(t,e,r,n,a=null){const i=t[xf]||(t[xf]={}),s=i[e];if(n&&s)s.value=n;else{const[o,u]=tx(e);if(n){const l=i[e]=ax(n,a);Qy(t,o,l,u)}else s&&(Jy(t,o,s,u),i[e]=void 0)}}const bf=/(?:Once|Passive|Capture)$/;function tx(t){let e;if(bf.test(t)){e={};let n;for(;n=t.match(bf);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Hn(t.slice(2)),e]}let Go=0;const rx=Promise.resolve(),nx=()=>Go||(rx.then(()=>Go=0),Go=Date.now());function ax(t,e){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;vr(ix(n,r.value),e,5,[n])};return r.value=t,r.attached=nx(),r}function ix(t,e){if(De(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>a=>!a._stopped&&n&&n(a))}else return e}const wf=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,sx=(t,e,r,n,a,i)=>{const s=a==="svg";e==="class"?Wy(t,n,s):e==="style"?Yy(t,r,n):Xs(e)?$u(e)||ex(t,e,r,n,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):ox(t,e,n,s))?(Zy(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&yf(t,e,n,s,i,e!=="value")):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),yf(t,e,n,s))};function ox(t,e,r,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&wf(e)&&Se(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const a=t.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return wf(e)&&it(r)?!1:e in t}const lx=["ctrl","shift","alt","meta"],ux={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>lx.some(r=>t[`${r}Key`]&&!e.includes(r))},cx=(t,e)=>{const r=t._withMods||(t._withMods={}),n=e.join(".");return r[n]||(r[n]=(a,...i)=>{for(let s=0;s<e.length;s++){const o=ux[e[s]];if(o&&o(a,e))return}return t(a,...i)})},fx=Tt({patchProp:sx},Uy);let Ef;function dx(){return Ef||(Ef=hy(fx))}const hx=(...t)=>{const e=dx().createApp(...t),{mount:r}=e;return e.mount=n=>{const a=px(n);if(!a)return;const i=e._component;!Se(i)&&!i.render&&!i.template&&(i.template=a.innerHTML),a.innerHTML="";const s=r(a,!1,vx(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),s},e};function vx(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function px(t){return it(t)?document.querySelector(t):t}/*!
  * vue-router v4.4.3
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const sa=typeof document<"u";function gx(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const He=Object.assign;function Yo(t,e){const r={};for(const n in e){const a=e[n];r[n]=mr(a)?a.map(t):t(a)}return r}const fi=()=>{},mr=Array.isArray,ov=/#/g,mx=/&/g,yx=/\//g,xx=/=/g,bx=/\?/g,lv=/\+/g,wx=/%5B/g,Ex=/%5D/g,uv=/%5E/g,Cx=/%60/g,cv=/%7B/g,_x=/%7C/g,fv=/%7D/g,Bx=/%20/g;function ic(t){return encodeURI(""+t).replace(_x,"|").replace(wx,"[").replace(Ex,"]")}function Ax(t){return ic(t).replace(cv,"{").replace(fv,"}").replace(uv,"^")}function fu(t){return ic(t).replace(lv,"%2B").replace(Bx,"+").replace(ov,"%23").replace(mx,"%26").replace(Cx,"`").replace(cv,"{").replace(fv,"}").replace(uv,"^")}function Dx(t){return fu(t).replace(xx,"%3D")}function Sx(t){return ic(t).replace(ov,"%23").replace(bx,"%3F")}function kx(t){return t==null?"":Sx(t).replace(yx,"%2F")}function wi(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const Tx=/\/$/,Px=t=>t.replace(Tx,"");function Xo(t,e,r="/"){let n,a={},i="",s="";const o=e.indexOf("#");let u=e.indexOf("?");return o<u&&o>=0&&(u=-1),u>-1&&(n=e.slice(0,u),i=e.slice(u+1,o>-1?o:e.length),a=t(i)),o>-1&&(n=n||e.slice(0,o),s=e.slice(o,e.length)),n=Ix(n??e,r),{fullPath:n+(i&&"?")+i+s,path:n,query:a,hash:wi(s)}}function Fx(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function Cf(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Rx(t,e,r){const n=e.matched.length-1,a=r.matched.length-1;return n>-1&&n===a&&Ea(e.matched[n],r.matched[a])&&dv(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function Ea(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function dv(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!Ox(t[r],e[r]))return!1;return!0}function Ox(t,e){return mr(t)?_f(t,e):mr(e)?_f(e,t):t===e}function _f(t,e){return mr(e)?t.length===e.length&&t.every((r,n)=>r===e[n]):t.length===1&&t[0]===e}function Ix(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),n=t.split("/"),a=n[n.length-1];(a===".."||a===".")&&n.push("");let i=r.length-1,s,o;for(s=0;s<n.length;s++)if(o=n[s],o!==".")if(o==="..")i>1&&i--;else break;return r.slice(0,i).join("/")+"/"+n.slice(s).join("/")}const Hr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Ei;(function(t){t.pop="pop",t.push="push"})(Ei||(Ei={}));var di;(function(t){t.back="back",t.forward="forward",t.unknown=""})(di||(di={}));function Lx(t){if(!t)if(sa){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Px(t)}const Mx=/^[^#]+#/;function $x(t,e){return t.replace(Mx,"#")+e}function Nx(t,e){const r=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-r.left-(e.left||0),top:n.top-r.top-(e.top||0)}}const ho=()=>({left:window.scrollX,top:window.scrollY});function zx(t){let e;if("el"in t){const r=t.el,n=typeof r=="string"&&r.startsWith("#"),a=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!a)return;e=Nx(a,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Bf(t,e){return(history.state?history.state.position-e:-1)+t}const du=new Map;function Hx(t,e){du.set(t,e)}function qx(t){const e=du.get(t);return du.delete(t),e}let Vx=()=>location.protocol+"//"+location.host;function hv(t,e){const{pathname:r,search:n,hash:a}=e,i=t.indexOf("#");if(i>-1){let o=a.includes(t.slice(i))?t.slice(i).length:1,u=a.slice(o);return u[0]!=="/"&&(u="/"+u),Cf(u,"")}return Cf(r,t)+n+a}function Ux(t,e,r,n){let a=[],i=[],s=null;const o=({state:d})=>{const h=hv(t,location),v=r.value,y=e.value;let p=0;if(d){if(r.value=h,e.value=d,s&&s===v){s=null;return}p=y?d.position-y.position:0}else n(h);a.forEach(m=>{m(r.value,v,{delta:p,type:Ei.pop,direction:p?p>0?di.forward:di.back:di.unknown})})};function u(){s=r.value}function l(d){a.push(d);const h=()=>{const v=a.indexOf(d);v>-1&&a.splice(v,1)};return i.push(h),h}function c(){const{history:d}=window;d.state&&d.replaceState(He({},d.state,{scroll:ho()}),"")}function f(){for(const d of i)d();i=[],window.removeEventListener("popstate",o),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",o),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:u,listen:l,destroy:f}}function Af(t,e,r,n=!1,a=!1){return{back:t,current:e,forward:r,replaced:n,position:window.history.length,scroll:a?ho():null}}function jx(t){const{history:e,location:r}=window,n={value:hv(t,r)},a={value:e.state};a.value||i(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(u,l,c){const f=t.indexOf("#"),d=f>-1?(r.host&&document.querySelector("base")?t:t.slice(f))+u:Vx()+t+u;try{e[c?"replaceState":"pushState"](l,"",d),a.value=l}catch(h){console.error(h),r[c?"replace":"assign"](d)}}function s(u,l){const c=He({},e.state,Af(a.value.back,u,a.value.forward,!0),l,{position:a.value.position});i(u,c,!0),n.value=u}function o(u,l){const c=He({},a.value,e.state,{forward:u,scroll:ho()});i(c.current,c,!0);const f=He({},Af(n.value,u,null),{position:c.position+1},l);i(u,f,!1),n.value=u}return{location:n,state:a,push:o,replace:s}}function Wx(t){t=Lx(t);const e=jx(t),r=Ux(t,e.state,e.location,e.replace);function n(i,s=!0){s||r.pauseListeners(),history.go(i)}const a=He({location:"",base:t,go:n,createHref:$x.bind(null,t)},e,r);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>e.state.value}),a}function Kx(t){return typeof t=="string"||t&&typeof t=="object"}function vv(t){return typeof t=="string"||typeof t=="symbol"}const pv=Symbol("");var Df;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Df||(Df={}));function Ca(t,e){return He(new Error,{type:t,[pv]:!0},e)}function kr(t,e){return t instanceof Error&&pv in t&&(e==null||!!(t.type&e))}const Sf="[^/]+?",Gx={sensitive:!1,strict:!1,start:!0,end:!0},Yx=/[.+*?^${}()[\]/\\]/g;function Xx(t,e){const r=He({},Gx,e),n=[];let a=r.start?"^":"";const i=[];for(const l of t){const c=l.length?[]:[90];r.strict&&!l.length&&(a+="/");for(let f=0;f<l.length;f++){const d=l[f];let h=40+(r.sensitive?.25:0);if(d.type===0)f||(a+="/"),a+=d.value.replace(Yx,"\\$&"),h+=40;else if(d.type===1){const{value:v,repeatable:y,optional:p,regexp:m}=d;i.push({name:v,repeatable:y,optional:p});const g=m||Sf;if(g!==Sf){h+=10;try{new RegExp(`(${g})`)}catch(b){throw new Error(`Invalid custom RegExp for param "${v}" (${g}): `+b.message)}}let x=y?`((?:${g})(?:/(?:${g}))*)`:`(${g})`;f||(x=p&&l.length<2?`(?:/${x})`:"/"+x),p&&(x+="?"),a+=x,h+=20,p&&(h+=-8),y&&(h+=-20),g===".*"&&(h+=-50)}c.push(h)}n.push(c)}if(r.strict&&r.end){const l=n.length-1;n[l][n[l].length-1]+=.7000000000000001}r.strict||(a+="/?"),r.end?a+="$":r.strict&&(a+="(?:/|$)");const s=new RegExp(a,r.sensitive?"":"i");function o(l){const c=l.match(s),f={};if(!c)return null;for(let d=1;d<c.length;d++){const h=c[d]||"",v=i[d-1];f[v.name]=h&&v.repeatable?h.split("/"):h}return f}function u(l){let c="",f=!1;for(const d of t){(!f||!c.endsWith("/"))&&(c+="/"),f=!1;for(const h of d)if(h.type===0)c+=h.value;else if(h.type===1){const{value:v,repeatable:y,optional:p}=h,m=v in l?l[v]:"";if(mr(m)&&!y)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const g=mr(m)?m.join("/"):m;if(!g)if(p)d.length<2&&(c.endsWith("/")?c=c.slice(0,-1):f=!0);else throw new Error(`Missing required param "${v}"`);c+=g}}return c||"/"}return{re:s,score:n,keys:i,parse:o,stringify:u}}function Zx(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=e[r]-t[r];if(n)return n;r++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function gv(t,e){let r=0;const n=t.score,a=e.score;for(;r<n.length&&r<a.length;){const i=Zx(n[r],a[r]);if(i)return i;r++}if(Math.abs(a.length-n.length)===1){if(kf(n))return 1;if(kf(a))return-1}return a.length-n.length}function kf(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Qx={type:0,value:""},Jx=/[a-zA-Z0-9_]/;function e1(t){if(!t)return[[]];if(t==="/")return[[Qx]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${r})/"${l}": ${h}`)}let r=0,n=r;const a=[];let i;function s(){i&&a.push(i),i=[]}let o=0,u,l="",c="";function f(){l&&(r===0?i.push({type:0,value:l}):r===1||r===2||r===3?(i.length>1&&(u==="*"||u==="+")&&e(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:l,regexp:c,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):e("Invalid state to consume buffer"),l="")}function d(){l+=u}for(;o<t.length;){if(u=t[o++],u==="\\"&&r!==2){n=r,r=4;continue}switch(r){case 0:u==="/"?(l&&f(),s()):u===":"?(f(),r=1):d();break;case 4:d(),r=n;break;case 1:u==="("?r=2:Jx.test(u)?d():(f(),r=0,u!=="*"&&u!=="?"&&u!=="+"&&o--);break;case 2:u===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+u:r=3:c+=u;break;case 3:f(),r=0,u!=="*"&&u!=="?"&&u!=="+"&&o--,c="";break;default:e("Unknown state");break}}return r===2&&e(`Unfinished custom RegExp for param "${l}"`),f(),s(),a}function t1(t,e,r){const n=Xx(e1(t.path),r),a=He(n,{record:t,parent:e,children:[],alias:[]});return e&&!a.record.aliasOf==!e.record.aliasOf&&e.children.push(a),a}function r1(t,e){const r=[],n=new Map;e=Ff({strict:!1,end:!0,sensitive:!1},e);function a(f){return n.get(f)}function i(f,d,h){const v=!h,y=n1(f);y.aliasOf=h&&h.record;const p=Ff(e,f),m=[y];if("alias"in f){const b=typeof f.alias=="string"?[f.alias]:f.alias;for(const C of b)m.push(He({},y,{components:h?h.record.components:y.components,path:C,aliasOf:h?h.record:y}))}let g,x;for(const b of m){const{path:C}=b;if(d&&C[0]!=="/"){const E=d.record.path,w=E[E.length-1]==="/"?"":"/";b.path=d.record.path+(C&&w+C)}if(g=t1(b,d,p),h?h.alias.push(g):(x=x||g,x!==g&&x.alias.push(g),v&&f.name&&!Pf(g)&&s(f.name)),mv(g)&&u(g),y.children){const E=y.children;for(let w=0;w<E.length;w++)i(E[w],g,h&&h.children[w])}h=h||g}return x?()=>{s(x)}:fi}function s(f){if(vv(f)){const d=n.get(f);d&&(n.delete(f),r.splice(r.indexOf(d),1),d.children.forEach(s),d.alias.forEach(s))}else{const d=r.indexOf(f);d>-1&&(r.splice(d,1),f.record.name&&n.delete(f.record.name),f.children.forEach(s),f.alias.forEach(s))}}function o(){return r}function u(f){const d=s1(f,r);r.splice(d,0,f),f.record.name&&!Pf(f)&&n.set(f.record.name,f)}function l(f,d){let h,v={},y,p;if("name"in f&&f.name){if(h=n.get(f.name),!h)throw Ca(1,{location:f});p=h.record.name,v=He(Tf(d.params,h.keys.filter(x=>!x.optional).concat(h.parent?h.parent.keys.filter(x=>x.optional):[]).map(x=>x.name)),f.params&&Tf(f.params,h.keys.map(x=>x.name))),y=h.stringify(v)}else if(f.path!=null)y=f.path,h=r.find(x=>x.re.test(y)),h&&(v=h.parse(y),p=h.record.name);else{if(h=d.name?n.get(d.name):r.find(x=>x.re.test(d.path)),!h)throw Ca(1,{location:f,currentLocation:d});p=h.record.name,v=He({},d.params,f.params),y=h.stringify(v)}const m=[];let g=h;for(;g;)m.unshift(g.record),g=g.parent;return{name:p,path:y,params:v,matched:m,meta:i1(m)}}t.forEach(f=>i(f));function c(){r.length=0,n.clear()}return{addRoute:i,resolve:l,removeRoute:s,clearRoutes:c,getRoutes:o,getRecordMatcher:a}}function Tf(t,e){const r={};for(const n of e)n in t&&(r[n]=t[n]);return r}function n1(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:a1(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function a1(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const n in t.components)e[n]=typeof r=="object"?r[n]:r;return e}function Pf(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function i1(t){return t.reduce((e,r)=>He(e,r.meta),{})}function Ff(t,e){const r={};for(const n in t)r[n]=n in e?e[n]:t[n];return r}function s1(t,e){let r=0,n=e.length;for(;r!==n;){const i=r+n>>1;gv(t,e[i])<0?n=i:r=i+1}const a=o1(t);return a&&(n=e.lastIndexOf(a,n-1)),n}function o1(t){let e=t;for(;e=e.parent;)if(mv(e)&&gv(t,e)===0)return e}function mv({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function l1(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let a=0;a<n.length;++a){const i=n[a].replace(lv," "),s=i.indexOf("="),o=wi(s<0?i:i.slice(0,s)),u=s<0?null:wi(i.slice(s+1));if(o in e){let l=e[o];mr(l)||(l=e[o]=[l]),l.push(u)}else e[o]=u}return e}function Rf(t){let e="";for(let r in t){const n=t[r];if(r=Dx(r),n==null){n!==void 0&&(e+=(e.length?"&":"")+r);continue}(mr(n)?n.map(i=>i&&fu(i)):[n&&fu(n)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+r,i!=null&&(e+="="+i))})}return e}function u1(t){const e={};for(const r in t){const n=t[r];n!==void 0&&(e[r]=mr(n)?n.map(a=>a==null?null:""+a):n==null?n:""+n)}return e}const c1=Symbol(""),Of=Symbol(""),sc=Symbol(""),yv=Symbol(""),hu=Symbol("");function ja(){let t=[];function e(n){return t.push(n),()=>{const a=t.indexOf(n);a>-1&&t.splice(a,1)}}function r(){t=[]}return{add:e,list:()=>t.slice(),reset:r}}function Kr(t,e,r,n,a,i=s=>s()){const s=n&&(n.enterCallbacks[a]=n.enterCallbacks[a]||[]);return()=>new Promise((o,u)=>{const l=d=>{d===!1?u(Ca(4,{from:r,to:e})):d instanceof Error?u(d):Kx(d)?u(Ca(2,{from:e,to:d})):(s&&n.enterCallbacks[a]===s&&typeof d=="function"&&s.push(d),o())},c=i(()=>t.call(n&&n.instances[a],e,r,l));let f=Promise.resolve(c);t.length<3&&(f=f.then(l)),f.catch(d=>u(d))})}function Zo(t,e,r,n,a=i=>i()){const i=[];for(const s of t)for(const o in s.components){let u=s.components[o];if(!(e!=="beforeRouteEnter"&&!s.instances[o]))if(f1(u)){const c=(u.__vccOpts||u)[e];c&&i.push(Kr(c,r,n,s,o,a))}else{let l=u();i.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${s.path}"`));const f=gx(c)?c.default:c;s.components[o]=f;const h=(f.__vccOpts||f)[e];return h&&Kr(h,r,n,s,o,a)()}))}}return i}function f1(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function If(t){const e=Rr(sc),r=Rr(yv),n=hr(()=>{const u=da(t.to);return e.resolve(u)}),a=hr(()=>{const{matched:u}=n.value,{length:l}=u,c=u[l-1],f=r.matched;if(!c||!f.length)return-1;const d=f.findIndex(Ea.bind(null,c));if(d>-1)return d;const h=Lf(u[l-2]);return l>1&&Lf(c)===h&&f[f.length-1].path!==h?f.findIndex(Ea.bind(null,u[l-2])):d}),i=hr(()=>a.value>-1&&p1(r.params,n.value.params)),s=hr(()=>a.value>-1&&a.value===r.matched.length-1&&dv(r.params,n.value.params));function o(u={}){return v1(u)?e[da(t.replace)?"replace":"push"](da(t.to)).catch(fi):Promise.resolve()}return{route:n,href:hr(()=>n.value.href),isActive:i,isExactActive:s,navigate:o}}const d1=Fh({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:If,setup(t,{slots:e}){const r=to(If(t)),{options:n}=Rr(sc),a=hr(()=>({[Mf(t.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[Mf(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const i=e.default&&e.default(r);return t.custom?i:iv("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:a.value},i)}}}),h1=d1;function v1(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function p1(t,e){for(const r in e){const n=e[r],a=t[r];if(typeof n=="string"){if(n!==a)return!1}else if(!mr(a)||a.length!==n.length||n.some((i,s)=>i!==a[s]))return!1}return!0}function Lf(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Mf=(t,e,r)=>t??e??r,g1=Fh({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const n=Rr(hu),a=hr(()=>t.route||n.value),i=Rr(Of,0),s=hr(()=>{let l=da(i);const{matched:c}=a.value;let f;for(;(f=c[l])&&!f.components;)l++;return l}),o=hr(()=>a.value.matched[s.value]);ys(Of,hr(()=>s.value+1)),ys(c1,o),ys(hu,a);const u=Dm();return xs(()=>[u.value,o.value,t.name],([l,c,f],[d,h,v])=>{c&&(c.instances[f]=l,h&&h!==c&&l&&l===d&&(c.leaveGuards.size||(c.leaveGuards=h.leaveGuards),c.updateGuards.size||(c.updateGuards=h.updateGuards))),l&&c&&(!h||!Ea(c,h)||!d)&&(c.enterCallbacks[f]||[]).forEach(y=>y(l))},{flush:"post"}),()=>{const l=a.value,c=t.name,f=o.value,d=f&&f.components[c];if(!d)return $f(r.default,{Component:d,route:l});const h=f.props[c],v=h?h===!0?l.params:typeof h=="function"?h(l):h:null,p=iv(d,He({},v,e,{onVnodeUnmounted:m=>{m.component.isUnmounted&&(f.instances[c]=null)},ref:u}));return $f(r.default,{Component:p,route:l})||p}}});function $f(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const m1=g1;function y1(t){const e=r1(t.routes,t),r=t.parseQuery||l1,n=t.stringifyQuery||Rf,a=t.history,i=ja(),s=ja(),o=ja(),u=Sm(Hr);let l=Hr;sa&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Yo.bind(null,V=>""+V),f=Yo.bind(null,kx),d=Yo.bind(null,wi);function h(V,H){let N,K;return vv(V)?(N=e.getRecordMatcher(V),K=H):K=V,e.addRoute(K,N)}function v(V){const H=e.getRecordMatcher(V);H&&e.removeRoute(H)}function y(){return e.getRoutes().map(V=>V.record)}function p(V){return!!e.getRecordMatcher(V)}function m(V,H){if(H=He({},H||u.value),typeof V=="string"){const F=Xo(r,V,H.path),q=e.resolve({path:F.path},H),Z=a.createHref(F.fullPath);return He(F,q,{params:d(q.params),hash:wi(F.hash),redirectedFrom:void 0,href:Z})}let N;if(V.path!=null)N=He({},V,{path:Xo(r,V.path,H.path).path});else{const F=He({},V.params);for(const q in F)F[q]==null&&delete F[q];N=He({},V,{params:f(F)}),H.params=f(H.params)}const K=e.resolve(N,H),ne=V.hash||"";K.params=c(d(K.params));const he=Fx(n,He({},V,{hash:Ax(ne),path:K.path})),R=a.createHref(he);return He({fullPath:he,hash:ne,query:n===Rf?u1(V.query):V.query||{}},K,{redirectedFrom:void 0,href:R})}function g(V){return typeof V=="string"?Xo(r,V,u.value.path):He({},V)}function x(V,H){if(l!==V)return Ca(8,{from:H,to:V})}function b(V){return w(V)}function C(V){return b(He(g(V),{replace:!0}))}function E(V){const H=V.matched[V.matched.length-1];if(H&&H.redirect){const{redirect:N}=H;let K=typeof N=="function"?N(V):N;return typeof K=="string"&&(K=K.includes("?")||K.includes("#")?K=g(K):{path:K},K.params={}),He({query:V.query,hash:V.hash,params:K.path!=null?{}:V.params},K)}}function w(V,H){const N=l=m(V),K=u.value,ne=V.state,he=V.force,R=V.replace===!0,F=E(N);if(F)return w(He(g(F),{state:typeof F=="object"?He({},ne,F.state):ne,force:he,replace:R}),H||N);const q=N;q.redirectedFrom=H;let Z;return!he&&Rx(n,K,N)&&(Z=Ca(16,{to:q,from:K}),I(K,K,!0,!1)),(Z?Promise.resolve(Z):_(q,K)).catch(Y=>kr(Y)?kr(Y,2)?Y:X(Y):z(Y,q,K)).then(Y=>{if(Y){if(kr(Y,2))return w(He({replace:R},g(Y.to),{state:typeof Y.to=="object"?He({},ne,Y.to.state):ne,force:he}),H||q)}else Y=S(q,K,!0,R,ne);return A(q,K,Y),Y})}function B(V,H){const N=x(V,H);return N?Promise.reject(N):Promise.resolve()}function D(V){const H=j.values().next().value;return H&&typeof H.runWithContext=="function"?H.runWithContext(V):V()}function _(V,H){let N;const[K,ne,he]=x1(V,H);N=Zo(K.reverse(),"beforeRouteLeave",V,H);for(const F of K)F.leaveGuards.forEach(q=>{N.push(Kr(q,V,H))});const R=B.bind(null,V,H);return N.push(R),se(N).then(()=>{N=[];for(const F of i.list())N.push(Kr(F,V,H));return N.push(R),se(N)}).then(()=>{N=Zo(ne,"beforeRouteUpdate",V,H);for(const F of ne)F.updateGuards.forEach(q=>{N.push(Kr(q,V,H))});return N.push(R),se(N)}).then(()=>{N=[];for(const F of he)if(F.beforeEnter)if(mr(F.beforeEnter))for(const q of F.beforeEnter)N.push(Kr(q,V,H));else N.push(Kr(F.beforeEnter,V,H));return N.push(R),se(N)}).then(()=>(V.matched.forEach(F=>F.enterCallbacks={}),N=Zo(he,"beforeRouteEnter",V,H,D),N.push(R),se(N))).then(()=>{N=[];for(const F of s.list())N.push(Kr(F,V,H));return N.push(R),se(N)}).catch(F=>kr(F,8)?F:Promise.reject(F))}function A(V,H,N){o.list().forEach(K=>D(()=>K(V,H,N)))}function S(V,H,N,K,ne){const he=x(V,H);if(he)return he;const R=H===Hr,F=sa?history.state:{};N&&(K||R?a.replace(V.fullPath,He({scroll:R&&F&&F.scroll},ne)):a.push(V.fullPath,ne)),u.value=V,I(V,H,N,R),X()}let P;function T(){P||(P=a.listen((V,H,N)=>{if(!oe.listening)return;const K=m(V),ne=E(K);if(ne){w(He(ne,{replace:!0}),K).catch(fi);return}l=K;const he=u.value;sa&&Hx(Bf(he.fullPath,N.delta),ho()),_(K,he).catch(R=>kr(R,12)?R:kr(R,2)?(w(R.to,K).then(F=>{kr(F,20)&&!N.delta&&N.type===Ei.pop&&a.go(-1,!1)}).catch(fi),Promise.reject()):(N.delta&&a.go(-N.delta,!1),z(R,K,he))).then(R=>{R=R||S(K,he,!1),R&&(N.delta&&!kr(R,8)?a.go(-N.delta,!1):N.type===Ei.pop&&kr(R,20)&&a.go(-1,!1)),A(K,he,R)}).catch(fi)}))}let $=ja(),O=ja(),M;function z(V,H,N){X(V);const K=O.list();return K.length?K.forEach(ne=>ne(V,H,N)):console.error(V),Promise.reject(V)}function G(){return M&&u.value!==Hr?Promise.resolve():new Promise((V,H)=>{$.add([V,H])})}function X(V){return M||(M=!V,T(),$.list().forEach(([H,N])=>V?N(V):H()),$.reset()),V}function I(V,H,N,K){const{scrollBehavior:ne}=t;if(!sa||!ne)return Promise.resolve();const he=!N&&qx(Bf(V.fullPath,0))||(K||!N)&&history.state&&history.state.scroll||null;return Dh().then(()=>ne(V,H,he)).then(R=>R&&zx(R)).catch(R=>z(R,V,H))}const L=V=>a.go(V);let U;const j=new Set,oe={currentRoute:u,listening:!0,addRoute:h,removeRoute:v,clearRoutes:e.clearRoutes,hasRoute:p,getRoutes:y,resolve:m,options:t,push:b,replace:C,go:L,back:()=>L(-1),forward:()=>L(1),beforeEach:i.add,beforeResolve:s.add,afterEach:o.add,onError:O.add,isReady:G,install(V){const H=this;V.component("RouterLink",h1),V.component("RouterView",m1),V.config.globalProperties.$router=H,Object.defineProperty(V.config.globalProperties,"$route",{enumerable:!0,get:()=>da(u)}),sa&&!U&&u.value===Hr&&(U=!0,b(a.location).catch(ne=>{}));const N={};for(const ne in Hr)Object.defineProperty(N,ne,{get:()=>u.value[ne],enumerable:!0});V.provide(sc,H),V.provide(yv,xh(N)),V.provide(hu,u);const K=V.unmount;j.add(V),V.unmount=function(){j.delete(V),j.size<1&&(l=Hr,P&&P(),P=null,u.value=Hr,U=!1,M=!1),K()}}};function se(V){return V.reduce((H,N)=>H.then(()=>D(N)),Promise.resolve())}return oe}function x1(t,e){const r=[],n=[],a=[],i=Math.max(e.matched.length,t.matched.length);for(let s=0;s<i;s++){const o=e.matched[s];o&&(t.matched.find(l=>Ea(l,o))?n.push(o):r.push(o));const u=t.matched[s];u&&(e.matched.find(l=>Ea(l,u))||a.push(u))}return[r,n,a]}function xv(t,e){return lt(),$t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[ve("path",{"fill-rule":"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z","clip-rule":"evenodd"})])}const b1="modulepreload",w1=function(t){return"/"+t},Nf={},_a=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),s=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.all(r.map(o=>{if(o=w1(o),o in Nf)return;Nf[o]=!0;const u=o.endsWith(".css"),l=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${l}`))return;const c=document.createElement("link");if(c.rel=u?"stylesheet":b1,u||(c.as="script",c.crossOrigin=""),c.href=o,s&&c.setAttribute("nonce",s),document.head.appendChild(c),u)return new Promise((f,d)=>{c.addEventListener("load",f),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${o}`)))})}))}return a.then(()=>e()).catch(i=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i})},E1=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>_a(async()=>{const{default:n}=await Promise.resolve().then(()=>Ta);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class oc extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class C1 extends oc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class _1 extends oc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class B1 extends oc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var vu;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(vu||(vu={}));var A1=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(c){try{l(n.next(c))}catch(f){s(f)}}function u(c){try{l(n.throw(c))}catch(f){s(f)}}function l(c){c.done?i(c.value):a(c.value).then(o,u)}l((n=n.apply(t,e||[])).next())})};class D1{constructor(e,{headers:r={},customFetch:n,region:a=vu.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=E1(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return A1(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:s}=r;let o={},{region:u}=r;u||(u=this.region),u&&u!=="any"&&(o["x-region"]=u);let l;s&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",l=s):typeof s=="string"?(o["Content-Type"]="text/plain",l=s):typeof FormData<"u"&&s instanceof FormData?l=s:(o["Content-Type"]="application/json",l=JSON.stringify(s)));const c=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),a),body:l}).catch(v=>{throw new C1(v)}),f=c.headers.get("x-relay-error");if(f&&f==="true")throw new _1(c);if(!c.ok)throw new B1(c);let d=((n=c.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),h;return d==="application/json"?h=yield c.json():d==="application/octet-stream"?h=yield c.blob():d==="text/event-stream"?h=c:d==="multipart/form-data"?h=yield c.formData():h=yield c.text(),{data:h,error:null}}catch(a){return{data:null,error:a}}})}}var Ae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function S1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function bv(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var a=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return t[n]}})}),r}var tr={},lc={},vo={},Li={},po={},go={},k1=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ba=k1();const T1=Ba.fetch,wv=Ba.fetch.bind(Ba),Ev=Ba.Headers,P1=Ba.Request,F1=Ba.Response,Ta=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ev,Request:P1,Response:F1,default:wv,fetch:T1},Symbol.toStringTag,{value:"Module"})),R1=bv(Ta);var uc={};Object.defineProperty(uc,"__esModule",{value:!0});class O1 extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}uc.default=O1;var Cv=Ae&&Ae.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(go,"__esModule",{value:!0});const I1=Cv(R1),L1=Cv(uc);let M1=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=I1.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var s,o,u;let l=null,c=null,f=null,d=i.status,h=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=m:c=JSON.parse(m))}const y=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),p=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");y&&p&&p.length>1&&(f=parseInt(p[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(l={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,f=null,d=406,h="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const y=await i.text();try{l=JSON.parse(y),Array.isArray(l)&&i.status===404&&(c=[],l=null,d=200,h="OK")}catch{i.status===404&&y===""?(d=204,h="No Content"):l={message:y}}if(l&&this.isMaybeSingle&&(!((u=l==null?void 0:l.details)===null||u===void 0)&&u.includes("0 rows"))&&(l=null,d=200,h="OK"),l&&this.shouldThrowOnError)throw new L1.default(l)}return{error:l,data:c,count:f,status:d,statusText:h}});return this.shouldThrowOnError||(a=a.catch(i=>{var s,o,u;return{error:{message:`${(s=i==null?void 0:i.name)!==null&&s!==void 0?s:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(u=i==null?void 0:i.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),a.then(e,r)}};go.default=M1;var $1=Ae&&Ae.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(po,"__esModule",{value:!0});const N1=$1(go);let z1=class extends N1.default{select(e){let r=!1;const n=(e??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const s=i?`${i}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,s=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(s,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:s="text"}={}){var o;const u=[e?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${l}"; options=${u};`,s==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};po.default=z1;var H1=Ae&&Ae.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Li,"__esModule",{value:!0});const q1=H1(po);let V1=class extends q1.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${s}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Li.default=V1;var U1=Ae&&Ae.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(vo,"__esModule",{value:!0});const Wa=U1(Li);let j1=class{constructor(e,{headers:r={},schema:n,fetch:a}){this.url=e,this.headers=r,this.schema=n,this.fetch=a}select(e,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let i=!1;const s=(e??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",s),n&&(this.headers.Prefer=`count=${n}`),new Wa.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const a="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const s=e.reduce((o,u)=>o.concat(Object.keys(u)),[]);if(s.length>0){const o=[...new Set(s)].map(u=>`"${u}"`);this.url.searchParams.set("columns",o.join(","))}}return new Wa.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){const s="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),a&&o.push(`count=${a}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const u=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(u.length>0){const l=[...new Set(u)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Wa.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),this.headers.Prefer=a.join(","),new Wa.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Wa.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};vo.default=j1;var mo={},yo={};Object.defineProperty(yo,"__esModule",{value:!0});yo.version=void 0;yo.version="0.0.0-automated";Object.defineProperty(mo,"__esModule",{value:!0});mo.DEFAULT_HEADERS=void 0;const W1=yo;mo.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${W1.version}`};var _v=Ae&&Ae.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(lc,"__esModule",{value:!0});const K1=_v(vo),G1=_v(Li),Y1=mo;let X1=class Bv{constructor(e,{headers:r={},schema:n,fetch:a}={}){this.url=e,this.headers=Object.assign(Object.assign({},Y1.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=a}from(e){const r=new URL(`${this.url}/${e}`);return new K1.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Bv(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:a=!1,count:i}={}){let s;const o=new URL(`${this.url}/rpc/${e}`);let u;n||a?(s=n?"HEAD":"GET",Object.entries(r).filter(([c,f])=>f!==void 0).map(([c,f])=>[c,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([c,f])=>{o.searchParams.append(c,f)})):(s="POST",u=r);const l=Object.assign({},this.headers);return i&&(l.Prefer=`count=${i}`),new G1.default({method:s,url:o,headers:l,schema:this.schemaName,body:u,fetch:this.fetch,allowEmpty:!1})}};lc.default=X1;var Mi=Ae&&Ae.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(tr,"__esModule",{value:!0});tr.PostgrestBuilder=tr.PostgrestTransformBuilder=tr.PostgrestFilterBuilder=tr.PostgrestQueryBuilder=tr.PostgrestClient=void 0;const Av=Mi(lc);tr.PostgrestClient=Av.default;const Dv=Mi(vo);tr.PostgrestQueryBuilder=Dv.default;const Sv=Mi(Li);tr.PostgrestFilterBuilder=Sv.default;const kv=Mi(po);tr.PostgrestTransformBuilder=kv.default;const Tv=Mi(go);tr.PostgrestBuilder=Tv.default;var Z1=tr.default={PostgrestClient:Av.default,PostgrestQueryBuilder:Dv.default,PostgrestFilterBuilder:Sv.default,PostgrestTransformBuilder:kv.default,PostgrestBuilder:Tv.default};const{PostgrestClient:Q1,PostgrestQueryBuilder:L8,PostgrestFilterBuilder:M8,PostgrestTransformBuilder:$8,PostgrestBuilder:N8}=Z1,J1="2.10.2",eb={"X-Client-Info":`realtime-js/${J1}`},tb="1.0.0",Pv=1e4,rb=1e3;var pa;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(pa||(pa={}));var Kt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Kt||(Kt={}));var cr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(cr||(cr={}));var pu;(function(t){t.websocket="websocket"})(pu||(pu={}));var Dn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Dn||(Dn={}));class nb{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const a=r.getUint8(1),i=r.getUint8(2);let s=this.HEADER_LENGTH+2;const o=n.decode(e.slice(s,s+a));s=s+a;const u=n.decode(e.slice(s,s+i));s=s+i;const l=JSON.parse(n.decode(e.slice(s,e.byteLength)));return{ref:null,topic:o,event:u,payload:l}}}class Fv{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ke;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ke||(Ke={}));const zf=(t,e,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,s)=>(i[s]=ab(s,t,e,a),i),{})},ab=(t,e,r,n)=>{const a=e.find(o=>o.name===t),i=a==null?void 0:a.type,s=r[t];return i&&!n.includes(i)?Rv(i,s):gu(s)},Rv=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return lb(e,r)}switch(t){case Ke.bool:return ib(e);case Ke.float4:case Ke.float8:case Ke.int2:case Ke.int4:case Ke.int8:case Ke.numeric:case Ke.oid:return sb(e);case Ke.json:case Ke.jsonb:return ob(e);case Ke.timestamp:return ub(e);case Ke.abstime:case Ke.date:case Ke.daterange:case Ke.int4range:case Ke.int8range:case Ke.money:case Ke.reltime:case Ke.text:case Ke.time:case Ke.timestamptz:case Ke.timetz:case Ke.tsrange:case Ke.tstzrange:return gu(e);default:return gu(e)}},gu=t=>t,ib=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},sb=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},ob=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},lb=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const s=t.slice(1,r);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(o=>Rv(e,o))}return t},ub=t=>typeof t=="string"?t.replace(" ","T"):t,Ov=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Qo{constructor(e,r,n={},a=Pv){this.channel=e,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Hf;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Hf||(Hf={}));class hi{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=hi.syncState(this.state,a,i,s),this.pendingDiffs.forEach(u=>{this.state=hi.syncDiff(this.state,u,i,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=hi.syncDiff(this.state,a,i,s),o())}),this.onJoin((a,i,s)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:s})}),this.onLeave((a,i,s)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,a){const i=this.cloneDeep(e),s=this.transformState(r),o={},u={};return this.map(i,(l,c)=>{s[l]||(u[l]=c)}),this.map(s,(l,c)=>{const f=i[l];if(f){const d=c.map(p=>p.presence_ref),h=f.map(p=>p.presence_ref),v=c.filter(p=>h.indexOf(p.presence_ref)<0),y=f.filter(p=>d.indexOf(p.presence_ref)<0);v.length>0&&(o[l]=v),y.length>0&&(u[l]=y)}else o[l]=c}),this.syncDiff(i,{joins:o,leaves:u},n,a)}static syncDiff(e,r,n,a){const{joins:i,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(o,u)=>{var l;const c=(l=e[o])!==null&&l!==void 0?l:[];if(e[o]=this.cloneDeep(u),c.length>0){const f=e[o].map(h=>h.presence_ref),d=c.filter(h=>f.indexOf(h.presence_ref)<0);e[o].unshift(...d)}n(o,c,u)}),this.map(s,(o,u)=>{let l=e[o];if(!l)return;const c=u.map(f=>f.presence_ref);l=l.filter(f=>c.indexOf(f.presence_ref)<0),e[o]=l,a(o,l,u),l.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const a=e[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var qf;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(qf||(qf={}));var Vf;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes"})(Vf||(Vf={}));var Uf;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Uf||(Uf={}));class cc{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Kt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Qo(this,cr.join,this.params,this.timeout),this.rejoinTimer=new Fv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Kt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Kt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Kt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Kt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(cr.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new hi(this),this.broadcastEndpointURL=Ov(this.socket.endPoint)+"/api/broadcast"}subscribe(e,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:s,private:o}}=this.params;this._onError(c=>e&&e("CHANNEL_ERROR",c)),this._onClose(()=>e&&e("CLOSED"));const u={},l={broadcast:i,presence:s,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(c=>c.filter))!==null&&a!==void 0?a:[],private:o};this.socket.accessToken&&(u.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:l},u)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",({postgres_changes:c})=>{var f;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),c===void 0){e&&e("SUBSCRIBED");return}else{const d=this.bindings.postgres_changes,h=(f=d==null?void 0:d.length)!==null&&f!==void 0?f:0,v=[];for(let y=0;y<h;y++){const p=d[y],{filter:{event:m,schema:g,table:x,filter:b}}=p,C=c&&c[y];if(C&&C.event===m&&C.schema===g&&C.table===x&&C.filter===b)v.push(Object.assign(Object.assign({},p),{id:C.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e("SUBSCRIBED");return}}).receive("error",c=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,a;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:s}=e,o={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,o,u;const l=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),l.receive("ok",()=>i("ok")),l.receive("error",()=>i("error")),l.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Kt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(cr.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const a=new Qo(this,cr.leave,{},e);a.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(e,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),s=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),s}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Qo(this,e,r,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var a,i;const s=e.toLocaleLowerCase(),{close:o,error:u,leave:l,join:c}=cr;if(n&&[o,u,l,c].indexOf(s)>=0&&n!==this._joinRef())return;let d=this._onMessage(s,r,n);if(r&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(h=>{var v,y,p;return((v=h.filter)===null||v===void 0?void 0:v.event)==="*"||((p=(y=h.filter)===null||y===void 0?void 0:y.event)===null||p===void 0?void 0:p.toLocaleLowerCase())===s}).map(h=>h.callback(d,n)):(i=this.bindings[s])===null||i===void 0||i.filter(h=>{var v,y,p,m,g,x;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in h){const b=h.id,C=(v=h.filter)===null||v===void 0?void 0:v.event;return b&&((y=r.ids)===null||y===void 0?void 0:y.includes(b))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((p=r.data)===null||p===void 0?void 0:p.type.toLocaleLowerCase()))}else{const b=(g=(m=h==null?void 0:h.filter)===null||m===void 0?void 0:m.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return b==="*"||b===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===s}).map(h=>{if(typeof d=="object"&&"ids"in d){const v=d.data,{schema:y,table:p,commit_timestamp:m,type:g,errors:x}=v;d=Object.assign(Object.assign({},{schema:y,table:p,commit_timestamp:m,eventType:g,new:{},old:{},errors:x}),this._getPayloadRecords(v))}h.callback(d,n)})}_isClosed(){return this.state===Kt.closed}_isJoined(){return this.state===Kt.joined}_isJoining(){return this.state===Kt.joining}_isLeaving(){return this.state===Kt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const a=e.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&cc.isEqual(a.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(cr.close,{},e)}_onError(e){this._on(cr.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Kt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=zf(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=zf(e.columns,e.old_record)),r}}const cb=()=>{},fb=typeof WebSocket<"u";class db{constructor(e,r){var n;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=eb,this.params={},this.timeout=Pv,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=cb,this.conn=null,this.sendBuffer=[],this.serializer=new nb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...o)=>_a(async()=>{const{default:u}=await Promise.resolve().then(()=>Ta);return{default:u}},void 0).then(({default:u})=>u(...o)):s=fetch,(...o)=>s(...o)},this.endPoint=`${e}/${pu.websocket}`,this.httpEndpoint=Ov(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const a=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;a&&(this.accessToken=a,this.apiKey=a),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,s)=>s(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Fv(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(fb){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new hb(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),_a(async()=>{const{default:e}=await import("./browser-CBwgMsX2.js").then(r=>r.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case pa.connecting:return Dn.Connecting;case pa.open:return Dn.Open;case pa.closing:return Dn.Closing;default:return Dn.Closed}}isConnected(){return this.connectionState()===Dn.Open}channel(e,r={config:{}}){const n=new cc(`realtime:${e}`,r,this);return this.channels.push(n),n}push(e){const{topic:r,event:n,payload:a,ref:i}=e,s=()=>{this.encode(e,o=>{var u;(u=this.conn)===null||u===void 0||u.send(o)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(e){this.accessToken=e,this.channels.forEach(r=>{e&&r.updateJoinPayload({access_token:e}),r.joinedOnce&&r._isJoined()&&r._push(cr.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:tb}))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:a,payload:i,ref:s}=r;(s&&s===this.pendingHeartbeatRef||a===(i==null?void 0:i.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${a} ${s&&"("+s+")"||""}`,i),this.channels.filter(o=>o._isMember(n)).forEach(o=>o._trigger(a,i,s)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(cr.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${n}${a}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(rb,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class hb{constructor(e,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=pa.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class fc extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function vt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class vb extends fc{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class mu extends fc{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var pb=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(c){try{l(n.next(c))}catch(f){s(f)}}function u(c){try{l(n.throw(c))}catch(f){s(f)}}function l(c){c.done?i(c.value):a(c.value).then(o,u)}l((n=n.apply(t,e||[])).next())})};const Iv=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>_a(async()=>{const{default:n}=await Promise.resolve().then(()=>Ta);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},gb=()=>pb(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield _a(()=>Promise.resolve().then(()=>Ta),void 0)).Response:Response}),yu=t=>{if(Array.isArray(t))return t.map(r=>yu(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[a]=yu(n)}),e};var qn=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(c){try{l(n.next(c))}catch(f){s(f)}}function u(c){try{l(n.throw(c))}catch(f){s(f)}}function l(c){c.done?i(c.value):a(c.value).then(o,u)}l((n=n.apply(t,e||[])).next())})};const Jo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),mb=(t,e,r)=>qn(void 0,void 0,void 0,function*(){const n=yield gb();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(a=>{e(new vb(Jo(a),t.status||500))}).catch(a=>{e(new mu(Jo(a),a))}):e(new mu(Jo(t),t))}),yb=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))};function $i(t,e,r,n,a,i){return qn(this,void 0,void 0,function*(){return new Promise((s,o)=>{t(r,yb(e,n,a,i)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>s(u)).catch(u=>mb(u,o,n))})})}function $s(t,e,r,n){return qn(this,void 0,void 0,function*(){return $i(t,"GET",e,r,n)})}function Gr(t,e,r,n,a){return qn(this,void 0,void 0,function*(){return $i(t,"POST",e,n,a,r)})}function xb(t,e,r,n,a){return qn(this,void 0,void 0,function*(){return $i(t,"PUT",e,n,a,r)})}function bb(t,e,r,n){return qn(this,void 0,void 0,function*(){return $i(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Lv(t,e,r,n,a){return qn(this,void 0,void 0,function*(){return $i(t,"DELETE",e,n,a,r)})}var zt=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(c){try{l(n.next(c))}catch(f){s(f)}}function u(c){try{l(n.throw(c))}catch(f){s(f)}}function l(c){c.done?i(c.value):a(c.value).then(o,u)}l((n=n.apply(t,e||[])).next())})};const wb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},jf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Eb{constructor(e,r={},n,a){this.url=e,this.headers=r,this.bucketId=n,this.fetch=Iv(a)}uploadOrUpdate(e,r,n,a){return zt(this,void 0,void 0,function*(){try{let i;const s=Object.assign(Object.assign({},jf),a);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const u=s.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),i.append("",n),u&&i.append("metadata",this.encodeMetadata(u))):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",s.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,u&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),a!=null&&a.headers&&(o=Object.assign(Object.assign({},o),a.headers));const l=this._removeEmptyFolders(r),c=this._getFinalPath(l),f=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:i,headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{})),d=yield f.json();return f.ok?{data:{path:l,id:d.Id,fullPath:d.Key},error:null}:{data:null,error:d}}catch(i){if(vt(i))return{data:null,error:i};throw i}})}upload(e,r,n){return zt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,a){return zt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),s=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",r);try{let u;const l=Object.assign({upsert:jf.upsert},a),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",l.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",l.cacheControl)):(u=n,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType);const f=yield this.fetch(o.toString(),{method:"PUT",body:u,headers:c}),d=yield f.json();return f.ok?{data:{path:i,fullPath:d.Key},error:null}:{data:null,error:d}}catch(u){if(vt(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,r){return zt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield Gr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),s=new URL(this.url+i.url),o=s.searchParams.get("token");if(!o)throw new fc("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:o},error:null}}catch(n){if(vt(n))return{data:null,error:n};throw n}})}update(e,r,n){return zt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return zt(this,void 0,void 0,function*(){try{return{data:yield Gr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(vt(a))return{data:null,error:a};throw a}})}copy(e,r,n){return zt(this,void 0,void 0,function*(){try{return{data:{path:(yield Gr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(vt(a))return{data:null,error:a};throw a}})}createSignedUrl(e,r,n){return zt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),i=yield Gr(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(a){if(vt(a))return{data:null,error:a};throw a}})}createSignedUrls(e,r,n){return zt(this,void 0,void 0,function*(){try{const a=yield Gr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(a){if(vt(a))return{data:null,error:a};throw a}})}download(e,r){return zt(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=i?`?${i}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield $s(this.fetch,`${this.url}/${a}/${o}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(vt(o))return{data:null,error:o};throw o}})}info(e){return zt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield $s(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:yu(n),error:null}}catch(n){if(vt(n))return{data:null,error:n};throw n}})}exists(e){return zt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield bb(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(vt(n)&&n instanceof mu){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});u!==""&&a.push(u);let l=a.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${l}`)}}}remove(e){return zt(this,void 0,void 0,function*(){try{return{data:yield Lv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(vt(r))return{data:null,error:r};throw r}})}list(e,r,n){return zt(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},wb),r),{prefix:e||""});return{data:yield Gr(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(vt(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Cb="2.7.0",_b={"X-Client-Info":`storage-js/${Cb}`};var Zn=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(c){try{l(n.next(c))}catch(f){s(f)}}function u(c){try{l(n.throw(c))}catch(f){s(f)}}function l(c){c.done?i(c.value):a(c.value).then(o,u)}l((n=n.apply(t,e||[])).next())})};class Bb{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},_b),r),this.fetch=Iv(n)}listBuckets(){return Zn(this,void 0,void 0,function*(){try{return{data:yield $s(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(vt(e))return{data:null,error:e};throw e}})}getBucket(e){return Zn(this,void 0,void 0,function*(){try{return{data:yield $s(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(vt(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Zn(this,void 0,void 0,function*(){try{return{data:yield Gr(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(vt(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Zn(this,void 0,void 0,function*(){try{return{data:yield xb(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(vt(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Zn(this,void 0,void 0,function*(){try{return{data:yield Gr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(vt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Zn(this,void 0,void 0,function*(){try{return{data:yield Lv(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(vt(r))return{data:null,error:r};throw r}})}}class Ab extends Bb{constructor(e,r={},n){super(e,r,n)}from(e){return new Eb(this.url,this.headers,e,this.fetch)}}const Db="2.45.2";let ei="";typeof Deno<"u"?ei="deno":typeof document<"u"?ei="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ei="react-native":ei="node";const Sb={"X-Client-Info":`supabase-js-${ei}/${Db}`},kb={headers:Sb},Tb={schema:"public"},Pb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Fb={};var Rb=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(c){try{l(n.next(c))}catch(f){s(f)}}function u(c){try{l(n.throw(c))}catch(f){s(f)}}function l(c){c.done?i(c.value):a(c.value).then(o,u)}l((n=n.apply(t,e||[])).next())})};const Ob=t=>{let e;return t?e=t:typeof fetch>"u"?e=wv:e=fetch,(...r)=>e(...r)},Ib=()=>typeof Headers>"u"?Ev:Headers,Lb=(t,e,r)=>{const n=Ob(r),a=Ib();return(i,s)=>Rb(void 0,void 0,void 0,function*(){var o;const u=(o=yield e())!==null&&o!==void 0?o:t;let l=new a(s==null?void 0:s.headers);return l.has("apikey")||l.set("apikey",t),l.has("Authorization")||l.set("Authorization",`Bearer ${u}`),n(i,Object.assign(Object.assign({},s),{headers:l}))})};var Mb=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(c){try{l(n.next(c))}catch(f){s(f)}}function u(c){try{l(n.throw(c))}catch(f){s(f)}}function l(c){c.done?i(c.value):a(c.value).then(o,u)}l((n=n.apply(t,e||[])).next())})};function $b(t){return t.replace(/\/$/,"")}function Nb(t,e){const{db:r,auth:n,realtime:a,global:i}=t,{db:s,auth:o,realtime:u,global:l}=e,c={db:Object.assign(Object.assign({},s),r),auth:Object.assign(Object.assign({},o),n),realtime:Object.assign(Object.assign({},u),a),global:Object.assign(Object.assign({},l),i),accessToken:()=>Mb(this,void 0,void 0,function*(){return""})};return t.accessToken?c.accessToken=t.accessToken:delete c.accessToken,c}const Mv="2.64.4",zb="http://localhost:9999",Hb="supabase.auth.token",qb={"X-Client-Info":`gotrue-js/${Mv}`},Wf=10,xu="X-Supabase-Api-Version",$v={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Vb(t){return Math.round(Date.now()/1e3)+t}function Ub(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const sr=()=>typeof document<"u",xn={tested:!1,writable:!1},vi=()=>{if(!sr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(xn.tested)return xn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),xn.tested=!0,xn.writable=!0}catch{xn.tested=!0,xn.writable=!1}return xn.writable};function el(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{e[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{e[a]=n}),e}const Nv=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>_a(async()=>{const{default:n}=await Promise.resolve().then(()=>Ta);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},jb=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",zv=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},ts=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},tl=async(t,e)=>{await t.removeItem(e)};function Wb(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",n,a,i,s,o,u,l,c=0;for(t=t.replace("-","+").replace("_","/");c<t.length;)s=e.indexOf(t.charAt(c++)),o=e.indexOf(t.charAt(c++)),u=e.indexOf(t.charAt(c++)),l=e.indexOf(t.charAt(c++)),n=s<<2|o>>4,a=(o&15)<<4|u>>2,i=(u&3)<<6|l,r=r+String.fromCharCode(n),u!=64&&a!=0&&(r=r+String.fromCharCode(a)),l!=64&&i!=0&&(r=r+String.fromCharCode(i));return r}class xo{constructor(){this.promise=new xo.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}xo.promiseConstructor=Promise;function Kf(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=t.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=r[1];return JSON.parse(Wb(n))}async function Kb(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Gb(t,e){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await t(i);if(!e(i,null,s)){n(s);return}}catch(s){if(!e(i,s)){a(s);return}}})()})}function Yb(t){return("0"+t.toString(16)).substr(-2)}function Xb(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(e),Array.from(e,Yb).join("")}async function Zb(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}function Qb(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Jb(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await Zb(t);return Qb(r)}async function Qn(t,e,r=!1){const n=Xb();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await zv(t,`${e}-code-verifier`,a);const i=await Jb(n);return[i,n===i?"plain":"s256"]}const ew=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function tw(t){const e=t.headers.get(xu);if(!e||!e.match(ew))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class dc extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ke(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class rw extends dc{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function nw(t){return ke(t)&&t.name==="AuthApiError"}class Hv extends dc{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Vn extends dc{constructor(e,r,n,a){super(e,n,a),this.name=r,this.status=n}}class bn extends Vn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class rl extends Vn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class rs extends Vn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ns extends Vn{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Gf extends Vn{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class bu extends Vn{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function nl(t){return ke(t)&&t.name==="AuthRetryableFetchError"}class Yf extends Vn{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}var aw=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};const En=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),iw=[502,503,504];async function Xf(t){var e;if(!jb(t))throw new bu(En(t),0);if(iw.includes(t.status))throw new bu(En(t),t.status);let r;try{r=await t.json()}catch(i){throw new Hv(En(i),i)}let n;const a=tw(t);if(a&&a.getTime()>=$v["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Yf(En(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[])}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new Yf(En(r),t.status,r.weak_password.reasons);throw new rw(En(r),t.status||500,n)}const sw=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Te(t,e,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[xu]||(i[xu]=$v["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const s=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",u=await ow(t,e,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function ow(t,e,r,n,a,i){const s=sw(e,n,a,i);let o;try{o=await t(r,Object.assign({},s))}catch(u){throw console.error(u),new bu(En(u),0)}if(o.ok||await Xf(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(u){await Xf(u)}}function Ur(t){var e;let r=null;fw(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Vb(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Zf(t){const e=Ur(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Xr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function lw(t){return{data:t,error:null}}function uw(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=t,s=aw(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},u=Object.assign({},s);return{data:{properties:o,user:u},error:null}}function cw(t){return t}function fw(t){return t.access_token&&t.refresh_token&&t.expires_in}var dw=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};class hw{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Nv(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r="global"){try{return await Te(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Te(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Xr})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=dw(e,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:uw,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ke(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Te(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Xr})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,a,i,s,o,u;try{const l={nextPage:null,lastPage:0,total:0},c=await Te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:cw});if(c.error)throw c.error;const f=await c.json(),d=(s=c.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(u=(o=c.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&u!==void 0?u:[];return h.length>0&&(h.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),p=JSON.parse(v.split(";")[1].split("=")[1]);l[`${p}Page`]=y}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},f),l),error:null}}catch(l){if(ke(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){try{return await Te(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Xr})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){try{return await Te(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Xr})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){try{return await Te(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Xr})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:r,error:n}=await Te(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _deleteFactor(e){try{return{data:await Te(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}}}const vw={getItem:t=>vi()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{vi()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{vi()&&globalThis.localStorage.removeItem(t)}};function Qf(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function pw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Jn={debug:!!(globalThis&&vi()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class qv extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class gw extends qv{}async function mw(t,e,r){Jn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Jn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Jn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{Jn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw Jn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new gw(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Jn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}})}pw();const yw={url:zb,storageKey:Hb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:qb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Ka=30*1e3,Jf=3;async function e0(t,e,r){return await r()}class Ci{constructor(e){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ci.nextInstanceID,Ci.nextInstanceID+=1,this.instanceID>0&&sr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},yw),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new hw({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Nv(a.fetch),this.lock=a.lock||e0,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:sr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=mw:this.lock=e0,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:vi()?this.storage=vw:(this.memoryStorage={},this.storage=Qf(this.memoryStorage)):(this.memoryStorage={},this.storage=Qf(this.memoryStorage)),sr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Mv}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=sr()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:r,error:n}=await this._getSessionFromURL(e);if(n)return this._debug("#_initialize()","error detecting session from URL",n),(n==null?void 0:n.message)==="Identity is already linked"||(n==null?void 0:n.message)==="Identity is already linked to another user"?{error:n}:(await this._removeSession(),{error:n});const{session:a,redirectType:i}=r;return this._debug("#_initialize()","detected session in URL",a,"redirect type",i),await this._saveSession(a),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return ke(e)?{error:e}:{error:new Hv("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,a;try{const i=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:Ur}),{data:s,error:o}=i;if(o||!s)return{data:{user:null,session:null},error:o};const u=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:l,session:u},error:null}}catch(i){if(ke(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,a;try{let i;if("email"in e){const{email:c,password:f,options:d}=e;let h=null,v=null;this.flowType==="pkce"&&([h,v]=await Qn(this.storage,this.storageKey)),i=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:c,password:f,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:h,code_challenge_method:v},xform:Ur})}else if("phone"in e){const{phone:c,password:f,options:d}=e;i=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:f,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},channel:(a=d==null?void 0:d.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Ur})}else throw new rs("You must provide either an email or phone number and a password");const{data:s,error:o}=i;if(o||!s)return{data:{user:null,session:null},error:o};const u=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:l,session:u},error:null}}catch(i){if(ke(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:s,options:o}=e;r=await Te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Zf})}else if("phone"in e){const{phone:i,password:s,options:o}=e;r=await Te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Zf})}else throw new rs("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new rl}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(ke(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,a,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const r=await ts(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/"),{data:i,error:s}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Ur});return await tl(this.storage,`${this.storageKey}-code-verifier`),s?{data:{user:null,session:null,redirectType:null},error:s}:!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new rl}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:s})}async signInWithIdToken(e){try{const{options:r,provider:n,token:a,access_token:i,nonce:s}=e,o=await Te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ur}),{data:u,error:l}=o;return l?{data:{user:null,session:null},error:l}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new rl}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:l})}catch(r){if(ke(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,a,i,s;try{if("email"in e){const{email:o,options:u}=e;let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Qn(this.storage,this.storageKey));const{error:f}=await Te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:l,code_challenge_method:c},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:o,options:u}=e,{data:l,error:c}=await Te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(a=u==null?void 0:u.data)!==null&&a!==void 0?a:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(s=u==null?void 0:u.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:c}}throw new rs("You must provide either an email or phone number.")}catch(o){if(ke(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var r,n;try{let a,i;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await Te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Ur});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const u=s.session,l=s.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:l,session:u},error:null}}catch(a){if(ke(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var r,n,a;try{let i=null,s=null;return this.flowType==="pkce"&&([i,s]=await Qn(this.storage,this.storageKey)),await Te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:s}),headers:this.headers,xform:lw})}catch(i){if(ke(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new bn;const{error:a}=await Te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(ke(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:a,options:i}=e,{error:s}=await Te(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in e){const{phone:n,type:a,options:i}=e,{data:s,error:o}=await Te(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o}}throw new rs("You must provide either an email or phone number and a type")}catch(r){if(ke(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await ts(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let s=this.suppressGetSessionWarning;e=new Proxy(e,{get:(u,l,c)=>(!s&&l==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,l,c))})}return{data:{session:e},error:null}}const{session:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Xr}):await this._useSession(async r=>{var n,a,i;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new bn}:await Te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Xr})})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new bn;const s=a.session;let o=null,u=null;this.flowType==="pkce"&&e.email!=null&&([o,u]=await Qn(this.storage,this.storageKey));const{data:l,error:c}=await Te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:u}),jwt:s.access_token,xform:Xr});if(c)throw c;return s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}_decodeJWT(e){return Kf(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new bn;const r=Date.now()/1e3;let n=r,a=!0,i=null;const s=Kf(e.access_token);if(s.exp&&(n=s.exp,a=n<=r),a){const{session:o,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:u}=await this._getUser(e.access_token);if(u)throw u;i={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(ke(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:s,error:o}=r;if(o)throw o;e=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new bn;const{session:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ke(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e){try{if(!sr())throw new ns("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new ns("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new Gf("Not a valid PKCE flow url.");const r=el(window.location.href);if(e){if(!r.code)throw new Gf("No code detected.");const{data:g,error:x}=await this._exchangeCodeForSession(r.code);if(x)throw x;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:g.session,redirectType:null},error:null}}if(r.error||r.error_description||r.error_code)throw new ns(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:s,expires_in:o,expires_at:u,token_type:l}=r;if(!i||!o||!s||!l)throw new ns("No session defined in URL");const c=Math.round(Date.now()/1e3),f=parseInt(o);let d=c+f;u&&(d=parseInt(u));const h=d-c;h*1e3<=Ka&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const v=d-f;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,d,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",v,d,c);const{data:y,error:p}=await this._getUser(i);if(p)throw p;const m={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:d,refresh_token:s,token_type:l,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:r.type},error:null}}catch(r){if(ke(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantFlow(){const e=el(window.location.href);return!!(sr()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=el(window.location.href),r=await ts(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const s=(n=a.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,e);if(o&&!(nw(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await tl(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(e){const r=Ub(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Qn(this.storage,this.storageKey,!0));try{return await Te(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(ke(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var s,o,u,l,c;const{data:f,error:d}=i;if(d)throw d;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await Te(this.fetch,"GET",h,{headers:this.headers,jwt:(c=(l=f.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0})});if(a)throw a;return sr()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ke(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)throw s;return await Te(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Gb(async a=>(a>0&&await Kb(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ur})),(a,i)=>{const s=200*Math.pow(2,a);return i&&nl(i)&&Date.now()+s-n<Ka})}catch(n){if(this._debug(r,"error",n),ke(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),sr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await ts(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const a=Math.round(Date.now()/1e3),i=((e=n.expires_at)!==null&&e!==void 0?e:1/0)<a+Wf;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Wf}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:s}=await this._callRefreshToken(n.refresh_token);s&&(console.error(s),nl(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new bn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new xo;const{data:i,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!i.session)throw new bn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(a,"error",i),ke(i)){const s={session:null,error:i};return nl(i)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,n=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(u){i.push(u)}});if(await Promise.all(s),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await zv(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await tl(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&sr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ka);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-e)/Ka);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Ka}ms, refresh threshold is ${Jf} ticks`),a<=Jf&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof qv)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!sr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,s]=await Qn(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});a.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Te(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)return{data:null,error:s};const{data:o,error:u}=await Te(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:e.friendlyName,factor_type:e.factorType,issuer:e.issuer},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(!((a=o==null?void 0:o.totp)===null||a===void 0)&&a.qr_code&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})})}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:s,error:o}=await Te(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})})}catch(r){if(ke(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Te(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ke(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],a=n.filter(i=>i.factor_type==="totp"&&i.status==="verified");return{data:{all:n,totp:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:a},error:i}=e;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const s=this._decodeJWT(a.access_token);let o=null;s.aal&&(o=s.aal);let u=o;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const c=s.amr||[];return{data:{currentLevel:o,nextLevel:u,currentAuthenticationMethods:c},error:null}}))}}Ci.nextInstanceID=0;const xw=Ci;class bw extends xw{constructor(e){super(e)}}var ww=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(c){try{l(n.next(c))}catch(f){s(f)}}function u(c){try{l(n.throw(c))}catch(f){s(f)}}function l(c){c.done?i(c.value):a(c.value).then(o,u)}l((n=n.apply(t,e||[])).next())})};class Ew{constructor(e,r,n){var a,i,s;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=$b(e);this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;const u=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,l={db:Tb,realtime:Fb,auth:Object.assign(Object.assign({},Pb),{storageKey:u}),global:kb},c=Nb(n??{},l);this.storageKey=(a=c.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(f,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=c.auth)!==null&&s!==void 0?s:{},this.headers,c.global.fetch),this.fetch=Lb(r,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},c.realtime)),this.rest=new Q1(`${o}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new D1(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Ab(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return ww(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:i,flowType:s,lock:o,debug:u},l,c){var f;const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new bw({url:this.authUrl,headers:Object.assign(Object.assign({},d),l),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,flowType:s,lock:o,debug:u,fetch:c,hasCustomAuthorizationHeader:(f="Authorization"in this.headers)!==null&&f!==void 0?f:!1})}_initRealtimeClient(e){return new db(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.realtime.setAuth(n??null),this.changedAccessToken=n):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Un=(t,e,r)=>new Ew(t,e,r);var Vv={exports:{}};function Cw(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var al={exports:{}};const _w={},Bw=Object.freeze(Object.defineProperty({__proto__:null,default:_w},Symbol.toStringTag,{value:"Module"})),Aw=bv(Bw);var t0;function Pe(){return t0||(t0=1,function(t,e){(function(r,n){t.exports=n()})(Ae,function(){var r=r||function(n,a){var i;if(typeof window<"u"&&window.crypto&&(i=window.crypto),typeof self<"u"&&self.crypto&&(i=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(i=globalThis.crypto),!i&&typeof window<"u"&&window.msCrypto&&(i=window.msCrypto),!i&&typeof Ae<"u"&&Ae.crypto&&(i=Ae.crypto),!i&&typeof Cw=="function")try{i=Aw}catch{}var s=function(){if(i){if(typeof i.getRandomValues=="function")try{return i.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof i.randomBytes=="function")try{return i.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function g(){}return function(x){var b;return g.prototype=x,b=new g,g.prototype=null,b}}(),u={},l=u.lib={},c=l.Base=function(){return{extend:function(g){var x=o(this);return g&&x.mixIn(g),(!x.hasOwnProperty("init")||this.init===x.init)&&(x.init=function(){x.$super.init.apply(this,arguments)}),x.init.prototype=x,x.$super=this,x},create:function(){var g=this.extend();return g.init.apply(g,arguments),g},init:function(){},mixIn:function(g){for(var x in g)g.hasOwnProperty(x)&&(this[x]=g[x]);g.hasOwnProperty("toString")&&(this.toString=g.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),f=l.WordArray=c.extend({init:function(g,x){g=this.words=g||[],x!=a?this.sigBytes=x:this.sigBytes=g.length*4},toString:function(g){return(g||h).stringify(this)},concat:function(g){var x=this.words,b=g.words,C=this.sigBytes,E=g.sigBytes;if(this.clamp(),C%4)for(var w=0;w<E;w++){var B=b[w>>>2]>>>24-w%4*8&255;x[C+w>>>2]|=B<<24-(C+w)%4*8}else for(var D=0;D<E;D+=4)x[C+D>>>2]=b[D>>>2];return this.sigBytes+=E,this},clamp:function(){var g=this.words,x=this.sigBytes;g[x>>>2]&=4294967295<<32-x%4*8,g.length=n.ceil(x/4)},clone:function(){var g=c.clone.call(this);return g.words=this.words.slice(0),g},random:function(g){for(var x=[],b=0;b<g;b+=4)x.push(s());return new f.init(x,g)}}),d=u.enc={},h=d.Hex={stringify:function(g){for(var x=g.words,b=g.sigBytes,C=[],E=0;E<b;E++){var w=x[E>>>2]>>>24-E%4*8&255;C.push((w>>>4).toString(16)),C.push((w&15).toString(16))}return C.join("")},parse:function(g){for(var x=g.length,b=[],C=0;C<x;C+=2)b[C>>>3]|=parseInt(g.substr(C,2),16)<<24-C%8*4;return new f.init(b,x/2)}},v=d.Latin1={stringify:function(g){for(var x=g.words,b=g.sigBytes,C=[],E=0;E<b;E++){var w=x[E>>>2]>>>24-E%4*8&255;C.push(String.fromCharCode(w))}return C.join("")},parse:function(g){for(var x=g.length,b=[],C=0;C<x;C++)b[C>>>2]|=(g.charCodeAt(C)&255)<<24-C%4*8;return new f.init(b,x)}},y=d.Utf8={stringify:function(g){try{return decodeURIComponent(escape(v.stringify(g)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(g){return v.parse(unescape(encodeURIComponent(g)))}},p=l.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(g){typeof g=="string"&&(g=y.parse(g)),this._data.concat(g),this._nDataBytes+=g.sigBytes},_process:function(g){var x,b=this._data,C=b.words,E=b.sigBytes,w=this.blockSize,B=w*4,D=E/B;g?D=n.ceil(D):D=n.max((D|0)-this._minBufferSize,0);var _=D*w,A=n.min(_*4,E);if(_){for(var S=0;S<_;S+=w)this._doProcessBlock(C,S);x=C.splice(0,_),b.sigBytes-=A}return new f.init(x,A)},clone:function(){var g=c.clone.call(this);return g._data=this._data.clone(),g},_minBufferSize:0});l.Hasher=p.extend({cfg:c.extend(),init:function(g){this.cfg=this.cfg.extend(g),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(g){return this._append(g),this._process(),this},finalize:function(g){g&&this._append(g);var x=this._doFinalize();return x},blockSize:16,_createHelper:function(g){return function(x,b){return new g.init(b).finalize(x)}},_createHmacHelper:function(g){return function(x,b){return new m.HMAC.init(g,b).finalize(x)}}});var m=u.algo={};return u}(Math);return r})}(al)),al.exports}var il={exports:{}},r0;function bo(){return r0||(r0=1,function(t,e){(function(r,n){t.exports=n(Pe())})(Ae,function(r){return function(n){var a=r,i=a.lib,s=i.Base,o=i.WordArray,u=a.x64={};u.Word=s.extend({init:function(l,c){this.high=l,this.low=c}}),u.WordArray=s.extend({init:function(l,c){l=this.words=l||[],c!=n?this.sigBytes=c:this.sigBytes=l.length*8},toX32:function(){for(var l=this.words,c=l.length,f=[],d=0;d<c;d++){var h=l[d];f.push(h.high),f.push(h.low)}return o.create(f,this.sigBytes)},clone:function(){for(var l=s.clone.call(this),c=l.words=this.words.slice(0),f=c.length,d=0;d<f;d++)c[d]=c[d].clone();return l}})}(),r})}(il)),il.exports}var sl={exports:{}},n0;function Dw(){return n0||(n0=1,function(t,e){(function(r,n){t.exports=n(Pe())})(Ae,function(r){return function(){if(typeof ArrayBuffer=="function"){var n=r,a=n.lib,i=a.WordArray,s=i.init,o=i.init=function(u){if(u instanceof ArrayBuffer&&(u=new Uint8Array(u)),(u instanceof Int8Array||typeof Uint8ClampedArray<"u"&&u instanceof Uint8ClampedArray||u instanceof Int16Array||u instanceof Uint16Array||u instanceof Int32Array||u instanceof Uint32Array||u instanceof Float32Array||u instanceof Float64Array)&&(u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength)),u instanceof Uint8Array){for(var l=u.byteLength,c=[],f=0;f<l;f++)c[f>>>2]|=u[f]<<24-f%4*8;s.call(this,c,l)}else s.apply(this,arguments)};o.prototype=i}}(),r.lib.WordArray})}(sl)),sl.exports}var ol={exports:{}},a0;function Sw(){return a0||(a0=1,function(t,e){(function(r,n){t.exports=n(Pe())})(Ae,function(r){return function(){var n=r,a=n.lib,i=a.WordArray,s=n.enc;s.Utf16=s.Utf16BE={stringify:function(u){for(var l=u.words,c=u.sigBytes,f=[],d=0;d<c;d+=2){var h=l[d>>>2]>>>16-d%4*8&65535;f.push(String.fromCharCode(h))}return f.join("")},parse:function(u){for(var l=u.length,c=[],f=0;f<l;f++)c[f>>>1]|=u.charCodeAt(f)<<16-f%2*16;return i.create(c,l*2)}},s.Utf16LE={stringify:function(u){for(var l=u.words,c=u.sigBytes,f=[],d=0;d<c;d+=2){var h=o(l[d>>>2]>>>16-d%4*8&65535);f.push(String.fromCharCode(h))}return f.join("")},parse:function(u){for(var l=u.length,c=[],f=0;f<l;f++)c[f>>>1]|=o(u.charCodeAt(f)<<16-f%2*16);return i.create(c,l*2)}};function o(u){return u<<8&4278255360|u>>>8&16711935}}(),r.enc.Utf16})}(ol)),ol.exports}var ll={exports:{}},i0;function jn(){return i0||(i0=1,function(t,e){(function(r,n){t.exports=n(Pe())})(Ae,function(r){return function(){var n=r,a=n.lib,i=a.WordArray,s=n.enc;s.Base64={stringify:function(u){var l=u.words,c=u.sigBytes,f=this._map;u.clamp();for(var d=[],h=0;h<c;h+=3)for(var v=l[h>>>2]>>>24-h%4*8&255,y=l[h+1>>>2]>>>24-(h+1)%4*8&255,p=l[h+2>>>2]>>>24-(h+2)%4*8&255,m=v<<16|y<<8|p,g=0;g<4&&h+g*.75<c;g++)d.push(f.charAt(m>>>6*(3-g)&63));var x=f.charAt(64);if(x)for(;d.length%4;)d.push(x);return d.join("")},parse:function(u){var l=u.length,c=this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var d=0;d<c.length;d++)f[c.charCodeAt(d)]=d}var h=c.charAt(64);if(h){var v=u.indexOf(h);v!==-1&&(l=v)}return o(u,l,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function o(u,l,c){for(var f=[],d=0,h=0;h<l;h++)if(h%4){var v=c[u.charCodeAt(h-1)]<<h%4*2,y=c[u.charCodeAt(h)]>>>6-h%4*2,p=v|y;f[d>>>2]|=p<<24-d%4*8,d++}return i.create(f,d)}}(),r.enc.Base64})}(ll)),ll.exports}var ul={exports:{}},s0;function kw(){return s0||(s0=1,function(t,e){(function(r,n){t.exports=n(Pe())})(Ae,function(r){return function(){var n=r,a=n.lib,i=a.WordArray,s=n.enc;s.Base64url={stringify:function(u,l){l===void 0&&(l=!0);var c=u.words,f=u.sigBytes,d=l?this._safe_map:this._map;u.clamp();for(var h=[],v=0;v<f;v+=3)for(var y=c[v>>>2]>>>24-v%4*8&255,p=c[v+1>>>2]>>>24-(v+1)%4*8&255,m=c[v+2>>>2]>>>24-(v+2)%4*8&255,g=y<<16|p<<8|m,x=0;x<4&&v+x*.75<f;x++)h.push(d.charAt(g>>>6*(3-x)&63));var b=d.charAt(64);if(b)for(;h.length%4;)h.push(b);return h.join("")},parse:function(u,l){l===void 0&&(l=!0);var c=u.length,f=l?this._safe_map:this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var h=0;h<f.length;h++)d[f.charCodeAt(h)]=h}var v=f.charAt(64);if(v){var y=u.indexOf(v);y!==-1&&(c=y)}return o(u,c,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function o(u,l,c){for(var f=[],d=0,h=0;h<l;h++)if(h%4){var v=c[u.charCodeAt(h-1)]<<h%4*2,y=c[u.charCodeAt(h)]>>>6-h%4*2,p=v|y;f[d>>>2]|=p<<24-d%4*8,d++}return i.create(f,d)}}(),r.enc.Base64url})}(ul)),ul.exports}var cl={exports:{}},o0;function Wn(){return o0||(o0=1,function(t,e){(function(r,n){t.exports=n(Pe())})(Ae,function(r){return function(n){var a=r,i=a.lib,s=i.WordArray,o=i.Hasher,u=a.algo,l=[];(function(){for(var y=0;y<64;y++)l[y]=n.abs(n.sin(y+1))*4294967296|0})();var c=u.MD5=o.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(y,p){for(var m=0;m<16;m++){var g=p+m,x=y[g];y[g]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360}var b=this._hash.words,C=y[p+0],E=y[p+1],w=y[p+2],B=y[p+3],D=y[p+4],_=y[p+5],A=y[p+6],S=y[p+7],P=y[p+8],T=y[p+9],$=y[p+10],O=y[p+11],M=y[p+12],z=y[p+13],G=y[p+14],X=y[p+15],I=b[0],L=b[1],U=b[2],j=b[3];I=f(I,L,U,j,C,7,l[0]),j=f(j,I,L,U,E,12,l[1]),U=f(U,j,I,L,w,17,l[2]),L=f(L,U,j,I,B,22,l[3]),I=f(I,L,U,j,D,7,l[4]),j=f(j,I,L,U,_,12,l[5]),U=f(U,j,I,L,A,17,l[6]),L=f(L,U,j,I,S,22,l[7]),I=f(I,L,U,j,P,7,l[8]),j=f(j,I,L,U,T,12,l[9]),U=f(U,j,I,L,$,17,l[10]),L=f(L,U,j,I,O,22,l[11]),I=f(I,L,U,j,M,7,l[12]),j=f(j,I,L,U,z,12,l[13]),U=f(U,j,I,L,G,17,l[14]),L=f(L,U,j,I,X,22,l[15]),I=d(I,L,U,j,E,5,l[16]),j=d(j,I,L,U,A,9,l[17]),U=d(U,j,I,L,O,14,l[18]),L=d(L,U,j,I,C,20,l[19]),I=d(I,L,U,j,_,5,l[20]),j=d(j,I,L,U,$,9,l[21]),U=d(U,j,I,L,X,14,l[22]),L=d(L,U,j,I,D,20,l[23]),I=d(I,L,U,j,T,5,l[24]),j=d(j,I,L,U,G,9,l[25]),U=d(U,j,I,L,B,14,l[26]),L=d(L,U,j,I,P,20,l[27]),I=d(I,L,U,j,z,5,l[28]),j=d(j,I,L,U,w,9,l[29]),U=d(U,j,I,L,S,14,l[30]),L=d(L,U,j,I,M,20,l[31]),I=h(I,L,U,j,_,4,l[32]),j=h(j,I,L,U,P,11,l[33]),U=h(U,j,I,L,O,16,l[34]),L=h(L,U,j,I,G,23,l[35]),I=h(I,L,U,j,E,4,l[36]),j=h(j,I,L,U,D,11,l[37]),U=h(U,j,I,L,S,16,l[38]),L=h(L,U,j,I,$,23,l[39]),I=h(I,L,U,j,z,4,l[40]),j=h(j,I,L,U,C,11,l[41]),U=h(U,j,I,L,B,16,l[42]),L=h(L,U,j,I,A,23,l[43]),I=h(I,L,U,j,T,4,l[44]),j=h(j,I,L,U,M,11,l[45]),U=h(U,j,I,L,X,16,l[46]),L=h(L,U,j,I,w,23,l[47]),I=v(I,L,U,j,C,6,l[48]),j=v(j,I,L,U,S,10,l[49]),U=v(U,j,I,L,G,15,l[50]),L=v(L,U,j,I,_,21,l[51]),I=v(I,L,U,j,M,6,l[52]),j=v(j,I,L,U,B,10,l[53]),U=v(U,j,I,L,$,15,l[54]),L=v(L,U,j,I,E,21,l[55]),I=v(I,L,U,j,P,6,l[56]),j=v(j,I,L,U,X,10,l[57]),U=v(U,j,I,L,A,15,l[58]),L=v(L,U,j,I,z,21,l[59]),I=v(I,L,U,j,D,6,l[60]),j=v(j,I,L,U,O,10,l[61]),U=v(U,j,I,L,w,15,l[62]),L=v(L,U,j,I,T,21,l[63]),b[0]=b[0]+I|0,b[1]=b[1]+L|0,b[2]=b[2]+U|0,b[3]=b[3]+j|0},_doFinalize:function(){var y=this._data,p=y.words,m=this._nDataBytes*8,g=y.sigBytes*8;p[g>>>5]|=128<<24-g%32;var x=n.floor(m/4294967296),b=m;p[(g+64>>>9<<4)+15]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,p[(g+64>>>9<<4)+14]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,y.sigBytes=(p.length+1)*4,this._process();for(var C=this._hash,E=C.words,w=0;w<4;w++){var B=E[w];E[w]=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360}return C},clone:function(){var y=o.clone.call(this);return y._hash=this._hash.clone(),y}});function f(y,p,m,g,x,b,C){var E=y+(p&m|~p&g)+x+C;return(E<<b|E>>>32-b)+p}function d(y,p,m,g,x,b,C){var E=y+(p&g|m&~g)+x+C;return(E<<b|E>>>32-b)+p}function h(y,p,m,g,x,b,C){var E=y+(p^m^g)+x+C;return(E<<b|E>>>32-b)+p}function v(y,p,m,g,x,b,C){var E=y+(m^(p|~g))+x+C;return(E<<b|E>>>32-b)+p}a.MD5=o._createHelper(c),a.HmacMD5=o._createHmacHelper(c)}(Math),r.MD5})}(cl)),cl.exports}var fl={exports:{}},l0;function Uv(){return l0||(l0=1,function(t,e){(function(r,n){t.exports=n(Pe())})(Ae,function(r){return function(){var n=r,a=n.lib,i=a.WordArray,s=a.Hasher,o=n.algo,u=[],l=o.SHA1=s.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(c,f){for(var d=this._hash.words,h=d[0],v=d[1],y=d[2],p=d[3],m=d[4],g=0;g<80;g++){if(g<16)u[g]=c[f+g]|0;else{var x=u[g-3]^u[g-8]^u[g-14]^u[g-16];u[g]=x<<1|x>>>31}var b=(h<<5|h>>>27)+m+u[g];g<20?b+=(v&y|~v&p)+1518500249:g<40?b+=(v^y^p)+1859775393:g<60?b+=(v&y|v&p|y&p)-1894007588:b+=(v^y^p)-899497514,m=p,p=y,y=v<<30|v>>>2,v=h,h=b}d[0]=d[0]+h|0,d[1]=d[1]+v|0,d[2]=d[2]+y|0,d[3]=d[3]+p|0,d[4]=d[4]+m|0},_doFinalize:function(){var c=this._data,f=c.words,d=this._nDataBytes*8,h=c.sigBytes*8;return f[h>>>5]|=128<<24-h%32,f[(h+64>>>9<<4)+14]=Math.floor(d/4294967296),f[(h+64>>>9<<4)+15]=d,c.sigBytes=f.length*4,this._process(),this._hash},clone:function(){var c=s.clone.call(this);return c._hash=this._hash.clone(),c}});n.SHA1=s._createHelper(l),n.HmacSHA1=s._createHmacHelper(l)}(),r.SHA1})}(fl)),fl.exports}var dl={exports:{}},u0;function hc(){return u0||(u0=1,function(t,e){(function(r,n){t.exports=n(Pe())})(Ae,function(r){return function(n){var a=r,i=a.lib,s=i.WordArray,o=i.Hasher,u=a.algo,l=[],c=[];(function(){function h(m){for(var g=n.sqrt(m),x=2;x<=g;x++)if(!(m%x))return!1;return!0}function v(m){return(m-(m|0))*4294967296|0}for(var y=2,p=0;p<64;)h(y)&&(p<8&&(l[p]=v(n.pow(y,1/2))),c[p]=v(n.pow(y,1/3)),p++),y++})();var f=[],d=u.SHA256=o.extend({_doReset:function(){this._hash=new s.init(l.slice(0))},_doProcessBlock:function(h,v){for(var y=this._hash.words,p=y[0],m=y[1],g=y[2],x=y[3],b=y[4],C=y[5],E=y[6],w=y[7],B=0;B<64;B++){if(B<16)f[B]=h[v+B]|0;else{var D=f[B-15],_=(D<<25|D>>>7)^(D<<14|D>>>18)^D>>>3,A=f[B-2],S=(A<<15|A>>>17)^(A<<13|A>>>19)^A>>>10;f[B]=_+f[B-7]+S+f[B-16]}var P=b&C^~b&E,T=p&m^p&g^m&g,$=(p<<30|p>>>2)^(p<<19|p>>>13)^(p<<10|p>>>22),O=(b<<26|b>>>6)^(b<<21|b>>>11)^(b<<7|b>>>25),M=w+O+P+c[B]+f[B],z=$+T;w=E,E=C,C=b,b=x+M|0,x=g,g=m,m=p,p=M+z|0}y[0]=y[0]+p|0,y[1]=y[1]+m|0,y[2]=y[2]+g|0,y[3]=y[3]+x|0,y[4]=y[4]+b|0,y[5]=y[5]+C|0,y[6]=y[6]+E|0,y[7]=y[7]+w|0},_doFinalize:function(){var h=this._data,v=h.words,y=this._nDataBytes*8,p=h.sigBytes*8;return v[p>>>5]|=128<<24-p%32,v[(p+64>>>9<<4)+14]=n.floor(y/4294967296),v[(p+64>>>9<<4)+15]=y,h.sigBytes=v.length*4,this._process(),this._hash},clone:function(){var h=o.clone.call(this);return h._hash=this._hash.clone(),h}});a.SHA256=o._createHelper(d),a.HmacSHA256=o._createHmacHelper(d)}(Math),r.SHA256})}(dl)),dl.exports}var hl={exports:{}},c0;function Tw(){return c0||(c0=1,function(t,e){(function(r,n,a){t.exports=n(Pe(),hc())})(Ae,function(r){return function(){var n=r,a=n.lib,i=a.WordArray,s=n.algo,o=s.SHA256,u=s.SHA224=o.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var l=o._doFinalize.call(this);return l.sigBytes-=4,l}});n.SHA224=o._createHelper(u),n.HmacSHA224=o._createHmacHelper(u)}(),r.SHA224})}(hl)),hl.exports}var vl={exports:{}},f0;function jv(){return f0||(f0=1,function(t,e){(function(r,n,a){t.exports=n(Pe(),bo())})(Ae,function(r){return function(){var n=r,a=n.lib,i=a.Hasher,s=n.x64,o=s.Word,u=s.WordArray,l=n.algo;function c(){return o.create.apply(o,arguments)}var f=[c(1116352408,3609767458),c(1899447441,602891725),c(3049323471,3964484399),c(3921009573,2173295548),c(961987163,4081628472),c(1508970993,3053834265),c(2453635748,2937671579),c(2870763221,3664609560),c(3624381080,2734883394),c(310598401,1164996542),c(607225278,1323610764),c(1426881987,3590304994),c(1925078388,4068182383),c(2162078206,991336113),c(2614888103,633803317),c(3248222580,3479774868),c(3835390401,2666613458),c(4022224774,944711139),c(264347078,2341262773),c(604807628,2007800933),c(770255983,1495990901),c(1249150122,1856431235),c(1555081692,3175218132),c(1996064986,2198950837),c(2554220882,3999719339),c(2821834349,766784016),c(2952996808,2566594879),c(3210313671,3203337956),c(3336571891,1034457026),c(3584528711,2466948901),c(113926993,3758326383),c(338241895,168717936),c(666307205,1188179964),c(773529912,1546045734),c(1294757372,1522805485),c(1396182291,2643833823),c(1695183700,2343527390),c(1986661051,1014477480),c(2177026350,1206759142),c(2456956037,344077627),c(2730485921,1290863460),c(2820302411,3158454273),c(3259730800,3505952657),c(3345764771,106217008),c(3516065817,3606008344),c(3600352804,1432725776),c(4094571909,1467031594),c(275423344,851169720),c(430227734,3100823752),c(506948616,1363258195),c(659060556,3750685593),c(883997877,3785050280),c(958139571,3318307427),c(1322822218,3812723403),c(1537002063,2003034995),c(1747873779,3602036899),c(1955562222,1575990012),c(2024104815,1125592928),c(2227730452,2716904306),c(2361852424,442776044),c(2428436474,593698344),c(2756734187,3733110249),c(3204031479,2999351573),c(3329325298,3815920427),c(3391569614,3928383900),c(3515267271,566280711),c(3940187606,3454069534),c(4118630271,4000239992),c(116418474,1914138554),c(174292421,2731055270),c(289380356,3203993006),c(460393269,320620315),c(685471733,587496836),c(852142971,1086792851),c(1017036298,365543100),c(1126000580,2618297676),c(1288033470,3409855158),c(1501505948,4234509866),c(1607167915,987167468),c(1816402316,1246189591)],d=[];(function(){for(var v=0;v<80;v++)d[v]=c()})();var h=l.SHA512=i.extend({_doReset:function(){this._hash=new u.init([new o.init(1779033703,4089235720),new o.init(3144134277,2227873595),new o.init(1013904242,4271175723),new o.init(2773480762,1595750129),new o.init(1359893119,2917565137),new o.init(2600822924,725511199),new o.init(528734635,4215389547),new o.init(1541459225,327033209)])},_doProcessBlock:function(v,y){for(var p=this._hash.words,m=p[0],g=p[1],x=p[2],b=p[3],C=p[4],E=p[5],w=p[6],B=p[7],D=m.high,_=m.low,A=g.high,S=g.low,P=x.high,T=x.low,$=b.high,O=b.low,M=C.high,z=C.low,G=E.high,X=E.low,I=w.high,L=w.low,U=B.high,j=B.low,oe=D,se=_,V=A,H=S,N=P,K=T,ne=$,he=O,R=M,F=z,q=G,Z=X,Y=I,te=L,le=U,ce=j,ue=0;ue<80;ue++){var ae,fe,Q=d[ue];if(ue<16)fe=Q.high=v[y+ue*2]|0,ae=Q.low=v[y+ue*2+1]|0;else{var k=d[ue-15],W=k.high,ee=k.low,re=(W>>>1|ee<<31)^(W>>>8|ee<<24)^W>>>7,J=(ee>>>1|W<<31)^(ee>>>8|W<<24)^(ee>>>7|W<<25),de=d[ue-2],ie=de.high,pe=de.low,Ce=(ie>>>19|pe<<13)^(ie<<3|pe>>>29)^ie>>>6,we=(pe>>>19|ie<<13)^(pe<<3|ie>>>29)^(pe>>>6|ie<<26),ye=d[ue-7],be=ye.high,me=ye.low,Ee=d[ue-16],je=Ee.high,Me=Ee.low;ae=J+me,fe=re+be+(ae>>>0<J>>>0?1:0),ae=ae+we,fe=fe+Ce+(ae>>>0<we>>>0?1:0),ae=ae+Me,fe=fe+je+(ae>>>0<Me>>>0?1:0),Q.high=fe,Q.low=ae}var yt=R&q^~R&Y,at=F&Z^~F&te,rt=oe&V^oe&N^V&N,At=se&H^se&K^H&K,st=(oe>>>28|se<<4)^(oe<<30|se>>>2)^(oe<<25|se>>>7),dt=(se>>>28|oe<<4)^(se<<30|oe>>>2)^(se<<25|oe>>>7),Wt=(R>>>14|F<<18)^(R>>>18|F<<14)^(R<<23|F>>>9),Nt=(F>>>14|R<<18)^(F>>>18|R<<14)^(F<<23|R>>>9),xt=f[ue],Zt=xt.high,Qt=xt.low,Ye=ce+Nt,qe=le+Wt+(Ye>>>0<ce>>>0?1:0),Ye=Ye+at,qe=qe+yt+(Ye>>>0<at>>>0?1:0),Ye=Ye+Qt,qe=qe+Zt+(Ye>>>0<Qt>>>0?1:0),Ye=Ye+ae,qe=qe+fe+(Ye>>>0<ae>>>0?1:0),nt=dt+At,ht=st+rt+(nt>>>0<dt>>>0?1:0);le=Y,ce=te,Y=q,te=Z,q=R,Z=F,F=he+Ye|0,R=ne+qe+(F>>>0<he>>>0?1:0)|0,ne=N,he=K,N=V,K=H,V=oe,H=se,se=Ye+nt|0,oe=qe+ht+(se>>>0<Ye>>>0?1:0)|0}_=m.low=_+se,m.high=D+oe+(_>>>0<se>>>0?1:0),S=g.low=S+H,g.high=A+V+(S>>>0<H>>>0?1:0),T=x.low=T+K,x.high=P+N+(T>>>0<K>>>0?1:0),O=b.low=O+he,b.high=$+ne+(O>>>0<he>>>0?1:0),z=C.low=z+F,C.high=M+R+(z>>>0<F>>>0?1:0),X=E.low=X+Z,E.high=G+q+(X>>>0<Z>>>0?1:0),L=w.low=L+te,w.high=I+Y+(L>>>0<te>>>0?1:0),j=B.low=j+ce,B.high=U+le+(j>>>0<ce>>>0?1:0)},_doFinalize:function(){var v=this._data,y=v.words,p=this._nDataBytes*8,m=v.sigBytes*8;y[m>>>5]|=128<<24-m%32,y[(m+128>>>10<<5)+30]=Math.floor(p/4294967296),y[(m+128>>>10<<5)+31]=p,v.sigBytes=y.length*4,this._process();var g=this._hash.toX32();return g},clone:function(){var v=i.clone.call(this);return v._hash=this._hash.clone(),v},blockSize:1024/32});n.SHA512=i._createHelper(h),n.HmacSHA512=i._createHmacHelper(h)}(),r.SHA512})}(vl)),vl.exports}var pl={exports:{}},d0;function Pw(){return d0||(d0=1,function(t,e){(function(r,n,a){t.exports=n(Pe(),bo(),jv())})(Ae,function(r){return function(){var n=r,a=n.x64,i=a.Word,s=a.WordArray,o=n.algo,u=o.SHA512,l=o.SHA384=u.extend({_doReset:function(){this._hash=new s.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var c=u._doFinalize.call(this);return c.sigBytes-=16,c}});n.SHA384=u._createHelper(l),n.HmacSHA384=u._createHmacHelper(l)}(),r.SHA384})}(pl)),pl.exports}var gl={exports:{}},h0;function Fw(){return h0||(h0=1,function(t,e){(function(r,n,a){t.exports=n(Pe(),bo())})(Ae,function(r){return function(n){var a=r,i=a.lib,s=i.WordArray,o=i.Hasher,u=a.x64,l=u.Word,c=a.algo,f=[],d=[],h=[];(function(){for(var p=1,m=0,g=0;g<24;g++){f[p+5*m]=(g+1)*(g+2)/2%64;var x=m%5,b=(2*p+3*m)%5;p=x,m=b}for(var p=0;p<5;p++)for(var m=0;m<5;m++)d[p+5*m]=m+(2*p+3*m)%5*5;for(var C=1,E=0;E<24;E++){for(var w=0,B=0,D=0;D<7;D++){if(C&1){var _=(1<<D)-1;_<32?B^=1<<_:w^=1<<_-32}C&128?C=C<<1^113:C<<=1}h[E]=l.create(w,B)}})();var v=[];(function(){for(var p=0;p<25;p++)v[p]=l.create()})();var y=c.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var p=this._state=[],m=0;m<25;m++)p[m]=new l.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(p,m){for(var g=this._state,x=this.blockSize/2,b=0;b<x;b++){var C=p[m+2*b],E=p[m+2*b+1];C=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,E=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360;var w=g[b];w.high^=E,w.low^=C}for(var B=0;B<24;B++){for(var D=0;D<5;D++){for(var _=0,A=0,S=0;S<5;S++){var w=g[D+5*S];_^=w.high,A^=w.low}var P=v[D];P.high=_,P.low=A}for(var D=0;D<5;D++)for(var T=v[(D+4)%5],$=v[(D+1)%5],O=$.high,M=$.low,_=T.high^(O<<1|M>>>31),A=T.low^(M<<1|O>>>31),S=0;S<5;S++){var w=g[D+5*S];w.high^=_,w.low^=A}for(var z=1;z<25;z++){var _,A,w=g[z],G=w.high,X=w.low,I=f[z];I<32?(_=G<<I|X>>>32-I,A=X<<I|G>>>32-I):(_=X<<I-32|G>>>64-I,A=G<<I-32|X>>>64-I);var L=v[d[z]];L.high=_,L.low=A}var U=v[0],j=g[0];U.high=j.high,U.low=j.low;for(var D=0;D<5;D++)for(var S=0;S<5;S++){var z=D+5*S,w=g[z],oe=v[z],se=v[(D+1)%5+5*S],V=v[(D+2)%5+5*S];w.high=oe.high^~se.high&V.high,w.low=oe.low^~se.low&V.low}var w=g[0],H=h[B];w.high^=H.high,w.low^=H.low}},_doFinalize:function(){var p=this._data,m=p.words;this._nDataBytes*8;var g=p.sigBytes*8,x=this.blockSize*32;m[g>>>5]|=1<<24-g%32,m[(n.ceil((g+1)/x)*x>>>5)-1]|=128,p.sigBytes=m.length*4,this._process();for(var b=this._state,C=this.cfg.outputLength/8,E=C/8,w=[],B=0;B<E;B++){var D=b[B],_=D.high,A=D.low;_=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,A=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,w.push(A),w.push(_)}return new s.init(w,C)},clone:function(){for(var p=o.clone.call(this),m=p._state=this._state.slice(0),g=0;g<25;g++)m[g]=m[g].clone();return p}});a.SHA3=o._createHelper(y),a.HmacSHA3=o._createHmacHelper(y)}(Math),r.SHA3})}(gl)),gl.exports}var ml={exports:{}},v0;function Rw(){return v0||(v0=1,function(t,e){(function(r,n){t.exports=n(Pe())})(Ae,function(r){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(n){var a=r,i=a.lib,s=i.WordArray,o=i.Hasher,u=a.algo,l=s.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=s.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),f=s.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),d=s.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),h=s.create([0,1518500249,1859775393,2400959708,2840853838]),v=s.create([1352829926,1548603684,1836072691,2053994217,0]),y=u.RIPEMD160=o.extend({_doReset:function(){this._hash=s.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(E,w){for(var B=0;B<16;B++){var D=w+B,_=E[D];E[D]=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360}var A=this._hash.words,S=h.words,P=v.words,T=l.words,$=c.words,O=f.words,M=d.words,z,G,X,I,L,U,j,oe,se,V;U=z=A[0],j=G=A[1],oe=X=A[2],se=I=A[3],V=L=A[4];for(var H,B=0;B<80;B+=1)H=z+E[w+T[B]]|0,B<16?H+=p(G,X,I)+S[0]:B<32?H+=m(G,X,I)+S[1]:B<48?H+=g(G,X,I)+S[2]:B<64?H+=x(G,X,I)+S[3]:H+=b(G,X,I)+S[4],H=H|0,H=C(H,O[B]),H=H+L|0,z=L,L=I,I=C(X,10),X=G,G=H,H=U+E[w+$[B]]|0,B<16?H+=b(j,oe,se)+P[0]:B<32?H+=x(j,oe,se)+P[1]:B<48?H+=g(j,oe,se)+P[2]:B<64?H+=m(j,oe,se)+P[3]:H+=p(j,oe,se)+P[4],H=H|0,H=C(H,M[B]),H=H+V|0,U=V,V=se,se=C(oe,10),oe=j,j=H;H=A[1]+X+se|0,A[1]=A[2]+I+V|0,A[2]=A[3]+L+U|0,A[3]=A[4]+z+j|0,A[4]=A[0]+G+oe|0,A[0]=H},_doFinalize:function(){var E=this._data,w=E.words,B=this._nDataBytes*8,D=E.sigBytes*8;w[D>>>5]|=128<<24-D%32,w[(D+64>>>9<<4)+14]=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360,E.sigBytes=(w.length+1)*4,this._process();for(var _=this._hash,A=_.words,S=0;S<5;S++){var P=A[S];A[S]=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360}return _},clone:function(){var E=o.clone.call(this);return E._hash=this._hash.clone(),E}});function p(E,w,B){return E^w^B}function m(E,w,B){return E&w|~E&B}function g(E,w,B){return(E|~w)^B}function x(E,w,B){return E&B|w&~B}function b(E,w,B){return E^(w|~B)}function C(E,w){return E<<w|E>>>32-w}a.RIPEMD160=o._createHelper(y),a.HmacRIPEMD160=o._createHmacHelper(y)}(),r.RIPEMD160})}(ml)),ml.exports}var yl={exports:{}},p0;function vc(){return p0||(p0=1,function(t,e){(function(r,n){t.exports=n(Pe())})(Ae,function(r){(function(){var n=r,a=n.lib,i=a.Base,s=n.enc,o=s.Utf8,u=n.algo;u.HMAC=i.extend({init:function(l,c){l=this._hasher=new l.init,typeof c=="string"&&(c=o.parse(c));var f=l.blockSize,d=f*4;c.sigBytes>d&&(c=l.finalize(c)),c.clamp();for(var h=this._oKey=c.clone(),v=this._iKey=c.clone(),y=h.words,p=v.words,m=0;m<f;m++)y[m]^=1549556828,p[m]^=909522486;h.sigBytes=v.sigBytes=d,this.reset()},reset:function(){var l=this._hasher;l.reset(),l.update(this._iKey)},update:function(l){return this._hasher.update(l),this},finalize:function(l){var c=this._hasher,f=c.finalize(l);c.reset();var d=c.finalize(this._oKey.clone().concat(f));return d}})})()})}(yl)),yl.exports}var xl={exports:{}},g0;function Ow(){return g0||(g0=1,function(t,e){(function(r,n,a){t.exports=n(Pe(),hc(),vc())})(Ae,function(r){return function(){var n=r,a=n.lib,i=a.Base,s=a.WordArray,o=n.algo,u=o.SHA256,l=o.HMAC,c=o.PBKDF2=i.extend({cfg:i.extend({keySize:128/32,hasher:u,iterations:25e4}),init:function(f){this.cfg=this.cfg.extend(f)},compute:function(f,d){for(var h=this.cfg,v=l.create(h.hasher,f),y=s.create(),p=s.create([1]),m=y.words,g=p.words,x=h.keySize,b=h.iterations;m.length<x;){var C=v.update(d).finalize(p);v.reset();for(var E=C.words,w=E.length,B=C,D=1;D<b;D++){B=v.finalize(B),v.reset();for(var _=B.words,A=0;A<w;A++)E[A]^=_[A]}y.concat(C),g[0]++}return y.sigBytes=x*4,y}});n.PBKDF2=function(f,d,h){return c.create(h).compute(f,d)}}(),r.PBKDF2})}(xl)),xl.exports}var bl={exports:{}},m0;function vn(){return m0||(m0=1,function(t,e){(function(r,n,a){t.exports=n(Pe(),Uv(),vc())})(Ae,function(r){return function(){var n=r,a=n.lib,i=a.Base,s=a.WordArray,o=n.algo,u=o.MD5,l=o.EvpKDF=i.extend({cfg:i.extend({keySize:128/32,hasher:u,iterations:1}),init:function(c){this.cfg=this.cfg.extend(c)},compute:function(c,f){for(var d,h=this.cfg,v=h.hasher.create(),y=s.create(),p=y.words,m=h.keySize,g=h.iterations;p.length<m;){d&&v.update(d),d=v.update(c).finalize(f),v.reset();for(var x=1;x<g;x++)d=v.finalize(d),v.reset();y.concat(d)}return y.sigBytes=m*4,y}});n.EvpKDF=function(c,f,d){return l.create(d).compute(c,f)}}(),r.EvpKDF})}(bl)),bl.exports}var wl={exports:{}},y0;function mt(){return y0||(y0=1,function(t,e){(function(r,n,a){t.exports=n(Pe(),vn())})(Ae,function(r){r.lib.Cipher||function(n){var a=r,i=a.lib,s=i.Base,o=i.WordArray,u=i.BufferedBlockAlgorithm,l=a.enc;l.Utf8;var c=l.Base64,f=a.algo,d=f.EvpKDF,h=i.Cipher=u.extend({cfg:s.extend(),createEncryptor:function(_,A){return this.create(this._ENC_XFORM_MODE,_,A)},createDecryptor:function(_,A){return this.create(this._DEC_XFORM_MODE,_,A)},init:function(_,A,S){this.cfg=this.cfg.extend(S),this._xformMode=_,this._key=A,this.reset()},reset:function(){u.reset.call(this),this._doReset()},process:function(_){return this._append(_),this._process()},finalize:function(_){_&&this._append(_);var A=this._doFinalize();return A},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function _(A){return typeof A=="string"?D:E}return function(A){return{encrypt:function(S,P,T){return _(P).encrypt(A,S,P,T)},decrypt:function(S,P,T){return _(P).decrypt(A,S,P,T)}}}}()});i.StreamCipher=h.extend({_doFinalize:function(){var _=this._process(!0);return _},blockSize:1});var v=a.mode={},y=i.BlockCipherMode=s.extend({createEncryptor:function(_,A){return this.Encryptor.create(_,A)},createDecryptor:function(_,A){return this.Decryptor.create(_,A)},init:function(_,A){this._cipher=_,this._iv=A}}),p=v.CBC=function(){var _=y.extend();_.Encryptor=_.extend({processBlock:function(S,P){var T=this._cipher,$=T.blockSize;A.call(this,S,P,$),T.encryptBlock(S,P),this._prevBlock=S.slice(P,P+$)}}),_.Decryptor=_.extend({processBlock:function(S,P){var T=this._cipher,$=T.blockSize,O=S.slice(P,P+$);T.decryptBlock(S,P),A.call(this,S,P,$),this._prevBlock=O}});function A(S,P,T){var $,O=this._iv;O?($=O,this._iv=n):$=this._prevBlock;for(var M=0;M<T;M++)S[P+M]^=$[M]}return _}(),m=a.pad={},g=m.Pkcs7={pad:function(_,A){for(var S=A*4,P=S-_.sigBytes%S,T=P<<24|P<<16|P<<8|P,$=[],O=0;O<P;O+=4)$.push(T);var M=o.create($,P);_.concat(M)},unpad:function(_){var A=_.words[_.sigBytes-1>>>2]&255;_.sigBytes-=A}};i.BlockCipher=h.extend({cfg:h.cfg.extend({mode:p,padding:g}),reset:function(){var _;h.reset.call(this);var A=this.cfg,S=A.iv,P=A.mode;this._xformMode==this._ENC_XFORM_MODE?_=P.createEncryptor:(_=P.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==_?this._mode.init(this,S&&S.words):(this._mode=_.call(P,this,S&&S.words),this._mode.__creator=_)},_doProcessBlock:function(_,A){this._mode.processBlock(_,A)},_doFinalize:function(){var _,A=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(A.pad(this._data,this.blockSize),_=this._process(!0)):(_=this._process(!0),A.unpad(_)),_},blockSize:128/32});var x=i.CipherParams=s.extend({init:function(_){this.mixIn(_)},toString:function(_){return(_||this.formatter).stringify(this)}}),b=a.format={},C=b.OpenSSL={stringify:function(_){var A,S=_.ciphertext,P=_.salt;return P?A=o.create([1398893684,1701076831]).concat(P).concat(S):A=S,A.toString(c)},parse:function(_){var A,S=c.parse(_),P=S.words;return P[0]==1398893684&&P[1]==1701076831&&(A=o.create(P.slice(2,4)),P.splice(0,4),S.sigBytes-=16),x.create({ciphertext:S,salt:A})}},E=i.SerializableCipher=s.extend({cfg:s.extend({format:C}),encrypt:function(_,A,S,P){P=this.cfg.extend(P);var T=_.createEncryptor(S,P),$=T.finalize(A),O=T.cfg;return x.create({ciphertext:$,key:S,iv:O.iv,algorithm:_,mode:O.mode,padding:O.padding,blockSize:_.blockSize,formatter:P.format})},decrypt:function(_,A,S,P){P=this.cfg.extend(P),A=this._parse(A,P.format);var T=_.createDecryptor(S,P).finalize(A.ciphertext);return T},_parse:function(_,A){return typeof _=="string"?A.parse(_,this):_}}),w=a.kdf={},B=w.OpenSSL={execute:function(_,A,S,P,T){if(P||(P=o.random(64/8)),T)var $=d.create({keySize:A+S,hasher:T}).compute(_,P);else var $=d.create({keySize:A+S}).compute(_,P);var O=o.create($.words.slice(A),S*4);return $.sigBytes=A*4,x.create({key:$,iv:O,salt:P})}},D=i.PasswordBasedCipher=E.extend({cfg:E.cfg.extend({kdf:B}),encrypt:function(_,A,S,P){P=this.cfg.extend(P);var T=P.kdf.execute(S,_.keySize,_.ivSize,P.salt,P.hasher);P.iv=T.iv;var $=E.encrypt.call(this,_,A,T.key,P);return $.mixIn(T),$},decrypt:function(_,A,S,P){P=this.cfg.extend(P),A=this._parse(A,P.format);var T=P.kdf.execute(S,_.keySize,_.ivSize,A.salt,P.hasher);P.iv=T.iv;var $=E.decrypt.call(this,_,A,T.key,P);return $}})}()})}(wl)),wl.exports}var El={exports:{}},x0;function Iw(){return x0||(x0=1,function(t,e){(function(r,n,a){t.exports=n(Pe(),mt())})(Ae,function(r){return r.mode.CFB=function(){var n=r.lib.BlockCipherMode.extend();n.Encryptor=n.extend({processBlock:function(i,s){var o=this._cipher,u=o.blockSize;a.call(this,i,s,u,o),this._prevBlock=i.slice(s,s+u)}}),n.Decryptor=n.extend({processBlock:function(i,s){var o=this._cipher,u=o.blockSize,l=i.slice(s,s+u);a.call(this,i,s,u,o),this._prevBlock=l}});function a(i,s,o,u){var l,c=this._iv;c?(l=c.slice(0),this._iv=void 0):l=this._prevBlock,u.encryptBlock(l,0);for(var f=0;f<o;f++)i[s+f]^=l[f]}return n}(),r.mode.CFB})}(El)),El.exports}var Cl={exports:{}},b0;function Lw(){return b0||(b0=1,function(t,e){(function(r,n,a){t.exports=n(Pe(),mt())})(Ae,function(r){return r.mode.CTR=function(){var n=r.lib.BlockCipherMode.extend(),a=n.Encryptor=n.extend({processBlock:function(i,s){var o=this._cipher,u=o.blockSize,l=this._iv,c=this._counter;l&&(c=this._counter=l.slice(0),this._iv=void 0);var f=c.slice(0);o.encryptBlock(f,0),c[u-1]=c[u-1]+1|0;for(var d=0;d<u;d++)i[s+d]^=f[d]}});return n.Decryptor=a,n}(),r.mode.CTR})}(Cl)),Cl.exports}var _l={exports:{}},w0;function Mw(){return w0||(w0=1,function(t,e){(function(r,n,a){t.exports=n(Pe(),mt())})(Ae,function(r){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return r.mode.CTRGladman=function(){var n=r.lib.BlockCipherMode.extend();function a(o){if((o>>24&255)===255){var u=o>>16&255,l=o>>8&255,c=o&255;u===255?(u=0,l===255?(l=0,c===255?c=0:++c):++l):++u,o=0,o+=u<<16,o+=l<<8,o+=c}else o+=1<<24;return o}function i(o){return(o[0]=a(o[0]))===0&&(o[1]=a(o[1])),o}var s=n.Encryptor=n.extend({processBlock:function(o,u){var l=this._cipher,c=l.blockSize,f=this._iv,d=this._counter;f&&(d=this._counter=f.slice(0),this._iv=void 0),i(d);var h=d.slice(0);l.encryptBlock(h,0);for(var v=0;v<c;v++)o[u+v]^=h[v]}});return n.Decryptor=s,n}(),r.mode.CTRGladman})}(_l)),_l.exports}var Bl={exports:{}},E0;function $w(){return E0||(E0=1,function(t,e){(function(r,n,a){t.exports=n(Pe(),mt())})(Ae,function(r){return r.mode.OFB=function(){var n=r.lib.BlockCipherMode.extend(),a=n.Encryptor=n.extend({processBlock:function(i,s){var o=this._cipher,u=o.blockSize,l=this._iv,c=this._keystream;l&&(c=this._keystream=l.slice(0),this._iv=void 0),o.encryptBlock(c,0);for(var f=0;f<u;f++)i[s+f]^=c[f]}});return n.Decryptor=a,n}(),r.mode.OFB})}(Bl)),Bl.exports}var Al={exports:{}},C0;function Nw(){return C0||(C0=1,function(t,e){(function(r,n,a){t.exports=n(Pe(),mt())})(Ae,function(r){return r.mode.ECB=function(){var n=r.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(a,i){this._cipher.encryptBlock(a,i)}}),n.Decryptor=n.extend({processBlock:function(a,i){this._cipher.decryptBlock(a,i)}}),n}(),r.mode.ECB})}(Al)),Al.exports}var Dl={exports:{}},_0;function zw(){return _0||(_0=1,function(t,e){(function(r,n,a){t.exports=n(Pe(),mt())})(Ae,function(r){return r.pad.AnsiX923={pad:function(n,a){var i=n.sigBytes,s=a*4,o=s-i%s,u=i+o-1;n.clamp(),n.words[u>>>2]|=o<<24-u%4*8,n.sigBytes+=o},unpad:function(n){var a=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=a}},r.pad.Ansix923})}(Dl)),Dl.exports}var Sl={exports:{}},B0;function Hw(){return B0||(B0=1,function(t,e){(function(r,n,a){t.exports=n(Pe(),mt())})(Ae,function(r){return r.pad.Iso10126={pad:function(n,a){var i=a*4,s=i-n.sigBytes%i;n.concat(r.lib.WordArray.random(s-1)).concat(r.lib.WordArray.create([s<<24],1))},unpad:function(n){var a=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=a}},r.pad.Iso10126})}(Sl)),Sl.exports}var kl={exports:{}},A0;function qw(){return A0||(A0=1,function(t,e){(function(r,n,a){t.exports=n(Pe(),mt())})(Ae,function(r){return r.pad.Iso97971={pad:function(n,a){n.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(n,a)},unpad:function(n){r.pad.ZeroPadding.unpad(n),n.sigBytes--}},r.pad.Iso97971})}(kl)),kl.exports}var Tl={exports:{}},D0;function Vw(){return D0||(D0=1,function(t,e){(function(r,n,a){t.exports=n(Pe(),mt())})(Ae,function(r){return r.pad.ZeroPadding={pad:function(n,a){var i=a*4;n.clamp(),n.sigBytes+=i-(n.sigBytes%i||i)},unpad:function(n){for(var a=n.words,i=n.sigBytes-1,i=n.sigBytes-1;i>=0;i--)if(a[i>>>2]>>>24-i%4*8&255){n.sigBytes=i+1;break}}},r.pad.ZeroPadding})}(Tl)),Tl.exports}var Pl={exports:{}},S0;function Uw(){return S0||(S0=1,function(t,e){(function(r,n,a){t.exports=n(Pe(),mt())})(Ae,function(r){return r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding})}(Pl)),Pl.exports}var Fl={exports:{}},k0;function jw(){return k0||(k0=1,function(t,e){(function(r,n,a){t.exports=n(Pe(),mt())})(Ae,function(r){return function(n){var a=r,i=a.lib,s=i.CipherParams,o=a.enc,u=o.Hex,l=a.format;l.Hex={stringify:function(c){return c.ciphertext.toString(u)},parse:function(c){var f=u.parse(c);return s.create({ciphertext:f})}}}(),r.format.Hex})}(Fl)),Fl.exports}var Rl={exports:{}},T0;function Ww(){return T0||(T0=1,function(t,e){(function(r,n,a){t.exports=n(Pe(),jn(),Wn(),vn(),mt())})(Ae,function(r){return function(){var n=r,a=n.lib,i=a.BlockCipher,s=n.algo,o=[],u=[],l=[],c=[],f=[],d=[],h=[],v=[],y=[],p=[];(function(){for(var x=[],b=0;b<256;b++)b<128?x[b]=b<<1:x[b]=b<<1^283;for(var C=0,E=0,b=0;b<256;b++){var w=E^E<<1^E<<2^E<<3^E<<4;w=w>>>8^w&255^99,o[C]=w,u[w]=C;var B=x[C],D=x[B],_=x[D],A=x[w]*257^w*16843008;l[C]=A<<24|A>>>8,c[C]=A<<16|A>>>16,f[C]=A<<8|A>>>24,d[C]=A;var A=_*16843009^D*65537^B*257^C*16843008;h[w]=A<<24|A>>>8,v[w]=A<<16|A>>>16,y[w]=A<<8|A>>>24,p[w]=A,C?(C=B^x[x[x[_^B]]],E^=x[x[E]]):C=E=1}})();var m=[0,1,2,4,8,16,32,64,128,27,54],g=s.AES=i.extend({_doReset:function(){var x;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var b=this._keyPriorReset=this._key,C=b.words,E=b.sigBytes/4,w=this._nRounds=E+6,B=(w+1)*4,D=this._keySchedule=[],_=0;_<B;_++)_<E?D[_]=C[_]:(x=D[_-1],_%E?E>6&&_%E==4&&(x=o[x>>>24]<<24|o[x>>>16&255]<<16|o[x>>>8&255]<<8|o[x&255]):(x=x<<8|x>>>24,x=o[x>>>24]<<24|o[x>>>16&255]<<16|o[x>>>8&255]<<8|o[x&255],x^=m[_/E|0]<<24),D[_]=D[_-E]^x);for(var A=this._invKeySchedule=[],S=0;S<B;S++){var _=B-S;if(S%4)var x=D[_];else var x=D[_-4];S<4||_<=4?A[S]=x:A[S]=h[o[x>>>24]]^v[o[x>>>16&255]]^y[o[x>>>8&255]]^p[o[x&255]]}}},encryptBlock:function(x,b){this._doCryptBlock(x,b,this._keySchedule,l,c,f,d,o)},decryptBlock:function(x,b){var C=x[b+1];x[b+1]=x[b+3],x[b+3]=C,this._doCryptBlock(x,b,this._invKeySchedule,h,v,y,p,u);var C=x[b+1];x[b+1]=x[b+3],x[b+3]=C},_doCryptBlock:function(x,b,C,E,w,B,D,_){for(var A=this._nRounds,S=x[b]^C[0],P=x[b+1]^C[1],T=x[b+2]^C[2],$=x[b+3]^C[3],O=4,M=1;M<A;M++){var z=E[S>>>24]^w[P>>>16&255]^B[T>>>8&255]^D[$&255]^C[O++],G=E[P>>>24]^w[T>>>16&255]^B[$>>>8&255]^D[S&255]^C[O++],X=E[T>>>24]^w[$>>>16&255]^B[S>>>8&255]^D[P&255]^C[O++],I=E[$>>>24]^w[S>>>16&255]^B[P>>>8&255]^D[T&255]^C[O++];S=z,P=G,T=X,$=I}var z=(_[S>>>24]<<24|_[P>>>16&255]<<16|_[T>>>8&255]<<8|_[$&255])^C[O++],G=(_[P>>>24]<<24|_[T>>>16&255]<<16|_[$>>>8&255]<<8|_[S&255])^C[O++],X=(_[T>>>24]<<24|_[$>>>16&255]<<16|_[S>>>8&255]<<8|_[P&255])^C[O++],I=(_[$>>>24]<<24|_[S>>>16&255]<<16|_[P>>>8&255]<<8|_[T&255])^C[O++];x[b]=z,x[b+1]=G,x[b+2]=X,x[b+3]=I},keySize:256/32});n.AES=i._createHelper(g)}(),r.AES})}(Rl)),Rl.exports}var Ol={exports:{}},P0;function Kw(){return P0||(P0=1,function(t,e){(function(r,n,a){t.exports=n(Pe(),jn(),Wn(),vn(),mt())})(Ae,function(r){return function(){var n=r,a=n.lib,i=a.WordArray,s=a.BlockCipher,o=n.algo,u=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],l=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],f=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],d=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=o.DES=s.extend({_doReset:function(){for(var m=this._key,g=m.words,x=[],b=0;b<56;b++){var C=u[b]-1;x[b]=g[C>>>5]>>>31-C%32&1}for(var E=this._subKeys=[],w=0;w<16;w++){for(var B=E[w]=[],D=c[w],b=0;b<24;b++)B[b/6|0]|=x[(l[b]-1+D)%28]<<31-b%6,B[4+(b/6|0)]|=x[28+(l[b+24]-1+D)%28]<<31-b%6;B[0]=B[0]<<1|B[0]>>>31;for(var b=1;b<7;b++)B[b]=B[b]>>>(b-1)*4+3;B[7]=B[7]<<5|B[7]>>>27}for(var _=this._invSubKeys=[],b=0;b<16;b++)_[b]=E[15-b]},encryptBlock:function(m,g){this._doCryptBlock(m,g,this._subKeys)},decryptBlock:function(m,g){this._doCryptBlock(m,g,this._invSubKeys)},_doCryptBlock:function(m,g,x){this._lBlock=m[g],this._rBlock=m[g+1],v.call(this,4,252645135),v.call(this,16,65535),y.call(this,2,858993459),y.call(this,8,16711935),v.call(this,1,1431655765);for(var b=0;b<16;b++){for(var C=x[b],E=this._lBlock,w=this._rBlock,B=0,D=0;D<8;D++)B|=f[D][((w^C[D])&d[D])>>>0];this._lBlock=w,this._rBlock=E^B}var _=this._lBlock;this._lBlock=this._rBlock,this._rBlock=_,v.call(this,1,1431655765),y.call(this,8,16711935),y.call(this,2,858993459),v.call(this,16,65535),v.call(this,4,252645135),m[g]=this._lBlock,m[g+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function v(m,g){var x=(this._lBlock>>>m^this._rBlock)&g;this._rBlock^=x,this._lBlock^=x<<m}function y(m,g){var x=(this._rBlock>>>m^this._lBlock)&g;this._lBlock^=x,this._rBlock^=x<<m}n.DES=s._createHelper(h);var p=o.TripleDES=s.extend({_doReset:function(){var m=this._key,g=m.words;if(g.length!==2&&g.length!==4&&g.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var x=g.slice(0,2),b=g.length<4?g.slice(0,2):g.slice(2,4),C=g.length<6?g.slice(0,2):g.slice(4,6);this._des1=h.createEncryptor(i.create(x)),this._des2=h.createEncryptor(i.create(b)),this._des3=h.createEncryptor(i.create(C))},encryptBlock:function(m,g){this._des1.encryptBlock(m,g),this._des2.decryptBlock(m,g),this._des3.encryptBlock(m,g)},decryptBlock:function(m,g){this._des3.decryptBlock(m,g),this._des2.encryptBlock(m,g),this._des1.decryptBlock(m,g)},keySize:192/32,ivSize:64/32,blockSize:64/32});n.TripleDES=s._createHelper(p)}(),r.TripleDES})}(Ol)),Ol.exports}var Il={exports:{}},F0;function Gw(){return F0||(F0=1,function(t,e){(function(r,n,a){t.exports=n(Pe(),jn(),Wn(),vn(),mt())})(Ae,function(r){return function(){var n=r,a=n.lib,i=a.StreamCipher,s=n.algo,o=s.RC4=i.extend({_doReset:function(){for(var c=this._key,f=c.words,d=c.sigBytes,h=this._S=[],v=0;v<256;v++)h[v]=v;for(var v=0,y=0;v<256;v++){var p=v%d,m=f[p>>>2]>>>24-p%4*8&255;y=(y+h[v]+m)%256;var g=h[v];h[v]=h[y],h[y]=g}this._i=this._j=0},_doProcessBlock:function(c,f){c[f]^=u.call(this)},keySize:256/32,ivSize:0});function u(){for(var c=this._S,f=this._i,d=this._j,h=0,v=0;v<4;v++){f=(f+1)%256,d=(d+c[f])%256;var y=c[f];c[f]=c[d],c[d]=y,h|=c[(c[f]+c[d])%256]<<24-v*8}return this._i=f,this._j=d,h}n.RC4=i._createHelper(o);var l=s.RC4Drop=o.extend({cfg:o.cfg.extend({drop:192}),_doReset:function(){o._doReset.call(this);for(var c=this.cfg.drop;c>0;c--)u.call(this)}});n.RC4Drop=i._createHelper(l)}(),r.RC4})}(Il)),Il.exports}var Ll={exports:{}},R0;function Yw(){return R0||(R0=1,function(t,e){(function(r,n,a){t.exports=n(Pe(),jn(),Wn(),vn(),mt())})(Ae,function(r){return function(){var n=r,a=n.lib,i=a.StreamCipher,s=n.algo,o=[],u=[],l=[],c=s.Rabbit=i.extend({_doReset:function(){for(var d=this._key.words,h=this.cfg.iv,v=0;v<4;v++)d[v]=(d[v]<<8|d[v]>>>24)&16711935|(d[v]<<24|d[v]>>>8)&4278255360;var y=this._X=[d[0],d[3]<<16|d[2]>>>16,d[1],d[0]<<16|d[3]>>>16,d[2],d[1]<<16|d[0]>>>16,d[3],d[2]<<16|d[1]>>>16],p=this._C=[d[2]<<16|d[2]>>>16,d[0]&4294901760|d[1]&65535,d[3]<<16|d[3]>>>16,d[1]&4294901760|d[2]&65535,d[0]<<16|d[0]>>>16,d[2]&4294901760|d[3]&65535,d[1]<<16|d[1]>>>16,d[3]&4294901760|d[0]&65535];this._b=0;for(var v=0;v<4;v++)f.call(this);for(var v=0;v<8;v++)p[v]^=y[v+4&7];if(h){var m=h.words,g=m[0],x=m[1],b=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,C=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,E=b>>>16|C&4294901760,w=C<<16|b&65535;p[0]^=b,p[1]^=E,p[2]^=C,p[3]^=w,p[4]^=b,p[5]^=E,p[6]^=C,p[7]^=w;for(var v=0;v<4;v++)f.call(this)}},_doProcessBlock:function(d,h){var v=this._X;f.call(this),o[0]=v[0]^v[5]>>>16^v[3]<<16,o[1]=v[2]^v[7]>>>16^v[5]<<16,o[2]=v[4]^v[1]>>>16^v[7]<<16,o[3]=v[6]^v[3]>>>16^v[1]<<16;for(var y=0;y<4;y++)o[y]=(o[y]<<8|o[y]>>>24)&16711935|(o[y]<<24|o[y]>>>8)&4278255360,d[h+y]^=o[y]},blockSize:128/32,ivSize:64/32});function f(){for(var d=this._X,h=this._C,v=0;v<8;v++)u[v]=h[v];h[0]=h[0]+1295307597+this._b|0,h[1]=h[1]+3545052371+(h[0]>>>0<u[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<u[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<u[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<u[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<u[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<u[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<u[6]>>>0?1:0)|0,this._b=h[7]>>>0<u[7]>>>0?1:0;for(var v=0;v<8;v++){var y=d[v]+h[v],p=y&65535,m=y>>>16,g=((p*p>>>17)+p*m>>>15)+m*m,x=((y&4294901760)*y|0)+((y&65535)*y|0);l[v]=g^x}d[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,d[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,d[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,d[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,d[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,d[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,d[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,d[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}n.Rabbit=i._createHelper(c)}(),r.Rabbit})}(Ll)),Ll.exports}var Ml={exports:{}},O0;function Xw(){return O0||(O0=1,function(t,e){(function(r,n,a){t.exports=n(Pe(),jn(),Wn(),vn(),mt())})(Ae,function(r){return function(){var n=r,a=n.lib,i=a.StreamCipher,s=n.algo,o=[],u=[],l=[],c=s.RabbitLegacy=i.extend({_doReset:function(){var d=this._key.words,h=this.cfg.iv,v=this._X=[d[0],d[3]<<16|d[2]>>>16,d[1],d[0]<<16|d[3]>>>16,d[2],d[1]<<16|d[0]>>>16,d[3],d[2]<<16|d[1]>>>16],y=this._C=[d[2]<<16|d[2]>>>16,d[0]&4294901760|d[1]&65535,d[3]<<16|d[3]>>>16,d[1]&4294901760|d[2]&65535,d[0]<<16|d[0]>>>16,d[2]&4294901760|d[3]&65535,d[1]<<16|d[1]>>>16,d[3]&4294901760|d[0]&65535];this._b=0;for(var p=0;p<4;p++)f.call(this);for(var p=0;p<8;p++)y[p]^=v[p+4&7];if(h){var m=h.words,g=m[0],x=m[1],b=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,C=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,E=b>>>16|C&4294901760,w=C<<16|b&65535;y[0]^=b,y[1]^=E,y[2]^=C,y[3]^=w,y[4]^=b,y[5]^=E,y[6]^=C,y[7]^=w;for(var p=0;p<4;p++)f.call(this)}},_doProcessBlock:function(d,h){var v=this._X;f.call(this),o[0]=v[0]^v[5]>>>16^v[3]<<16,o[1]=v[2]^v[7]>>>16^v[5]<<16,o[2]=v[4]^v[1]>>>16^v[7]<<16,o[3]=v[6]^v[3]>>>16^v[1]<<16;for(var y=0;y<4;y++)o[y]=(o[y]<<8|o[y]>>>24)&16711935|(o[y]<<24|o[y]>>>8)&4278255360,d[h+y]^=o[y]},blockSize:128/32,ivSize:64/32});function f(){for(var d=this._X,h=this._C,v=0;v<8;v++)u[v]=h[v];h[0]=h[0]+1295307597+this._b|0,h[1]=h[1]+3545052371+(h[0]>>>0<u[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<u[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<u[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<u[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<u[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<u[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<u[6]>>>0?1:0)|0,this._b=h[7]>>>0<u[7]>>>0?1:0;for(var v=0;v<8;v++){var y=d[v]+h[v],p=y&65535,m=y>>>16,g=((p*p>>>17)+p*m>>>15)+m*m,x=((y&4294901760)*y|0)+((y&65535)*y|0);l[v]=g^x}d[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,d[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,d[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,d[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,d[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,d[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,d[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,d[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}n.RabbitLegacy=i._createHelper(c)}(),r.RabbitLegacy})}(Ml)),Ml.exports}var $l={exports:{}},I0;function Zw(){return I0||(I0=1,function(t,e){(function(r,n,a){t.exports=n(Pe(),jn(),Wn(),vn(),mt())})(Ae,function(r){return function(){var n=r,a=n.lib,i=a.BlockCipher,s=n.algo;const o=16,u=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],l=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var c={pbox:[],sbox:[]};function f(p,m){let g=m>>24&255,x=m>>16&255,b=m>>8&255,C=m&255,E=p.sbox[0][g]+p.sbox[1][x];return E=E^p.sbox[2][b],E=E+p.sbox[3][C],E}function d(p,m,g){let x=m,b=g,C;for(let E=0;E<o;++E)x=x^p.pbox[E],b=f(p,x)^b,C=x,x=b,b=C;return C=x,x=b,b=C,b=b^p.pbox[o],x=x^p.pbox[o+1],{left:x,right:b}}function h(p,m,g){let x=m,b=g,C;for(let E=o+1;E>1;--E)x=x^p.pbox[E],b=f(p,x)^b,C=x,x=b,b=C;return C=x,x=b,b=C,b=b^p.pbox[1],x=x^p.pbox[0],{left:x,right:b}}function v(p,m,g){for(let w=0;w<4;w++){p.sbox[w]=[];for(let B=0;B<256;B++)p.sbox[w][B]=l[w][B]}let x=0;for(let w=0;w<o+2;w++)p.pbox[w]=u[w]^m[x],x++,x>=g&&(x=0);let b=0,C=0,E=0;for(let w=0;w<o+2;w+=2)E=d(p,b,C),b=E.left,C=E.right,p.pbox[w]=b,p.pbox[w+1]=C;for(let w=0;w<4;w++)for(let B=0;B<256;B+=2)E=d(p,b,C),b=E.left,C=E.right,p.sbox[w][B]=b,p.sbox[w][B+1]=C;return!0}var y=s.Blowfish=i.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var p=this._keyPriorReset=this._key,m=p.words,g=p.sigBytes/4;v(c,m,g)}},encryptBlock:function(p,m){var g=d(c,p[m],p[m+1]);p[m]=g.left,p[m+1]=g.right},decryptBlock:function(p,m){var g=h(c,p[m],p[m+1]);p[m]=g.left,p[m+1]=g.right},blockSize:64/32,keySize:128/32,ivSize:64/32});n.Blowfish=i._createHelper(y)}(),r.Blowfish})}($l)),$l.exports}(function(t,e){(function(r,n,a){t.exports=n(Pe(),bo(),Dw(),Sw(),jn(),kw(),Wn(),Uv(),hc(),Tw(),jv(),Pw(),Fw(),Rw(),vc(),Ow(),vn(),mt(),Iw(),Lw(),Mw(),$w(),Nw(),zw(),Hw(),qw(),Vw(),Uw(),jw(),Ww(),Kw(),Gw(),Yw(),Xw(),Zw())})(Ae,function(r){return r})})(Vv);var Qw=Vv.exports;const Jw=S1(Qw),Kn=(t,e)=>{const r=t.__vccOpts||t;for(const[n,a]of e)r[n]=a;return r},e2="https://vhhyfjcnkfmcjyqeymec.supabase.co",t2="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZoaHlmamNua2ZtY2p5cWV5bWVjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjQ1Mjc2NDIsImV4cCI6MjA0MDEwMzY0Mn0.Qjc5L6Nyfnj-xtTR48Dy9EXmxzb-abHTQhmYncIZ9J4",L0=Un(e2,t2),r2={setup(){return{ChevronDownIcon:xv}},methods:{home(){this.$router.push("/home")},manage(){this.$router.push("/manage")},search(){this.$router.push("/search")},profile(){this.showDropdown=!this.showDropdown},async signOut(){await L0.auth.signOut(),this.$router.push("/login")}},data(){return{hash:"",gravatarUrl:"",userEmail:"",showDropdown:!1}},async mounted(){const{data:{user:t}}=await L0.auth.getUser();t||this.$router.push("/login");const e=t.email;this.userEmail=e;const r=e.trim().toLowerCase();this.hash=Jw.SHA256(r).toString(),this.gravatarUrl=`https://www.gravatar.com/avatar/${this.hash}?d=identicon`}},Wv=t=>(Qu("data-v-c4fc2336"),t=t(),Ju(),t),n2={class:"navbar"},a2=Wv(()=>ve("h3",null,"EPI-USE",-1)),i2=[a2],s2={class:"options"},o2={class:"settings-profile"},l2={class:"settings-profile"},u2=["src"],c2=Wv(()=>ve("button",null,"Profile",-1)),f2=["src"];function d2(t,e,r,n,a,i){return lt(),$t("div",n2,[ve("div",{class:"logo",onClick:e[0]||(e[0]=s=>i.home())},i2),ve("div",s2,[ve("div",null,[ve("button",{onClick:e[1]||(e[1]=s=>i.home())},"Home")]),ve("div",null,[ve("button",{onClick:e[2]||(e[2]=s=>i.search())},"View Employees")])]),ve("div",o2,[ve("div",l2,[a.showDropdown?(lt(),$t("div",{key:1,class:"profile-dropdown",onClick:e[6]||(e[6]=cx(()=>{},["stop"]))},[ve("img",{src:a.gravatarUrl,alt:"profile picture",class:"dropdown-avatar"},null,8,f2),ve("p",null,ur(a.userEmail),1),ve("button",{onClick:e[4]||(e[4]=s=>i.signOut()),class:"sign-out-button"},"Sign Out"),ve("button",{onClick:e[5]||(e[5]=s=>i.profile()),class:"close-dropdown-button"},"Close")])):(lt(),$t("div",{key:0,class:"profile-button",onClick:e[3]||(e[3]=s=>i.profile())},[ve("img",{src:a.gravatarUrl,alt:"profile picture",class:"profile-picture"},null,8,u2),c2,(lt(),oo(Ym(n.ChevronDownIcon),{class:"h-5 w-5"}))]))])])])}const h2=Kn(r2,[["render",d2],["__scopeId","data-v-c4fc2336"]]),v2={__name:"App",setup(t){return(e,r)=>{const n=au("RouterView");return lt(),$t(Mt,null,[e.$route.matched.some(a=>a.meta.hideNavbar)?nc("",!0):(lt(),oo(h2,{key:0})),gt(n)],64)}}};function ct(t){"@babel/helpers - typeof";return ct=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ct(t)}function pc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function gc(t,e,r){return e&&p2(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kv(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lr(t,e){return g2(t)||m2(t,e)||Gv(t,e)||y2()}function g2(t){if(Array.isArray(t))return t}function m2(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],a=!0,i=!1,s,o;try{for(r=r.call(t);!(a=(s=r.next()).done)&&(n.push(s.value),!(e&&n.length===e));a=!0);}catch(u){i=!0,o=u}finally{try{!a&&r.return!=null&&r.return()}finally{if(i)throw o}}return n}}function Gv(t,e){if(t){if(typeof t=="string")return M0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M0(t,e)}}function M0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function y2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yv(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Gv(t))||e){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,s=!1,o;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return i=u.done,u},e:function(u){s=!0,o=u},f:function(){try{!i&&r.return!=null&&r.return()}finally{if(s)throw o}}}}var ot=typeof window>"u"?null:window,$0=ot?ot.navigator:null;ot&&ot.document;var x2=ct(""),Xv=ct({}),b2=ct(function(){}),w2=typeof HTMLElement>"u"?"undefined":ct(HTMLElement),Ni=function(e){return e&&e.instanceString&&Je(e.instanceString)?e.instanceString():null},_e=function(e){return e!=null&&ct(e)==x2},Je=function(e){return e!=null&&ct(e)===b2},Ue=function(e){return!Yt(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},Oe=function(e){return e!=null&&ct(e)===Xv&&!Ue(e)&&e.constructor===Object},E2=function(e){return e!=null&&ct(e)===Xv},ge=function(e){return e!=null&&ct(e)===ct(1)&&!isNaN(e)},C2=function(e){return ge(e)&&Math.floor(e)===e},Ns=function(e){if(w2!=="undefined")return e!=null&&e instanceof HTMLElement},Yt=function(e){return zi(e)||Zv(e)},zi=function(e){return Ni(e)==="collection"&&e._private.single},Zv=function(e){return Ni(e)==="collection"&&!e._private.single},mc=function(e){return Ni(e)==="core"},Qv=function(e){return Ni(e)==="stylesheet"},_2=function(e){return Ni(e)==="event"},sn=function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},B2=function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},A2=function(e){return Oe(e)&&ge(e.x1)&&ge(e.x2)&&ge(e.y1)&&ge(e.y2)},D2=function(e){return E2(e)&&Je(e.then)},S2=function(){return $0&&$0.userAgent.match(/msie|trident|edge/i)},_i=function(e,r){r||(r=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var i=[],s=0;s<arguments.length;s++)i.push(arguments[s]);return i.join("$")});var n=function a(){var i=this,s=arguments,o,u=r.apply(i,s),l=a.cache;return(o=l[u])||(o=l[u]=e.apply(i,s)),o};return n.cache={},n},yc=_i(function(t){return t.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),wo=_i(function(t){return t.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),Jv=_i(function(t,e){return t+e[0].toUpperCase()+e.substring(1)},function(t,e){return t+"$"+e}),N0=function(e){return sn(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},ut="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",k2="rgb[a]?\\(("+ut+"[%]?)\\s*,\\s*("+ut+"[%]?)\\s*,\\s*("+ut+"[%]?)(?:\\s*,\\s*("+ut+"))?\\)",T2="rgb[a]?\\((?:"+ut+"[%]?)\\s*,\\s*(?:"+ut+"[%]?)\\s*,\\s*(?:"+ut+"[%]?)(?:\\s*,\\s*(?:"+ut+"))?\\)",P2="hsl[a]?\\(("+ut+")\\s*,\\s*("+ut+"[%])\\s*,\\s*("+ut+"[%])(?:\\s*,\\s*("+ut+"))?\\)",F2="hsl[a]?\\((?:"+ut+")\\s*,\\s*(?:"+ut+"[%])\\s*,\\s*(?:"+ut+"[%])(?:\\s*,\\s*(?:"+ut+"))?\\)",R2="\\#[0-9a-fA-F]{3}",O2="\\#[0-9a-fA-F]{6}",ep=function(e,r){return e<r?-1:e>r?1:0},I2=function(e,r){return-1*ep(e,r)},Be=Object.assign!=null?Object.assign.bind(Object):function(t){for(var e=arguments,r=1;r<e.length;r++){var n=e[r];if(n!=null)for(var a=Object.keys(n),i=0;i<a.length;i++){var s=a[i];t[s]=n[s]}}return t},L2=function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var r=e.length===4,n,a,i,s=16;return r?(n=parseInt(e[1]+e[1],s),a=parseInt(e[2]+e[2],s),i=parseInt(e[3]+e[3],s)):(n=parseInt(e[1]+e[2],s),a=parseInt(e[3]+e[4],s),i=parseInt(e[5]+e[6],s)),[n,a,i]}},M2=function(e){var r,n,a,i,s,o,u,l;function c(v,y,p){return p<0&&(p+=1),p>1&&(p-=1),p<1/6?v+(y-v)*6*p:p<1/2?y:p<2/3?v+(y-v)*(2/3-p)*6:v}var f=new RegExp("^"+P2+"$").exec(e);if(f){if(n=parseInt(f[1]),n<0?n=(360- -1*n%360)%360:n>360&&(n=n%360),n/=360,a=parseFloat(f[2]),a<0||a>100||(a=a/100,i=parseFloat(f[3]),i<0||i>100)||(i=i/100,s=f[4],s!==void 0&&(s=parseFloat(s),s<0||s>1)))return;if(a===0)o=u=l=Math.round(i*255);else{var d=i<.5?i*(1+a):i+a-i*a,h=2*i-d;o=Math.round(255*c(h,d,n+1/3)),u=Math.round(255*c(h,d,n)),l=Math.round(255*c(h,d,n-1/3))}r=[o,u,l,s]}return r},$2=function(e){var r,n=new RegExp("^"+k2+"$").exec(e);if(n){r=[];for(var a=[],i=1;i<=3;i++){var s=n[i];if(s[s.length-1]==="%"&&(a[i]=!0),s=parseFloat(s),a[i]&&(s=s/100*255),s<0||s>255)return;r.push(Math.floor(s))}var o=a[1]||a[2]||a[3],u=a[1]&&a[2]&&a[3];if(o&&!u)return;var l=n[4];if(l!==void 0){if(l=parseFloat(l),l<0||l>1)return;r.push(l)}}return r},N2=function(e){return H2[e.toLowerCase()]},z2=function(e){return(Ue(e)?e:null)||N2(e)||L2(e)||$2(e)||M2(e)},H2={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},tp=function(e){for(var r=e.map,n=e.keys,a=n.length,i=0;i<a;i++){var s=n[i];if(Oe(s))throw Error("Tried to set map with object key");i<n.length-1?(r[s]==null&&(r[s]={}),r=r[s]):r[s]=e.value}},rp=function(e){for(var r=e.map,n=e.keys,a=n.length,i=0;i<a;i++){var s=n[i];if(Oe(s))throw Error("Tried to get map with object key");if(r=r[s],r==null)return r}return r};function q2(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Rn=q2,ti=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function V2(t,e){return e={exports:{}},t(e,e.exports),e.exports}var U2=typeof ti=="object"&&ti&&ti.Object===Object&&ti,j2=U2,W2=typeof self=="object"&&self&&self.Object===Object&&self,K2=j2||W2||Function("return this")(),Eo=K2,G2=function(){return Eo.Date.now()},Nl=G2,Y2=/\s/;function X2(t){for(var e=t.length;e--&&Y2.test(t.charAt(e)););return e}var Z2=X2,Q2=/^\s+/;function J2(t){return t&&t.slice(0,Z2(t)+1).replace(Q2,"")}var eE=J2,tE=Eo.Symbol,Aa=tE,np=Object.prototype,rE=np.hasOwnProperty,nE=np.toString,Ga=Aa?Aa.toStringTag:void 0;function aE(t){var e=rE.call(t,Ga),r=t[Ga];try{t[Ga]=void 0;var n=!0}catch{}var a=nE.call(t);return n&&(e?t[Ga]=r:delete t[Ga]),a}var iE=aE,sE=Object.prototype,oE=sE.toString;function lE(t){return oE.call(t)}var uE=lE,cE="[object Null]",fE="[object Undefined]",z0=Aa?Aa.toStringTag:void 0;function dE(t){return t==null?t===void 0?fE:cE:z0&&z0 in Object(t)?iE(t):uE(t)}var ap=dE;function hE(t){return t!=null&&typeof t=="object"}var vE=hE,pE="[object Symbol]";function gE(t){return typeof t=="symbol"||vE(t)&&ap(t)==pE}var Hi=gE,H0=NaN,mE=/^[-+]0x[0-9a-f]+$/i,yE=/^0b[01]+$/i,xE=/^0o[0-7]+$/i,bE=parseInt;function wE(t){if(typeof t=="number")return t;if(Hi(t))return H0;if(Rn(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Rn(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=eE(t);var r=yE.test(t);return r||xE.test(t)?bE(t.slice(2),r?2:8):mE.test(t)?H0:+t}var q0=wE,EE="Expected a function",CE=Math.max,_E=Math.min;function BE(t,e,r){var n,a,i,s,o,u,l=0,c=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(EE);e=q0(e)||0,Rn(r)&&(c=!!r.leading,f="maxWait"in r,i=f?CE(q0(r.maxWait)||0,e):i,d="trailing"in r?!!r.trailing:d);function h(E){var w=n,B=a;return n=a=void 0,l=E,s=t.apply(B,w),s}function v(E){return l=E,o=setTimeout(m,e),c?h(E):s}function y(E){var w=E-u,B=E-l,D=e-w;return f?_E(D,i-B):D}function p(E){var w=E-u,B=E-l;return u===void 0||w>=e||w<0||f&&B>=i}function m(){var E=Nl();if(p(E))return g(E);o=setTimeout(m,y(E))}function g(E){return o=void 0,d&&n?h(E):(n=a=void 0,s)}function x(){o!==void 0&&clearTimeout(o),l=0,n=u=a=o=void 0}function b(){return o===void 0?s:g(Nl())}function C(){var E=Nl(),w=p(E);if(n=arguments,a=this,u=E,w){if(o===void 0)return v(u);if(f)return clearTimeout(o),o=setTimeout(m,e),h(u)}return o===void 0&&(o=setTimeout(m,e)),s}return C.cancel=x,C.flush=b,C}var Co=BE,zl=ot?ot.performance:null,ip=zl&&zl.now?function(){return zl.now()}:function(){return Date.now()},AE=function(){if(ot){if(ot.requestAnimationFrame)return function(t){ot.requestAnimationFrame(t)};if(ot.mozRequestAnimationFrame)return function(t){ot.mozRequestAnimationFrame(t)};if(ot.webkitRequestAnimationFrame)return function(t){ot.webkitRequestAnimationFrame(t)};if(ot.msRequestAnimationFrame)return function(t){ot.msRequestAnimationFrame(t)}}return function(t){t&&setTimeout(function(){t(ip())},1e3/60)}}(),zs=function(e){return AE(e)},Or=ip,oa=9261,sp=65599,ri=5381,op=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:oa,n=r,a;a=e.next(),!a.done;)n=n*sp+a.value|0;return n},Bi=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:oa;return r*sp+e|0},Ai=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ri;return(r<<5)+r+e|0},DE=function(e,r){return e*2097152+r},qr=function(e){return e[0]*2097152+e[1]},as=function(e,r){return[Bi(e[0],r[0]),Ai(e[1],r[1])]},SE=function(e,r){var n={value:0,done:!1},a=0,i=e.length,s={next:function(){return a<i?n.value=e[a++]:n.done=!0,n}};return op(s,r)},On=function(e,r){var n={value:0,done:!1},a=0,i=e.length,s={next:function(){return a<i?n.value=e.charCodeAt(a++):n.done=!0,n}};return op(s,r)},lp=function(){return kE(arguments)},kE=function(e){for(var r,n=0;n<e.length;n++){var a=e[n];n===0?r=On(a):r=On(a,r)}return r},V0=!0,TE=console.warn!=null,PE=console.trace!=null,xc=Number.MAX_SAFE_INTEGER||9007199254740991,up=function(){return!0},Hs=function(){return!1},U0=function(){return 0},bc=function(){},et=function(e){throw new Error(e)},cp=function(e){if(e!==void 0)V0=!!e;else return V0},Ne=function(e){cp()&&(TE?console.warn(e):(console.log(e),PE&&console.trace()))},FE=function(e){return Be({},e)},_r=function(e){return e==null?e:Ue(e)?e.slice():Oe(e)?FE(e):e},RE=function(e){return e.slice()},fp=function(e,r){for(r=e="";e++<36;r+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return r},OE={},dp=function(){return OE},_t=function(e){var r=Object.keys(e);return function(n){for(var a={},i=0;i<r.length;i++){var s=r[i],o=n==null?void 0:n[s];a[s]=o===void 0?e[s]:o}return a}},on=function(e,r,n){for(var a=e.length-1;a>=0;a--)e[a]===r&&e.splice(a,1)},wc=function(e){e.splice(0,e.length)},IE=function(e,r){for(var n=0;n<r.length;n++){var a=r[n];e.push(a)}},dr=function(e,r,n){return n&&(r=Jv(n,r)),e[r]},Zr=function(e,r,n,a){n&&(r=Jv(n,r)),e[r]=a},LE=function(){function t(){pc(this,t),this._obj={}}return gc(t,[{key:"set",value:function(r,n){return this._obj[r]=n,this}},{key:"delete",value:function(r){return this._obj[r]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(r){return this._obj[r]!==void 0}},{key:"get",value:function(r){return this._obj[r]}}]),t}(),Br=typeof Map<"u"?Map:LE,ME="undefined",$E=function(){function t(e){if(pc(this,t),this._obj=Object.create(null),this.size=0,e!=null){var r;e.instanceString!=null&&e.instanceString()===this.instanceString()?r=e.toArray():r=e;for(var n=0;n<r.length;n++)this.add(r[n])}}return gc(t,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(r){var n=this._obj;n[r]!==1&&(n[r]=1,this.size++)}},{key:"delete",value:function(r){var n=this._obj;n[r]===1&&(n[r]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(r){return this._obj[r]===1}},{key:"toArray",value:function(){var r=this;return Object.keys(this._obj).filter(function(n){return r.has(n)})}},{key:"forEach",value:function(r,n){return this.toArray().forEach(r,n)}}]),t}(),Pa=(typeof Set>"u"?"undefined":ct(Set))!==ME?Set:$E,_o=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||r===void 0||!mc(e)){et("An element must have a core reference and parameters set");return}var a=r.group;if(a==null&&(r.data&&r.data.source!=null&&r.data.target!=null?a="edges":a="nodes"),a!=="nodes"&&a!=="edges"){et("An element must be of type `nodes` or `edges`; you specified `"+a+"`");return}this.length=1,this[0]=this;var i=this._private={cy:e,single:!0,data:r.data||{},position:r.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:a,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!r.selected,selectable:r.selectable===void 0?!0:!!r.selectable,locked:!!r.locked,grabbed:!1,grabbable:r.grabbable===void 0?!0:!!r.grabbable,pannable:r.pannable===void 0?a==="edges":!!r.pannable,active:!1,classes:new Pa,animation:{current:[],queue:[]},rscratch:{},scratch:r.scratch||{},edges:[],children:[],parent:r.parent&&r.parent.isNode()?r.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(i.position.x==null&&(i.position.x=0),i.position.y==null&&(i.position.y=0),r.renderedPosition){var s=r.renderedPosition,o=e.pan(),u=e.zoom();i.position={x:(s.x-o.x)/u,y:(s.y-o.y)/u}}var l=[];Ue(r.classes)?l=r.classes:_e(r.classes)&&(l=r.classes.split(/\s+/));for(var c=0,f=l.length;c<f;c++){var d=l[c];!d||d===""||i.classes.add(d)}this.createEmitter();var h=r.style||r.css;h&&(Ne("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(h)),(n===void 0||n)&&this.restore()},j0=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(n,a,i){var s;Oe(n)&&!Yt(n)&&(s=n,n=s.roots||s.root,a=s.visit,i=s.directed),i=arguments.length===2&&!Je(a)?a:i,a=Je(a)?a:function(){};for(var o=this._private.cy,u=n=_e(n)?this.filter(n):n,l=[],c=[],f={},d={},h={},v=0,y,p=this.byGroup(),m=p.nodes,g=p.edges,x=0;x<u.length;x++){var b=u[x],C=b.id();b.isNode()&&(l.unshift(b),e.bfs&&(h[C]=!0,c.push(b)),d[C]=0)}for(var E=function(){var P=e.bfs?l.shift():l.pop(),T=P.id();if(e.dfs){if(h[T])return"continue";h[T]=!0,c.push(P)}var $=d[T],O=f[T],M=O!=null?O.source():null,z=O!=null?O.target():null,G=O==null?void 0:P.same(M)?z[0]:M[0],X=void 0;if(X=a(P,O,G,v++,$),X===!0)return y=P,"break";if(X===!1)return"break";for(var I=P.connectedEdges().filter(function(se){return(!i||se.source().same(P))&&g.has(se)}),L=0;L<I.length;L++){var U=I[L],j=U.connectedNodes().filter(function(se){return!se.same(P)&&m.has(se)}),oe=j.id();j.length!==0&&!h[oe]&&(j=j[0],l.push(j),e.bfs&&(h[oe]=!0,c.push(j)),f[oe]=U,d[oe]=d[T]+1)}};l.length!==0;){var w=E();if(w!=="continue"&&w==="break")break}for(var B=o.collection(),D=0;D<c.length;D++){var _=c[D],A=f[_.id()];A!=null&&B.push(A),B.push(_)}return{path:o.collection(B),found:o.collection(y)}}},Di={breadthFirstSearch:j0({bfs:!0}),depthFirstSearch:j0({dfs:!0})};Di.bfs=Di.breadthFirstSearch;Di.dfs=Di.depthFirstSearch;var NE=V2(function(t,e){(function(){var r,n,a,i,s,o,u,l,c,f,d,h,v,y,p;a=Math.floor,f=Math.min,n=function(m,g){return m<g?-1:m>g?1:0},c=function(m,g,x,b,C){var E;if(x==null&&(x=0),C==null&&(C=n),x<0)throw new Error("lo must be non-negative");for(b==null&&(b=m.length);x<b;)E=a((x+b)/2),C(g,m[E])<0?b=E:x=E+1;return[].splice.apply(m,[x,x-x].concat(g)),g},o=function(m,g,x){return x==null&&(x=n),m.push(g),y(m,0,m.length-1,x)},s=function(m,g){var x,b;return g==null&&(g=n),x=m.pop(),m.length?(b=m[0],m[0]=x,p(m,0,g)):b=x,b},l=function(m,g,x){var b;return x==null&&(x=n),b=m[0],m[0]=g,p(m,0,x),b},u=function(m,g,x){var b;return x==null&&(x=n),m.length&&x(m[0],g)<0&&(b=[m[0],g],g=b[0],m[0]=b[1],p(m,0,x)),g},i=function(m,g){var x,b,C,E,w,B;for(g==null&&(g=n),E=(function(){B=[];for(var D=0,_=a(m.length/2);0<=_?D<_:D>_;0<=_?D++:D--)B.push(D);return B}).apply(this).reverse(),w=[],b=0,C=E.length;b<C;b++)x=E[b],w.push(p(m,x,g));return w},v=function(m,g,x){var b;if(x==null&&(x=n),b=m.indexOf(g),b!==-1)return y(m,0,b,x),p(m,b,x)},d=function(m,g,x){var b,C,E,w,B;if(x==null&&(x=n),C=m.slice(0,g),!C.length)return C;for(i(C,x),B=m.slice(g),E=0,w=B.length;E<w;E++)b=B[E],u(C,b,x);return C.sort(x).reverse()},h=function(m,g,x){var b,C,E,w,B,D,_,A,S;if(x==null&&(x=n),g*10<=m.length){if(E=m.slice(0,g).sort(x),!E.length)return E;for(C=E[E.length-1],_=m.slice(g),w=0,D=_.length;w<D;w++)b=_[w],x(b,C)<0&&(c(E,b,0,null,x),E.pop(),C=E[E.length-1]);return E}for(i(m,x),S=[],B=0,A=f(g,m.length);0<=A?B<A:B>A;0<=A?++B:--B)S.push(s(m,x));return S},y=function(m,g,x,b){var C,E,w;for(b==null&&(b=n),C=m[x];x>g;){if(w=x-1>>1,E=m[w],b(C,E)<0){m[x]=E,x=w;continue}break}return m[x]=C},p=function(m,g,x){var b,C,E,w,B;for(x==null&&(x=n),C=m.length,B=g,E=m[g],b=2*g+1;b<C;)w=b+1,w<C&&!(x(m[b],m[w])<0)&&(b=w),m[g]=m[b],g=b,b=2*g+1;return m[g]=E,y(m,B,g,x)},r=function(){m.push=o,m.pop=s,m.replace=l,m.pushpop=u,m.heapify=i,m.updateItem=v,m.nlargest=d,m.nsmallest=h;function m(g){this.cmp=g??n,this.nodes=[]}return m.prototype.push=function(g){return o(this.nodes,g,this.cmp)},m.prototype.pop=function(){return s(this.nodes,this.cmp)},m.prototype.peek=function(){return this.nodes[0]},m.prototype.contains=function(g){return this.nodes.indexOf(g)!==-1},m.prototype.replace=function(g){return l(this.nodes,g,this.cmp)},m.prototype.pushpop=function(g){return u(this.nodes,g,this.cmp)},m.prototype.heapify=function(){return i(this.nodes,this.cmp)},m.prototype.updateItem=function(g){return v(this.nodes,g,this.cmp)},m.prototype.clear=function(){return this.nodes=[]},m.prototype.empty=function(){return this.nodes.length===0},m.prototype.size=function(){return this.nodes.length},m.prototype.clone=function(){var g;return g=new m,g.nodes=this.nodes.slice(0),g},m.prototype.toArray=function(){return this.nodes.slice(0)},m.prototype.insert=m.prototype.push,m.prototype.top=m.prototype.peek,m.prototype.front=m.prototype.peek,m.prototype.has=m.prototype.contains,m.prototype.copy=m.prototype.clone,m}(),function(m,g){return t.exports=g()}(this,function(){return r})}).call(ti)}),qi=NE,zE=_t({root:null,weight:function(e){return 1},directed:!1}),HE={dijkstra:function(e){if(!Oe(e)){var r=arguments;e={root:r[0],weight:r[1],directed:r[2]}}var n=zE(e),a=n.root,i=n.weight,s=n.directed,o=this,u=i,l=_e(a)?this.filter(a)[0]:a[0],c={},f={},d={},h=this.byGroup(),v=h.nodes,y=h.edges;y.unmergeBy(function($){return $.isLoop()});for(var p=function(O){return c[O.id()]},m=function(O,M){c[O.id()]=M,g.updateItem(O)},g=new qi(function($,O){return p($)-p(O)}),x=0;x<v.length;x++){var b=v[x];c[b.id()]=b.same(l)?0:1/0,g.push(b)}for(var C=function(O,M){for(var z=(s?O.edgesTo(M):O.edgesWith(M)).intersect(y),G=1/0,X,I=0;I<z.length;I++){var L=z[I],U=u(L);(U<G||!X)&&(G=U,X=L)}return{edge:X,dist:G}};g.size()>0;){var E=g.pop(),w=p(E),B=E.id();if(d[B]=w,w!==1/0)for(var D=E.neighborhood().intersect(v),_=0;_<D.length;_++){var A=D[_],S=A.id(),P=C(E,A),T=w+P.dist;T<p(A)&&(m(A,T),f[S]={node:E,edge:P.edge})}}return{distanceTo:function(O){var M=_e(O)?v.filter(O)[0]:O[0];return d[M.id()]},pathTo:function(O){var M=_e(O)?v.filter(O)[0]:O[0],z=[],G=M,X=G.id();if(M.length>0)for(z.unshift(M);f[X];){var I=f[X];z.unshift(I.edge),z.unshift(I.node),G=I.node,X=G.id()}return o.spawn(z)}}}},qE={kruskal:function(e){e=e||function(x){return 1};for(var r=this.byGroup(),n=r.nodes,a=r.edges,i=n.length,s=new Array(i),o=n,u=function(b){for(var C=0;C<s.length;C++){var E=s[C];if(E.has(b))return C}},l=0;l<i;l++)s[l]=this.spawn(n[l]);for(var c=a.sort(function(x,b){return e(x)-e(b)}),f=0;f<c.length;f++){var d=c[f],h=d.source()[0],v=d.target()[0],y=u(h),p=u(v),m=s[y],g=s[p];y!==p&&(o.merge(d),m.merge(g),s.splice(p,1))}return o}},VE=_t({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),UE={aStar:function(e){var r=this.cy(),n=VE(e),a=n.root,i=n.goal,s=n.heuristic,o=n.directed,u=n.weight;a=r.collection(a)[0],i=r.collection(i)[0];var l=a.id(),c=i.id(),f={},d={},h={},v=new qi(function(X,I){return d[X.id()]-d[I.id()]}),y=new Pa,p={},m={},g=function(I,L){v.push(I),y.add(L)},x,b,C=function(){x=v.pop(),b=x.id(),y.delete(b)},E=function(I){return y.has(I)};g(a,l),f[l]=0,d[l]=s(a);for(var w=0;v.size()>0;){if(C(),w++,b===c){for(var B=[],D=i,_=c,A=m[_];B.unshift(D),A!=null&&B.unshift(A),D=p[_],D!=null;)_=D.id(),A=m[_];return{found:!0,distance:f[b],path:this.spawn(B),steps:w}}h[b]=!0;for(var S=x._private.edges,P=0;P<S.length;P++){var T=S[P];if(this.hasElementWithId(T.id())&&!(o&&T.data("source")!==b)){var $=T.source(),O=T.target(),M=$.id()!==b?$:O,z=M.id();if(this.hasElementWithId(z)&&!h[z]){var G=f[b]+u(T);if(!E(z)){f[z]=G,d[z]=G+s(M),g(M,z),p[z]=x,m[z]=T;continue}G<f[z]&&(f[z]=G,d[z]=G+s(M),p[z]=x,m[z]=T)}}}}return{found:!1,distance:void 0,path:void 0,steps:w}}},jE=_t({weight:function(e){return 1},directed:!1}),WE={floydWarshall:function(e){for(var r=this.cy(),n=jE(e),a=n.weight,i=n.directed,s=a,o=this.byGroup(),u=o.nodes,l=o.edges,c=u.length,f=c*c,d=function(U){return u.indexOf(U)},h=function(U){return u[U]},v=new Array(f),y=0;y<f;y++){var p=y%c,m=(y-p)/c;m===p?v[y]=0:v[y]=1/0}for(var g=new Array(f),x=new Array(f),b=0;b<l.length;b++){var C=l[b],E=C.source()[0],w=C.target()[0];if(E!==w){var B=d(E),D=d(w),_=B*c+D,A=s(C);if(v[_]>A&&(v[_]=A,g[_]=D,x[_]=C),!i){var S=D*c+B;!i&&v[S]>A&&(v[S]=A,g[S]=B,x[S]=C)}}}for(var P=0;P<c;P++)for(var T=0;T<c;T++)for(var $=T*c+P,O=0;O<c;O++){var M=T*c+O,z=P*c+O;v[$]+v[z]<v[M]&&(v[M]=v[$]+v[z],g[M]=g[$])}var G=function(U){return(_e(U)?r.filter(U):U)[0]},X=function(U){return d(G(U))},I={distance:function(U,j){var oe=X(U),se=X(j);return v[oe*c+se]},path:function(U,j){var oe=X(U),se=X(j),V=h(oe);if(oe===se)return V.collection();if(g[oe*c+se]==null)return r.collection();var H=r.collection(),N=oe,K;for(H.merge(V);oe!==se;)N=oe,oe=g[oe*c+se],K=x[N*c+oe],H.merge(K),H.merge(h(oe));return H}};return I}},KE=_t({weight:function(e){return 1},directed:!1,root:null}),GE={bellmanFord:function(e){var r=this,n=KE(e),a=n.weight,i=n.directed,s=n.root,o=a,u=this,l=this.cy(),c=this.byGroup(),f=c.edges,d=c.nodes,h=d.length,v=new Br,y=!1,p=[];s=l.collection(s)[0],f.unmergeBy(function(Y){return Y.isLoop()});for(var m=f.length,g=function(te){var le=v.get(te.id());return le||(le={},v.set(te.id(),le)),le},x=function(te){return(_e(te)?l.$(te):te)[0]},b=function(te){return g(x(te)).dist},C=function(te){for(var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s,ce=x(te),ue=[],ae=ce;;){if(ae==null)return r.spawn();var fe=g(ae),Q=fe.edge,k=fe.pred;if(ue.unshift(ae[0]),ae.same(le)&&ue.length>0)break;Q!=null&&ue.unshift(Q),ae=k}return u.spawn(ue)},E=0;E<h;E++){var w=d[E],B=g(w);w.same(s)?B.dist=0:B.dist=1/0,B.pred=null,B.edge=null}for(var D=!1,_=function(te,le,ce,ue,ae,fe){var Q=ue.dist+fe;Q<ae.dist&&!ce.same(ue.edge)&&(ae.dist=Q,ae.pred=te,ae.edge=ce,D=!0)},A=1;A<h;A++){D=!1;for(var S=0;S<m;S++){var P=f[S],T=P.source(),$=P.target(),O=o(P),M=g(T),z=g($);_(T,$,P,M,z,O),i||_($,T,P,z,M,O)}if(!D)break}if(D)for(var G=[],X=0;X<m;X++){var I=f[X],L=I.source(),U=I.target(),j=o(I),oe=g(L).dist,se=g(U).dist;if(oe+j<se||!i&&se+j<oe)if(y||(Ne("Graph contains a negative weight cycle for Bellman-Ford"),y=!0),e.findNegativeWeightCycles!==!1){var V=[];oe+j<se&&V.push(L),!i&&se+j<oe&&V.push(U);for(var H=V.length,N=0;N<H;N++){var K=V[N],ne=[K];ne.push(g(K).edge);for(var he=g(K).pred;ne.indexOf(he)===-1;)ne.push(he),ne.push(g(he).edge),he=g(he).pred;ne=ne.slice(ne.indexOf(he));for(var R=ne[0].id(),F=0,q=2;q<ne.length;q+=2)ne[q].id()<R&&(R=ne[q].id(),F=q);ne=ne.slice(F).concat(ne.slice(0,F)),ne.push(ne[0]);var Z=ne.map(function(Y){return Y.id()}).join(",");G.indexOf(Z)===-1&&(p.push(u.spawn(ne)),G.push(Z))}}else break}return{distanceTo:b,pathTo:C,hasNegativeWeightCycle:y,negativeWeightCycles:p}}},YE=Math.sqrt(2),XE=function(e,r,n){n.length===0&&et("Karger-Stein must be run on a connected (sub)graph");for(var a=n[e],i=a[1],s=a[2],o=r[i],u=r[s],l=n,c=l.length-1;c>=0;c--){var f=l[c],d=f[1],h=f[2];(r[d]===o&&r[h]===u||r[d]===u&&r[h]===o)&&l.splice(c,1)}for(var v=0;v<l.length;v++){var y=l[v];y[1]===u?(l[v]=y.slice(),l[v][1]=o):y[2]===u&&(l[v]=y.slice(),l[v][2]=o)}for(var p=0;p<r.length;p++)r[p]===u&&(r[p]=o);return l},Hl=function(e,r,n,a){for(;n>a;){var i=Math.floor(Math.random()*r.length);r=XE(i,e,r),n--}return r},ZE={kargerStein:function(){var e=this,r=this.byGroup(),n=r.nodes,a=r.edges;a.unmergeBy(function(z){return z.isLoop()});var i=n.length,s=a.length,o=Math.ceil(Math.pow(Math.log(i)/Math.LN2,2)),u=Math.floor(i/YE);if(i<2){et("At least 2 nodes are required for Karger-Stein algorithm");return}for(var l=[],c=0;c<s;c++){var f=a[c];l.push([c,n.indexOf(f.source()),n.indexOf(f.target())])}for(var d=1/0,h=[],v=new Array(i),y=new Array(i),p=new Array(i),m=function(G,X){for(var I=0;I<i;I++)X[I]=G[I]},g=0;g<=o;g++){for(var x=0;x<i;x++)y[x]=x;var b=Hl(y,l.slice(),i,u),C=b.slice();m(y,p);var E=Hl(y,b,u,2),w=Hl(p,C,u,2);E.length<=w.length&&E.length<d?(d=E.length,h=E,m(y,v)):w.length<=E.length&&w.length<d&&(d=w.length,h=w,m(p,v))}for(var B=this.spawn(h.map(function(z){return a[z[0]]})),D=this.spawn(),_=this.spawn(),A=v[0],S=0;S<v.length;S++){var P=v[S],T=n[S];P===A?D.merge(T):_.merge(T)}var $=function(G){var X=e.spawn();return G.forEach(function(I){X.merge(I),I.connectedEdges().forEach(function(L){e.contains(L)&&!B.contains(L)&&X.merge(L)})}),X},O=[$(D),$(_)],M={cut:B,components:O,partition1:D,partition2:_};return M}},QE=function(e){return{x:e.x,y:e.y}},Bo=function(e,r,n){return{x:e.x*r+n.x,y:e.y*r+n.y}},hp=function(e,r,n){return{x:(e.x-n.x)/r,y:(e.y-n.y)/r}},la=function(e){return{x:e[0],y:e[1]}},JE=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=1/0,i=r;i<n;i++){var s=e[i];isFinite(s)&&(a=Math.min(s,a))}return a},eC=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=-1/0,i=r;i<n;i++){var s=e[i];isFinite(s)&&(a=Math.max(s,a))}return a},tC=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=0,i=0,s=r;s<n;s++){var o=e[s];isFinite(o)&&(a+=o,i++)}return a/i},rC=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;a?e=e.slice(r,n):(n<e.length&&e.splice(n,e.length-n),r>0&&e.splice(0,r));for(var o=0,u=e.length-1;u>=0;u--){var l=e[u];s?isFinite(l)||(e[u]=-1/0,o++):e.splice(u,1)}i&&e.sort(function(d,h){return d-h});var c=e.length,f=Math.floor(c/2);return c%2!==0?e[f+1+o]:(e[f-1+o]+e[f+o])/2},nC=function(e){return Math.PI*e/180},is=function(e,r){return Math.atan2(r,e)-Math.PI/2},Ec=Math.log2||function(t){return Math.log(t)/Math.log(2)},vp=function(e){return e>0?1:e<0?-1:0},In=function(e,r){return Math.sqrt(Cn(e,r))},Cn=function(e,r){var n=r.x-e.x,a=r.y-e.y;return n*n+a*a},aC=function(e){for(var r=e.length,n=0,a=0;a<r;a++)n+=e[a];for(var i=0;i<r;i++)e[i]=e[i]/n;return e},pt=function(e,r,n,a){return(1-a)*(1-a)*e+2*(1-a)*a*r+a*a*n},ga=function(e,r,n,a){return{x:pt(e.x,r.x,n.x,a),y:pt(e.y,r.y,n.y,a)}},iC=function(e,r,n,a){var i={x:r.x-e.x,y:r.y-e.y},s=In(e,r),o={x:i.x/s,y:i.y/s};return n=n??0,a=a??n*s,{x:e.x+o.x*a,y:e.y+o.y*a}},Si=function(e,r,n){return Math.max(e,Math.min(n,r))},jt=function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},sC=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},oC=function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},lC=function(e,r,n){return{x1:e.x1+r,x2:e.x2+r,y1:e.y1+n,y2:e.y2+n,w:e.w,h:e.h}},pp=function(e,r){e.x1=Math.min(e.x1,r.x1),e.x2=Math.max(e.x2,r.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,r.y1),e.y2=Math.max(e.y2,r.y2),e.h=e.y2-e.y1},uC=function(e,r,n){e.x1=Math.min(e.x1,r),e.x2=Math.max(e.x2,r),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},Cs=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=r,e.x2+=r,e.y1-=r,e.y2+=r,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},_s=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],n,a,i,s;if(r.length===1)n=a=i=s=r[0];else if(r.length===2)n=i=r[0],s=a=r[1];else if(r.length===4){var o=lr(r,4);n=o[0],a=o[1],i=o[2],s=o[3]}return e.x1-=s,e.x2+=a,e.y1-=n,e.y2+=i,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},W0=function(e,r){e.x1=r.x1,e.y1=r.y1,e.x2=r.x2,e.y2=r.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},Cc=function(e,r){return!(e.x1>r.x2||r.x1>e.x2||e.x2<r.x1||r.x2<e.x1||e.y2<r.y1||r.y2<e.y1||e.y1>r.y2||r.y1>e.y2)},Da=function(e,r,n){return e.x1<=r&&r<=e.x2&&e.y1<=n&&n<=e.y2},cC=function(e,r){return Da(e,r.x,r.y)},gp=function(e,r){return Da(e,r.x1,r.y1)&&Da(e,r.x2,r.y2)},mp=function(e,r,n,a,i,s,o){var u=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",l=u==="auto"?Ln(i,s):u,c=i/2,f=s/2;l=Math.min(l,c,f);var d=l!==c,h=l!==f,v;if(d){var y=n-c+l-o,p=a-f-o,m=n+c-l+o,g=p;if(v=Qr(e,r,n,a,y,p,m,g,!1),v.length>0)return v}if(h){var x=n+c+o,b=a-f+l-o,C=x,E=a+f-l+o;if(v=Qr(e,r,n,a,x,b,C,E,!1),v.length>0)return v}if(d){var w=n-c+l-o,B=a+f+o,D=n+c-l+o,_=B;if(v=Qr(e,r,n,a,w,B,D,_,!1),v.length>0)return v}if(h){var A=n-c-o,S=a-f+l-o,P=A,T=a+f-l+o;if(v=Qr(e,r,n,a,A,S,P,T,!1),v.length>0)return v}var $;{var O=n-c+l,M=a-f+l;if($=ni(e,r,n,a,O,M,l+o),$.length>0&&$[0]<=O&&$[1]<=M)return[$[0],$[1]]}{var z=n+c-l,G=a-f+l;if($=ni(e,r,n,a,z,G,l+o),$.length>0&&$[0]>=z&&$[1]<=G)return[$[0],$[1]]}{var X=n+c-l,I=a+f-l;if($=ni(e,r,n,a,X,I,l+o),$.length>0&&$[0]>=X&&$[1]>=I)return[$[0],$[1]]}{var L=n-c+l,U=a+f-l;if($=ni(e,r,n,a,L,U,l+o),$.length>0&&$[0]<=L&&$[1]>=U)return[$[0],$[1]]}return[]},fC=function(e,r,n,a,i,s,o){var u=o,l=Math.min(n,i),c=Math.max(n,i),f=Math.min(a,s),d=Math.max(a,s);return l-u<=e&&e<=c+u&&f-u<=r&&r<=d+u},dC=function(e,r,n,a,i,s,o,u,l){var c={x1:Math.min(n,o,i)-l,x2:Math.max(n,o,i)+l,y1:Math.min(a,u,s)-l,y2:Math.max(a,u,s)+l};return!(e<c.x1||e>c.x2||r<c.y1||r>c.y2)},hC=function(e,r,n,a){n-=a;var i=r*r-4*e*n;if(i<0)return[];var s=Math.sqrt(i),o=2*e,u=(-r+s)/o,l=(-r-s)/o;return[u,l]},vC=function(e,r,n,a,i){var s=1e-5;e===0&&(e=s),r/=e,n/=e,a/=e;var o,u,l,c,f,d,h,v;if(u=(3*n-r*r)/9,l=-(27*a)+r*(9*n-2*(r*r)),l/=54,o=u*u*u+l*l,i[1]=0,h=r/3,o>0){f=l+Math.sqrt(o),f=f<0?-Math.pow(-f,1/3):Math.pow(f,1/3),d=l-Math.sqrt(o),d=d<0?-Math.pow(-d,1/3):Math.pow(d,1/3),i[0]=-h+f+d,h+=(f+d)/2,i[4]=i[2]=-h,h=Math.sqrt(3)*(-d+f)/2,i[3]=h,i[5]=-h;return}if(i[5]=i[3]=0,o===0){v=l<0?-Math.pow(-l,1/3):Math.pow(l,1/3),i[0]=-h+2*v,i[4]=i[2]=-(v+h);return}u=-u,c=u*u*u,c=Math.acos(l/Math.sqrt(c)),v=2*Math.sqrt(u),i[0]=-h+v*Math.cos(c/3),i[2]=-h+v*Math.cos((c+2*Math.PI)/3),i[4]=-h+v*Math.cos((c+4*Math.PI)/3)},pC=function(e,r,n,a,i,s,o,u){var l=1*n*n-4*n*i+2*n*o+4*i*i-4*i*o+o*o+a*a-4*a*s+2*a*u+4*s*s-4*s*u+u*u,c=1*9*n*i-3*n*n-3*n*o-6*i*i+3*i*o+9*a*s-3*a*a-3*a*u-6*s*s+3*s*u,f=1*3*n*n-6*n*i+n*o-n*e+2*i*i+2*i*e-o*e+3*a*a-6*a*s+a*u-a*r+2*s*s+2*s*r-u*r,d=1*n*i-n*n+n*e-i*e+a*s-a*a+a*r-s*r,h=[];vC(l,c,f,d,h);for(var v=1e-7,y=[],p=0;p<6;p+=2)Math.abs(h[p+1])<v&&h[p]>=0&&h[p]<=1&&y.push(h[p]);y.push(1),y.push(0);for(var m=-1,g,x,b,C=0;C<y.length;C++)g=Math.pow(1-y[C],2)*n+2*(1-y[C])*y[C]*i+y[C]*y[C]*o,x=Math.pow(1-y[C],2)*a+2*(1-y[C])*y[C]*s+y[C]*y[C]*u,b=Math.pow(g-e,2)+Math.pow(x-r,2),m>=0?b<m&&(m=b):m=b;return m},gC=function(e,r,n,a,i,s){var o=[e-n,r-a],u=[i-n,s-a],l=u[0]*u[0]+u[1]*u[1],c=o[0]*o[0]+o[1]*o[1],f=o[0]*u[0]+o[1]*u[1],d=f*f/l;return f<0?c:d>l?(e-i)*(e-i)+(r-s)*(r-s):c-d},qt=function(e,r,n){for(var a,i,s,o,u,l=0,c=0;c<n.length/2;c++)if(a=n[c*2],i=n[c*2+1],c+1<n.length/2?(s=n[(c+1)*2],o=n[(c+1)*2+1]):(s=n[(c+1-n.length/2)*2],o=n[(c+1-n.length/2)*2+1]),!(a==e&&s==e))if(a>=e&&e>=s||a<=e&&e<=s)u=(e-a)/(s-a)*(o-i)+i,u>r&&l++;else continue;return l%2!==0},Ir=function(e,r,n,a,i,s,o,u,l){var c=new Array(n.length),f;u[0]!=null?(f=Math.atan(u[1]/u[0]),u[0]<0?f=f+Math.PI/2:f=-f-Math.PI/2):f=u;for(var d=Math.cos(-f),h=Math.sin(-f),v=0;v<c.length/2;v++)c[v*2]=s/2*(n[v*2]*d-n[v*2+1]*h),c[v*2+1]=o/2*(n[v*2+1]*d+n[v*2]*h),c[v*2]+=a,c[v*2+1]+=i;var y;if(l>0){var p=Vs(c,-l);y=qs(p)}else y=c;return qt(e,r,y)},mC=function(e,r,n,a,i,s,o,u){for(var l=new Array(n.length*2),c=0;c<u.length;c++){var f=u[c];l[c*4+0]=f.startX,l[c*4+1]=f.startY,l[c*4+2]=f.stopX,l[c*4+3]=f.stopY;var d=Math.pow(f.cx-e,2)+Math.pow(f.cy-r,2);if(d<=Math.pow(f.radius,2))return!0}return qt(e,r,l)},qs=function(e){for(var r=new Array(e.length/2),n,a,i,s,o,u,l,c,f=0;f<e.length/4;f++){n=e[f*4],a=e[f*4+1],i=e[f*4+2],s=e[f*4+3],f<e.length/4-1?(o=e[(f+1)*4],u=e[(f+1)*4+1],l=e[(f+1)*4+2],c=e[(f+1)*4+3]):(o=e[0],u=e[1],l=e[2],c=e[3]);var d=Qr(n,a,i,s,o,u,l,c,!0);r[f*2]=d[0],r[f*2+1]=d[1]}return r},Vs=function(e,r){for(var n=new Array(e.length*2),a,i,s,o,u=0;u<e.length/2;u++){a=e[u*2],i=e[u*2+1],u<e.length/2-1?(s=e[(u+1)*2],o=e[(u+1)*2+1]):(s=e[0],o=e[1]);var l=o-i,c=-(s-a),f=Math.sqrt(l*l+c*c),d=l/f,h=c/f;n[u*4]=a+d*r,n[u*4+1]=i+h*r,n[u*4+2]=s+d*r,n[u*4+3]=o+h*r}return n},yC=function(e,r,n,a,i,s){var o=n-e,u=a-r;o/=i,u/=s;var l=Math.sqrt(o*o+u*u),c=l-1;if(c<0)return[];var f=c/l;return[(n-e)*f+e,(a-r)*f+r]},kn=function(e,r,n,a,i,s,o){return e-=i,r-=s,e/=n/2+o,r/=a/2+o,e*e+r*r<=1},ni=function(e,r,n,a,i,s,o){var u=[n-e,a-r],l=[e-i,r-s],c=u[0]*u[0]+u[1]*u[1],f=2*(l[0]*u[0]+l[1]*u[1]),d=l[0]*l[0]+l[1]*l[1]-o*o,h=f*f-4*c*d;if(h<0)return[];var v=(-f+Math.sqrt(h))/(2*c),y=(-f-Math.sqrt(h))/(2*c),p=Math.min(v,y),m=Math.max(v,y),g=[];if(p>=0&&p<=1&&g.push(p),m>=0&&m<=1&&g.push(m),g.length===0)return[];var x=g[0]*u[0]+e,b=g[0]*u[1]+r;if(g.length>1){if(g[0]==g[1])return[x,b];var C=g[1]*u[0]+e,E=g[1]*u[1]+r;return[x,b,C,E]}else return[x,b]},ql=function(e,r,n){return r<=e&&e<=n||n<=e&&e<=r?e:e<=r&&r<=n||n<=r&&r<=e?r:n},Qr=function(e,r,n,a,i,s,o,u,l){var c=e-i,f=n-e,d=o-i,h=r-s,v=a-r,y=u-s,p=d*h-y*c,m=f*h-v*c,g=y*f-d*v;if(g!==0){var x=p/g,b=m/g,C=.001,E=0-C,w=1+C;return E<=x&&x<=w&&E<=b&&b<=w?[e+x*f,r+x*v]:l?[e+x*f,r+x*v]:[]}else return p===0||m===0?ql(e,n,o)===o?[o,u]:ql(e,n,i)===i?[i,s]:ql(i,o,n)===n?[n,a]:[]:[]},ki=function(e,r,n,a,i,s,o,u){var l=[],c,f=new Array(n.length),d=!0;s==null&&(d=!1);var h;if(d){for(var v=0;v<f.length/2;v++)f[v*2]=n[v*2]*s+a,f[v*2+1]=n[v*2+1]*o+i;if(u>0){var y=Vs(f,-u);h=qs(y)}else h=f}else h=n;for(var p,m,g,x,b=0;b<h.length/2;b++)p=h[b*2],m=h[b*2+1],b<h.length/2-1?(g=h[(b+1)*2],x=h[(b+1)*2+1]):(g=h[0],x=h[1]),c=Qr(e,r,a,i,p,m,g,x),c.length!==0&&l.push(c[0],c[1]);return l},xC=function(e,r,n,a,i,s,o,u,l){var c=[],f,d=new Array(n.length*2);l.forEach(function(g,x){x===0?(d[d.length-2]=g.startX,d[d.length-1]=g.startY):(d[x*4-2]=g.startX,d[x*4-1]=g.startY),d[x*4]=g.stopX,d[x*4+1]=g.stopY,f=ni(e,r,a,i,g.cx,g.cy,g.radius),f.length!==0&&c.push(f[0],f[1])});for(var h=0;h<d.length/4;h++)f=Qr(e,r,a,i,d[h*4],d[h*4+1],d[h*4+2],d[h*4+3],!1),f.length!==0&&c.push(f[0],f[1]);if(c.length>2){for(var v=[c[0],c[1]],y=Math.pow(v[0]-e,2)+Math.pow(v[1]-r,2),p=1;p<c.length/2;p++){var m=Math.pow(c[p*2]-e,2)+Math.pow(c[p*2+1]-r,2);m<=y&&(v[0]=c[p*2],v[1]=c[p*2+1],y=m)}return v}return c},ss=function(e,r,n){var a=[e[0]-r[0],e[1]-r[1]],i=Math.sqrt(a[0]*a[0]+a[1]*a[1]),s=(i-n)/i;return s<0&&(s=1e-5),[r[0]+s*a[0],r[1]+s*a[1]]},Lt=function(e,r){var n=wu(e,r);return n=yp(n),n},yp=function(e){for(var r,n,a=e.length/2,i=1/0,s=1/0,o=-1/0,u=-1/0,l=0;l<a;l++)r=e[2*l],n=e[2*l+1],i=Math.min(i,r),o=Math.max(o,r),s=Math.min(s,n),u=Math.max(u,n);for(var c=2/(o-i),f=2/(u-s),d=0;d<a;d++)r=e[2*d]=e[2*d]*c,n=e[2*d+1]=e[2*d+1]*f,i=Math.min(i,r),o=Math.max(o,r),s=Math.min(s,n),u=Math.max(u,n);if(s<-1)for(var h=0;h<a;h++)n=e[2*h+1]=e[2*h+1]+(-1-s);return e},wu=function(e,r){var n=1/e*2*Math.PI,a=e%2===0?Math.PI/2+n/2:Math.PI/2;a+=r;for(var i=new Array(e*2),s,o=0;o<e;o++)s=o*n+a,i[2*o]=Math.cos(s),i[2*o+1]=Math.sin(-s);return i},Ln=function(e,r){return Math.min(e/4,r/4,8)},xp=function(e,r){return Math.min(e/10,r/10,8)},_c=function(){return 8},bC=function(e,r,n){return[e-2*r+n,2*(r-e),e]},Eu=function(e,r){return{heightOffset:Math.min(15,.05*r),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},wC=_t({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),EC={pageRank:function(e){for(var r=wC(e),n=r.dampingFactor,a=r.precision,i=r.iterations,s=r.weight,o=this._private.cy,u=this.byGroup(),l=u.nodes,c=u.edges,f=l.length,d=f*f,h=c.length,v=new Array(d),y=new Array(f),p=(1-n)/f,m=0;m<f;m++){for(var g=0;g<f;g++){var x=m*f+g;v[x]=0}y[m]=0}for(var b=0;b<h;b++){var C=c[b],E=C.data("source"),w=C.data("target");if(E!==w){var B=l.indexOfId(E),D=l.indexOfId(w),_=s(C),A=D*f+B;v[A]+=_,y[B]+=_}}for(var S=1/f+p,P=0;P<f;P++)if(y[P]===0)for(var T=0;T<f;T++){var $=T*f+P;v[$]=S}else for(var O=0;O<f;O++){var M=O*f+P;v[M]=v[M]/y[P]+p}for(var z=new Array(f),G=new Array(f),X,I=0;I<f;I++)z[I]=1;for(var L=0;L<i;L++){for(var U=0;U<f;U++)G[U]=0;for(var j=0;j<f;j++)for(var oe=0;oe<f;oe++){var se=j*f+oe;G[j]+=v[se]*z[oe]}aC(G),X=z,z=G,G=X;for(var V=0,H=0;H<f;H++){var N=X[H]-z[H];V+=N*N}if(V<a)break}var K={rank:function(he){return he=o.collection(he)[0],z[l.indexOf(he)]}};return K}},K0=_t({root:null,weight:function(e){return 1},directed:!1,alpha:0}),ma={degreeCentralityNormalized:function(e){e=K0(e);var r=this.cy(),n=this.nodes(),a=n.length;if(e.directed){for(var c={},f={},d=0,h=0,v=0;v<a;v++){var y=n[v],p=y.id();e.root=y;var m=this.degreeCentrality(e);d<m.indegree&&(d=m.indegree),h<m.outdegree&&(h=m.outdegree),c[p]=m.indegree,f[p]=m.outdegree}return{indegree:function(x){return d==0?0:(_e(x)&&(x=r.filter(x)),c[x.id()]/d)},outdegree:function(x){return h===0?0:(_e(x)&&(x=r.filter(x)),f[x.id()]/h)}}}else{for(var i={},s=0,o=0;o<a;o++){var u=n[o];e.root=u;var l=this.degreeCentrality(e);s<l.degree&&(s=l.degree),i[u.id()]=l.degree}return{degree:function(x){return s===0?0:(_e(x)&&(x=r.filter(x)),i[x.id()]/s)}}}},degreeCentrality:function(e){e=K0(e);var r=this.cy(),n=this,a=e,i=a.root,s=a.weight,o=a.directed,u=a.alpha;if(i=r.collection(i)[0],o){for(var h=i.connectedEdges(),v=h.filter(function(E){return E.target().same(i)&&n.has(E)}),y=h.filter(function(E){return E.source().same(i)&&n.has(E)}),p=v.length,m=y.length,g=0,x=0,b=0;b<v.length;b++)g+=s(v[b]);for(var C=0;C<y.length;C++)x+=s(y[C]);return{indegree:Math.pow(p,1-u)*Math.pow(g,u),outdegree:Math.pow(m,1-u)*Math.pow(x,u)}}else{for(var l=i.connectedEdges().intersection(n),c=l.length,f=0,d=0;d<l.length;d++)f+=s(l[d]);return{degree:Math.pow(c,1-u)*Math.pow(f,u)}}}};ma.dc=ma.degreeCentrality;ma.dcn=ma.degreeCentralityNormalised=ma.degreeCentralityNormalized;var G0=_t({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),ya={closenessCentralityNormalized:function(e){for(var r=G0(e),n=r.harmonic,a=r.weight,i=r.directed,s=this.cy(),o={},u=0,l=this.nodes(),c=this.floydWarshall({weight:a,directed:i}),f=0;f<l.length;f++){for(var d=0,h=l[f],v=0;v<l.length;v++)if(f!==v){var y=c.distance(h,l[v]);n?d+=1/y:d+=y}n||(d=1/d),u<d&&(u=d),o[h.id()]=d}return{closeness:function(m){return u==0?0:(_e(m)?m=s.filter(m)[0].id():m=m.id(),o[m]/u)}}},closenessCentrality:function(e){var r=G0(e),n=r.root,a=r.weight,i=r.directed,s=r.harmonic;n=this.filter(n)[0];for(var o=this.dijkstra({root:n,weight:a,directed:i}),u=0,l=this.nodes(),c=0;c<l.length;c++){var f=l[c];if(!f.same(n)){var d=o.distanceTo(f);s?u+=1/d:u+=d}}return s?u:1/u}};ya.cc=ya.closenessCentrality;ya.ccn=ya.closenessCentralityNormalised=ya.closenessCentralityNormalized;var CC=_t({weight:null,directed:!1}),Cu={betweennessCentrality:function(e){for(var r=CC(e),n=r.directed,a=r.weight,i=a!=null,s=this.cy(),o=this.nodes(),u={},l={},c=0,f={set:function(x,b){l[x]=b,b>c&&(c=b)},get:function(x){return l[x]}},d=0;d<o.length;d++){var h=o[d],v=h.id();n?u[v]=h.outgoers().nodes():u[v]=h.openNeighborhood().nodes(),f.set(v,0)}for(var y=function(x){for(var b=o[x].id(),C=[],E={},w={},B={},D=new qi(function(oe,se){return B[oe]-B[se]}),_=0;_<o.length;_++){var A=o[_].id();E[A]=[],w[A]=0,B[A]=1/0}for(w[b]=1,B[b]=0,D.push(b);!D.empty();){var S=D.pop();if(C.push(S),i)for(var P=0;P<u[S].length;P++){var T=u[S][P],$=s.getElementById(S),O=void 0;$.edgesTo(T).length>0?O=$.edgesTo(T)[0]:O=T.edgesTo($)[0];var M=a(O);T=T.id(),B[T]>B[S]+M&&(B[T]=B[S]+M,D.nodes.indexOf(T)<0?D.push(T):D.updateItem(T),w[T]=0,E[T]=[]),B[T]==B[S]+M&&(w[T]=w[T]+w[S],E[T].push(S))}else for(var z=0;z<u[S].length;z++){var G=u[S][z].id();B[G]==1/0&&(D.push(G),B[G]=B[S]+1),B[G]==B[S]+1&&(w[G]=w[G]+w[S],E[G].push(S))}}for(var X={},I=0;I<o.length;I++)X[o[I].id()]=0;for(;C.length>0;){for(var L=C.pop(),U=0;U<E[L].length;U++){var j=E[L][U];X[j]=X[j]+w[j]/w[L]*(1+X[L])}L!=o[x].id()&&f.set(L,f.get(L)+X[L])}},p=0;p<o.length;p++)y(p);var m={betweenness:function(x){var b=s.collection(x).id();return f.get(b)},betweennessNormalized:function(x){if(c==0)return 0;var b=s.collection(x).id();return f.get(b)/c}};return m.betweennessNormalised=m.betweennessNormalized,m}};Cu.bc=Cu.betweennessCentrality;var _C=_t({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(t){return 1}]}),BC=function(e){return _C(e)},AC=function(e,r){for(var n=0,a=0;a<r.length;a++)n+=r[a](e);return n},DC=function(e,r,n){for(var a=0;a<r;a++)e[a*r+a]=n},bp=function(e,r){for(var n,a=0;a<r;a++){n=0;for(var i=0;i<r;i++)n+=e[i*r+a];for(var s=0;s<r;s++)e[s*r+a]=e[s*r+a]/n}},SC=function(e,r,n){for(var a=new Array(n*n),i=0;i<n;i++){for(var s=0;s<n;s++)a[i*n+s]=0;for(var o=0;o<n;o++)for(var u=0;u<n;u++)a[i*n+u]+=e[i*n+o]*r[o*n+u]}return a},kC=function(e,r,n){for(var a=e.slice(0),i=1;i<n;i++)e=SC(e,a,r);return e},TC=function(e,r,n){for(var a=new Array(r*r),i=0;i<r*r;i++)a[i]=Math.pow(e[i],n);return bp(a,r),a},PC=function(e,r,n,a){for(var i=0;i<n;i++){var s=Math.round(e[i]*Math.pow(10,a))/Math.pow(10,a),o=Math.round(r[i]*Math.pow(10,a))/Math.pow(10,a);if(s!==o)return!1}return!0},FC=function(e,r,n,a){for(var i=[],s=0;s<r;s++){for(var o=[],u=0;u<r;u++)Math.round(e[s*r+u]*1e3)/1e3>0&&o.push(n[u]);o.length!==0&&i.push(a.collection(o))}return i},RC=function(e,r){for(var n=0;n<e.length;n++)if(!r[n]||e[n].id()!==r[n].id())return!1;return!0},OC=function(e){for(var r=0;r<e.length;r++)for(var n=0;n<e.length;n++)r!=n&&RC(e[r],e[n])&&e.splice(n,1);return e},Y0=function(e){for(var r=this.nodes(),n=this.edges(),a=this.cy(),i=BC(e),s={},o=0;o<r.length;o++)s[r[o].id()]=o;for(var u=r.length,l=u*u,c=new Array(l),f,d=0;d<l;d++)c[d]=0;for(var h=0;h<n.length;h++){var v=n[h],y=s[v.source().id()],p=s[v.target().id()],m=AC(v,i.attributes);c[y*u+p]+=m,c[p*u+y]+=m}DC(c,u,i.multFactor),bp(c,u);for(var g=!0,x=0;g&&x<i.maxIterations;)g=!1,f=kC(c,u,i.expandFactor),c=TC(f,u,i.inflateFactor),PC(c,f,l,4)||(g=!0),x++;var b=FC(c,u,r,a);return b=OC(b),b},IC={markovClustering:Y0,mcl:Y0},LC=function(e){return e},wp=function(e,r){return Math.abs(r-e)},X0=function(e,r,n){return e+wp(r,n)},Z0=function(e,r,n){return e+Math.pow(n-r,2)},MC=function(e){return Math.sqrt(e)},$C=function(e,r,n){return Math.max(e,wp(r,n))},Ya=function(e,r,n,a,i){for(var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:LC,o=a,u,l,c=0;c<e;c++)u=r(c),l=n(c),o=i(o,u,l);return s(o)},Sa={euclidean:function(e,r,n){return e>=2?Ya(e,r,n,0,Z0,MC):Ya(e,r,n,0,X0)},squaredEuclidean:function(e,r,n){return Ya(e,r,n,0,Z0)},manhattan:function(e,r,n){return Ya(e,r,n,0,X0)},max:function(e,r,n){return Ya(e,r,n,-1/0,$C)}};Sa["squared-euclidean"]=Sa.squaredEuclidean;Sa.squaredeuclidean=Sa.squaredEuclidean;function Ao(t,e,r,n,a,i){var s;return Je(t)?s=t:s=Sa[t]||Sa.euclidean,e===0&&Je(t)?s(a,i):s(e,r,n,a,i)}var NC=_t({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),Bc=function(e){return NC(e)},Us=function(e,r,n,a,i){var s=i!=="kMedoids",o=s?function(f){return n[f]}:function(f){return a[f](n)},u=function(d){return a[d](r)},l=n,c=r;return Ao(e,a.length,o,u,l,c)},Vl=function(e,r,n){for(var a=n.length,i=new Array(a),s=new Array(a),o=new Array(r),u=null,l=0;l<a;l++)i[l]=e.min(n[l]).value,s[l]=e.max(n[l]).value;for(var c=0;c<r;c++){u=[];for(var f=0;f<a;f++)u[f]=Math.random()*(s[f]-i[f])+i[f];o[c]=u}return o},Ep=function(e,r,n,a,i){for(var s=1/0,o=0,u=0;u<r.length;u++){var l=Us(n,e,r[u],a,i);l<s&&(s=l,o=u)}return o},Cp=function(e,r,n){for(var a=[],i=null,s=0;s<r.length;s++)i=r[s],n[i.id()]===e&&a.push(i);return a},zC=function(e,r,n){return Math.abs(r-e)<=n},HC=function(e,r,n){for(var a=0;a<e.length;a++)for(var i=0;i<e[a].length;i++){var s=Math.abs(e[a][i]-r[a][i]);if(s>n)return!1}return!0},qC=function(e,r,n){for(var a=0;a<n;a++)if(e===r[a])return!0;return!1},Q0=function(e,r){var n=new Array(r);if(e.length<50)for(var a=0;a<r;a++){for(var i=e[Math.floor(Math.random()*e.length)];qC(i,n,a);)i=e[Math.floor(Math.random()*e.length)];n[a]=i}else for(var s=0;s<r;s++)n[s]=e[Math.floor(Math.random()*e.length)];return n},J0=function(e,r,n){for(var a=0,i=0;i<r.length;i++)a+=Us("manhattan",r[i],e,n,"kMedoids");return a},VC=function(e){var r=this.cy(),n=this.nodes(),a=null,i=Bc(e),s=new Array(i.k),o={},u;i.testMode?typeof i.testCentroids=="number"?(i.testCentroids,u=Vl(n,i.k,i.attributes)):ct(i.testCentroids)==="object"?u=i.testCentroids:u=Vl(n,i.k,i.attributes):u=Vl(n,i.k,i.attributes);for(var l=!0,c=0;l&&c<i.maxIterations;){for(var f=0;f<n.length;f++)a=n[f],o[a.id()]=Ep(a,u,i.distance,i.attributes,"kMeans");l=!1;for(var d=0;d<i.k;d++){var h=Cp(d,n,o);if(h.length!==0){for(var v=i.attributes.length,y=u[d],p=new Array(v),m=new Array(v),g=0;g<v;g++){m[g]=0;for(var x=0;x<h.length;x++)a=h[x],m[g]+=i.attributes[g](a);p[g]=m[g]/h.length,zC(p[g],y[g],i.sensitivityThreshold)||(l=!0)}u[d]=p,s[d]=r.collection(h)}}c++}return s},UC=function(e){var r=this.cy(),n=this.nodes(),a=null,i=Bc(e),s=new Array(i.k),o,u={},l,c=new Array(i.k);i.testMode?typeof i.testCentroids=="number"||(ct(i.testCentroids)==="object"?o=i.testCentroids:o=Q0(n,i.k)):o=Q0(n,i.k);for(var f=!0,d=0;f&&d<i.maxIterations;){for(var h=0;h<n.length;h++)a=n[h],u[a.id()]=Ep(a,o,i.distance,i.attributes,"kMedoids");f=!1;for(var v=0;v<o.length;v++){var y=Cp(v,n,u);if(y.length!==0){c[v]=J0(o[v],y,i.attributes);for(var p=0;p<y.length;p++)l=J0(y[p],y,i.attributes),l<c[v]&&(c[v]=l,o[v]=y[p],f=!0);s[v]=r.collection(y)}}d++}return s},jC=function(e,r,n,a,i){for(var s,o,u=0;u<r.length;u++)for(var l=0;l<e.length;l++)a[u][l]=Math.pow(n[u][l],i.m);for(var c=0;c<e.length;c++)for(var f=0;f<i.attributes.length;f++){s=0,o=0;for(var d=0;d<r.length;d++)s+=a[d][c]*i.attributes[f](r[d]),o+=a[d][c];e[c][f]=s/o}},WC=function(e,r,n,a,i){for(var s=0;s<e.length;s++)r[s]=e[s].slice();for(var o,u,l,c=2/(i.m-1),f=0;f<n.length;f++)for(var d=0;d<a.length;d++){o=0;for(var h=0;h<n.length;h++)u=Us(i.distance,a[d],n[f],i.attributes,"cmeans"),l=Us(i.distance,a[d],n[h],i.attributes,"cmeans"),o+=Math.pow(u/l,c);e[d][f]=1/o}},KC=function(e,r,n,a){for(var i=new Array(n.k),s=0;s<i.length;s++)i[s]=[];for(var o,u,l=0;l<r.length;l++){o=-1/0,u=-1;for(var c=0;c<r[0].length;c++)r[l][c]>o&&(o=r[l][c],u=c);i[u].push(e[l])}for(var f=0;f<i.length;f++)i[f]=a.collection(i[f]);return i},ed=function(e){var r=this.cy(),n=this.nodes(),a=Bc(e),i,s,o,u,l;u=new Array(n.length);for(var c=0;c<n.length;c++)u[c]=new Array(a.k);o=new Array(n.length);for(var f=0;f<n.length;f++)o[f]=new Array(a.k);for(var d=0;d<n.length;d++){for(var h=0,v=0;v<a.k;v++)o[d][v]=Math.random(),h+=o[d][v];for(var y=0;y<a.k;y++)o[d][y]=o[d][y]/h}s=new Array(a.k);for(var p=0;p<a.k;p++)s[p]=new Array(a.attributes.length);l=new Array(n.length);for(var m=0;m<n.length;m++)l[m]=new Array(a.k);for(var g=!0,x=0;g&&x<a.maxIterations;)g=!1,jC(s,n,o,l,a),WC(o,u,s,n,a),HC(o,u,a.sensitivityThreshold)||(g=!0),x++;return i=KC(n,o,a,r),{clusters:i,degreeOfMembership:o}},GC={kMeans:VC,kMedoids:UC,fuzzyCMeans:ed,fcm:ed},YC=_t({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),XC={single:"min",complete:"max"},ZC=function(e){var r=YC(e),n=XC[r.linkage];return n!=null&&(r.linkage=n),r},td=function(e,r,n,a,i){for(var s=0,o=1/0,u,l=i.attributes,c=function(D,_){return Ao(i.distance,l.length,function(A){return l[A](D)},function(A){return l[A](_)},D,_)},f=0;f<e.length;f++){var d=e[f].key,h=n[d][a[d]];h<o&&(s=d,o=h)}if(i.mode==="threshold"&&o>=i.threshold||i.mode==="dendrogram"&&e.length===1)return!1;var v=r[s],y=r[a[s]],p;i.mode==="dendrogram"?p={left:v,right:y,key:v.key}:p={value:v.value.concat(y.value),key:v.key},e[v.index]=p,e.splice(y.index,1),r[v.key]=p;for(var m=0;m<e.length;m++){var g=e[m];v.key===g.key?u=1/0:i.linkage==="min"?(u=n[v.key][g.key],n[v.key][g.key]>n[y.key][g.key]&&(u=n[y.key][g.key])):i.linkage==="max"?(u=n[v.key][g.key],n[v.key][g.key]<n[y.key][g.key]&&(u=n[y.key][g.key])):i.linkage==="mean"?u=(n[v.key][g.key]*v.size+n[y.key][g.key]*y.size)/(v.size+y.size):i.mode==="dendrogram"?u=c(g.value,v.value):u=c(g.value[0],v.value[0]),n[v.key][g.key]=n[g.key][v.key]=u}for(var x=0;x<e.length;x++){var b=e[x].key;if(a[b]===v.key||a[b]===y.key){for(var C=b,E=0;E<e.length;E++){var w=e[E].key;n[b][w]<n[b][C]&&(C=w)}a[b]=C}e[x].index=x}return v.key=y.key=v.index=y.index=null,!0},os=function t(e,r,n){e&&(e.value?r.push(e.value):(e.left&&t(e.left,r),e.right&&t(e.right,r)))},QC=function t(e,r){if(!e)return"";if(e.left&&e.right){var n=t(e.left,r),a=t(e.right,r),i=r.add({group:"nodes",data:{id:n+","+a}});return r.add({group:"edges",data:{source:n,target:i.id()}}),r.add({group:"edges",data:{source:a,target:i.id()}}),i.id()}else if(e.value)return e.value.id()},JC=function t(e,r,n){if(!e)return[];var a=[],i=[],s=[];return r===0?(e.left&&os(e.left,a),e.right&&os(e.right,i),s=a.concat(i),[n.collection(s)]):r===1?e.value?[n.collection(e.value)]:(e.left&&os(e.left,a),e.right&&os(e.right,i),[n.collection(a),n.collection(i)]):e.value?[n.collection(e.value)]:(e.left&&(a=t(e.left,r-1,n)),e.right&&(i=t(e.right,r-1,n)),a.concat(i))},rd=function(e){for(var r=this.cy(),n=this.nodes(),a=ZC(e),i=a.attributes,s=function(x,b){return Ao(a.distance,i.length,function(C){return i[C](x)},function(C){return i[C](b)},x,b)},o=[],u=[],l=[],c=[],f=0;f<n.length;f++){var d={value:a.mode==="dendrogram"?n[f]:[n[f]],key:f,index:f};o[f]=d,c[f]=d,u[f]=[],l[f]=0}for(var h=0;h<o.length;h++)for(var v=0;v<=h;v++){var y=void 0;a.mode==="dendrogram"?y=h===v?1/0:s(o[h].value,o[v].value):y=h===v?1/0:s(o[h].value[0],o[v].value[0]),u[h][v]=y,u[v][h]=y,y<u[h][l[h]]&&(l[h]=v)}for(var p=td(o,c,u,l,a);p;)p=td(o,c,u,l,a);var m;return a.mode==="dendrogram"?(m=JC(o[0],a.dendrogramDepth,r),a.addDendrogram&&QC(o[0],r)):(m=new Array(o.length),o.forEach(function(g,x){g.key=g.index=null,m[x]=r.collection(g.value)})),m},e_={hierarchicalClustering:rd,hca:rd},t_=_t({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),r_=function(e){var r=e.damping,n=e.preference;.5<=r&&r<1||et("Damping must range on [0.5, 1).  Got: ".concat(r));var a=["median","mean","min","max"];return a.some(function(i){return i===n})||ge(n)||et("Preference must be one of [".concat(a.map(function(i){return"'".concat(i,"'")}).join(", "),"] or a number.  Got: ").concat(n)),t_(e)},n_=function(e,r,n,a){var i=function(o,u){return a[u](o)};return-Ao(e,a.length,function(s){return i(r,s)},function(s){return i(n,s)},r,n)},a_=function(e,r){var n=null;return r==="median"?n=rC(e):r==="mean"?n=tC(e):r==="min"?n=JE(e):r==="max"?n=eC(e):n=r,n},i_=function(e,r,n){for(var a=[],i=0;i<e;i++)r[i*e+i]+n[i*e+i]>0&&a.push(i);return a},nd=function(e,r,n){for(var a=[],i=0;i<e;i++){for(var s=-1,o=-1/0,u=0;u<n.length;u++){var l=n[u];r[i*e+l]>o&&(s=l,o=r[i*e+l])}s>0&&a.push(s)}for(var c=0;c<n.length;c++)a[n[c]]=n[c];return a},s_=function(e,r,n){for(var a=nd(e,r,n),i=0;i<n.length;i++){for(var s=[],o=0;o<a.length;o++)a[o]===n[i]&&s.push(o);for(var u=-1,l=-1/0,c=0;c<s.length;c++){for(var f=0,d=0;d<s.length;d++)f+=r[s[d]*e+s[c]];f>l&&(u=c,l=f)}n[i]=s[u]}return a=nd(e,r,n),a},ad=function(e){for(var r=this.cy(),n=this.nodes(),a=r_(e),i={},s=0;s<n.length;s++)i[n[s].id()]=s;var o,u,l,c,f,d;o=n.length,u=o*o,l=new Array(u);for(var h=0;h<u;h++)l[h]=-1/0;for(var v=0;v<o;v++)for(var y=0;y<o;y++)v!==y&&(l[v*o+y]=n_(a.distance,n[v],n[y],a.attributes));c=a_(l,a.preference);for(var p=0;p<o;p++)l[p*o+p]=c;f=new Array(u);for(var m=0;m<u;m++)f[m]=0;d=new Array(u);for(var g=0;g<u;g++)d[g]=0;for(var x=new Array(o),b=new Array(o),C=new Array(o),E=0;E<o;E++)x[E]=0,b[E]=0,C[E]=0;for(var w=new Array(o*a.minIterations),B=0;B<w.length;B++)w[B]=0;var D;for(D=0;D<a.maxIterations;D++){for(var _=0;_<o;_++){for(var A=-1/0,S=-1/0,P=-1,T=0,$=0;$<o;$++)x[$]=f[_*o+$],T=d[_*o+$]+l[_*o+$],T>=A?(S=A,A=T,P=$):T>S&&(S=T);for(var O=0;O<o;O++)f[_*o+O]=(1-a.damping)*(l[_*o+O]-A)+a.damping*x[O];f[_*o+P]=(1-a.damping)*(l[_*o+P]-S)+a.damping*x[P]}for(var M=0;M<o;M++){for(var z=0,G=0;G<o;G++)x[G]=d[G*o+M],b[G]=Math.max(0,f[G*o+M]),z+=b[G];z-=b[M],b[M]=f[M*o+M],z+=b[M];for(var X=0;X<o;X++)d[X*o+M]=(1-a.damping)*Math.min(0,z-b[X])+a.damping*x[X];d[M*o+M]=(1-a.damping)*(z-b[M])+a.damping*x[M]}for(var I=0,L=0;L<o;L++){var U=d[L*o+L]+f[L*o+L]>0?1:0;w[D%a.minIterations*o+L]=U,I+=U}if(I>0&&(D>=a.minIterations-1||D==a.maxIterations-1)){for(var j=0,oe=0;oe<o;oe++){C[oe]=0;for(var se=0;se<a.minIterations;se++)C[oe]+=w[se*o+oe];(C[oe]===0||C[oe]===a.minIterations)&&j++}if(j===o)break}}for(var V=i_(o,f,d),H=s_(o,l,V),N={},K=0;K<V.length;K++)N[V[K]]=[];for(var ne=0;ne<n.length;ne++){var he=i[n[ne].id()],R=H[he];R!=null&&N[R].push(n[ne])}for(var F=new Array(V.length),q=0;q<V.length;q++)F[q]=r.collection(N[V[q]]);return F},o_={affinityPropagation:ad,ap:ad},l_=_t({root:void 0,directed:!1}),u_={hierholzer:function(e){if(!Oe(e)){var r=arguments;e={root:r[0],directed:r[1]}}var n=l_(e),a=n.root,i=n.directed,s=this,o=!1,u,l,c;a&&(c=_e(a)?this.filter(a)[0].id():a[0].id());var f={},d={};i?s.forEach(function(g){var x=g.id();if(g.isNode()){var b=g.indegree(!0),C=g.outdegree(!0),E=b-C,w=C-b;E==1?u?o=!0:u=x:w==1?l?o=!0:l=x:(w>1||E>1)&&(o=!0),f[x]=[],g.outgoers().forEach(function(B){B.isEdge()&&f[x].push(B.id())})}else d[x]=[void 0,g.target().id()]}):s.forEach(function(g){var x=g.id();if(g.isNode()){var b=g.degree(!0);b%2&&(u?l?o=!0:l=x:u=x),f[x]=[],g.connectedEdges().forEach(function(C){return f[x].push(C.id())})}else d[x]=[g.source().id(),g.target().id()]});var h={found:!1,trail:void 0};if(o)return h;if(l&&u)if(i){if(c&&l!=c)return h;c=l}else{if(c&&l!=c&&u!=c)return h;c||(c=l)}else c||(c=s[0].id());var v=function(x){for(var b=x,C=[x],E,w,B;f[b].length;)E=f[b].shift(),w=d[E][0],B=d[E][1],b!=B?(f[B]=f[B].filter(function(D){return D!=E}),b=B):!i&&b!=w&&(f[w]=f[w].filter(function(D){return D!=E}),b=w),C.unshift(E),C.unshift(b);return C},y=[],p=[];for(p=v(c);p.length!=1;)f[p[0]].length==0?(y.unshift(s.getElementById(p.shift())),y.unshift(s.getElementById(p.shift()))):p=v(p.shift()).concat(p);y.unshift(s.getElementById(p.shift()));for(var m in f)if(f[m].length)return h;return h.found=!0,h.trail=this.spawn(y,!0),h}},ls=function(){var e=this,r={},n=0,a=0,i=[],s=[],o={},u=function(d,h){for(var v=s.length-1,y=[],p=e.spawn();s[v].x!=d||s[v].y!=h;)y.push(s.pop().edge),v--;y.push(s.pop().edge),y.forEach(function(m){var g=m.connectedNodes().intersection(e);p.merge(m),g.forEach(function(x){var b=x.id(),C=x.connectedEdges().intersection(e);p.merge(x),r[b].cutVertex?p.merge(C.filter(function(E){return E.isLoop()})):p.merge(C)})}),i.push(p)},l=function f(d,h,v){d===v&&(a+=1),r[h]={id:n,low:n++,cutVertex:!1};var y=e.getElementById(h).connectedEdges().intersection(e);if(y.size()===0)i.push(e.spawn(e.getElementById(h)));else{var p,m,g,x;y.forEach(function(b){p=b.source().id(),m=b.target().id(),g=p===h?m:p,g!==v&&(x=b.id(),o[x]||(o[x]=!0,s.push({x:h,y:g,edge:b})),g in r?r[h].low=Math.min(r[h].low,r[g].id):(f(d,g,h),r[h].low=Math.min(r[h].low,r[g].low),r[h].id<=r[g].low&&(r[h].cutVertex=!0,u(h,g))))})}};e.forEach(function(f){if(f.isNode()){var d=f.id();d in r||(a=0,l(d,d),r[d].cutVertex=a>1)}});var c=Object.keys(r).filter(function(f){return r[f].cutVertex}).map(function(f){return e.getElementById(f)});return{cut:e.spawn(c),components:i}},c_={hopcroftTarjanBiconnected:ls,htbc:ls,htb:ls,hopcroftTarjanBiconnectedComponents:ls},us=function(){var e=this,r={},n=0,a=[],i=[],s=e.spawn(e),o=function u(l){i.push(l),r[l]={index:n,low:n++,explored:!1};var c=e.getElementById(l).connectedEdges().intersection(e);if(c.forEach(function(y){var p=y.target().id();p!==l&&(p in r||u(p),r[p].explored||(r[l].low=Math.min(r[l].low,r[p].low)))}),r[l].index===r[l].low){for(var f=e.spawn();;){var d=i.pop();if(f.merge(e.getElementById(d)),r[d].low=r[l].index,r[d].explored=!0,d===l)break}var h=f.edgesWith(f),v=f.merge(h);a.push(v),s=s.difference(v)}};return e.forEach(function(u){if(u.isNode()){var l=u.id();l in r||o(l)}}),{cut:s,components:a}},f_={tarjanStronglyConnected:us,tsc:us,tscc:us,tarjanStronglyConnectedComponents:us},_p={};[Di,HE,qE,UE,WE,GE,ZE,EC,ma,ya,Cu,IC,GC,e_,o_,u_,c_,f_].forEach(function(t){Be(_p,t)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var Bp=0,Ap=1,Dp=2,Lr=function t(e){if(!(this instanceof t))return new t(e);this.id="Thenable/1.0.7",this.state=Bp,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof e=="function"&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};Lr.prototype={fulfill:function(e){return id(this,Ap,"fulfillValue",e)},reject:function(e){return id(this,Dp,"rejectReason",e)},then:function(e,r){var n=this,a=new Lr;return n.onFulfilled.push(od(e,a,"fulfill")),n.onRejected.push(od(r,a,"reject")),Sp(n),a.proxy}};var id=function(e,r,n,a){return e.state===Bp&&(e.state=r,e[n]=a,Sp(e)),e},Sp=function(e){e.state===Ap?sd(e,"onFulfilled",e.fulfillValue):e.state===Dp&&sd(e,"onRejected",e.rejectReason)},sd=function(e,r,n){if(e[r].length!==0){var a=e[r];e[r]=[];var i=function(){for(var o=0;o<a.length;o++)a[o](n)};typeof setImmediate=="function"?setImmediate(i):setTimeout(i,0)}},od=function(e,r,n){return function(a){if(typeof e!="function")r[n].call(r,a);else{var i;try{i=e(a)}catch(s){r.reject(s);return}d_(r,i)}}},d_=function t(e,r){if(e===r||e.proxy===r){e.reject(new TypeError("cannot resolve promise with itself"));return}var n;if(ct(r)==="object"&&r!==null||typeof r=="function")try{n=r.then}catch(i){e.reject(i);return}if(typeof n=="function"){var a=!1;try{n.call(r,function(i){a||(a=!0,i===r?e.reject(new TypeError("circular thenable chain")):t(e,i))},function(i){a||(a=!0,e.reject(i))})}catch(i){a||e.reject(i)}return}e.fulfill(r)};Lr.all=function(t){return new Lr(function(e,r){for(var n=new Array(t.length),a=0,i=function(u,l){n[u]=l,a++,a===t.length&&e(n)},s=0;s<t.length;s++)(function(o){var u=t[o],l=u!=null&&u.then!=null;if(l)u.then(function(f){i(o,f)},function(f){r(f)});else{var c=u;i(o,c)}})(s)})};Lr.resolve=function(t){return new Lr(function(e,r){e(t)})};Lr.reject=function(t){return new Lr(function(e,r){r(t)})};var Fa=typeof Promise<"u"?Promise:Lr,_u=function(e,r,n){var a=mc(e),i=!a,s=this._private=Be({duration:1e3},r,n);if(s.target=e,s.style=s.style||s.css,s.started=!1,s.playing=!1,s.hooked=!1,s.applying=!1,s.progress=0,s.completes=[],s.frames=[],s.complete&&Je(s.complete)&&s.completes.push(s.complete),i){var o=e.position();s.startPosition=s.startPosition||{x:o.x,y:o.y},s.startStyle=s.startStyle||e.cy().style().getAnimationStartStyle(e,s.style)}if(a){var u=e.pan();s.startPan={x:u.x,y:u.y},s.startZoom=e.zoom()}this.length=1,this[0]=this},Mn=_u.prototype;Be(Mn,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var r,n=e.target._private.animation;e.queue?r=n.queue:r=n.current,r.push(this),Yt(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var r=this._private;return e===void 0?r.progress*r.duration:this.progress(e/r.duration)},progress:function(e){var r=this._private,n=r.playing;return e===void 0?r.progress:(n&&this.pause(),r.progress=e,r.started=!1,n&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var e=this._private,r=e.playing;r&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(l,c){var f=e[l];f!=null&&(e[l]=e[c],e[c]=f)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var a=0;a<e.style.length;a++){var i=e.style[a],s=i.name,o=e.startStyle[s];e.startStyle[s]=i,e.style[a]=o}return r&&this.play(),this},promise:function(e){var r=this._private,n;switch(e){case"frame":n=r.frames;break;default:case"complete":case"completed":n=r.completes}return new Fa(function(a,i){n.push(function(){a()})})}});Mn.complete=Mn.completed;Mn.run=Mn.play;Mn.running=Mn.playing;var h_={animated:function(){return function(){var r=this,n=r.length!==void 0,a=n?r:[r],i=this._private.cy||this;if(!i.styleEnabled())return!1;var s=a[0];if(s)return s._private.animation.current.length>0}},clearQueue:function(){return function(){var r=this,n=r.length!==void 0,a=n?r:[r],i=this._private.cy||this;if(!i.styleEnabled())return this;for(var s=0;s<a.length;s++){var o=a[s];o._private.animation.queue=[]}return this}},delay:function(){return function(r,n){var a=this._private.cy||this;return a.styleEnabled()?this.animate({delay:r,duration:r,complete:n}):this}},delayAnimation:function(){return function(r,n){var a=this._private.cy||this;return a.styleEnabled()?this.animation({delay:r,duration:r,complete:n}):this}},animation:function(){return function(r,n){var a=this,i=a.length!==void 0,s=i?a:[a],o=this._private.cy||this,u=!i,l=!u;if(!o.styleEnabled())return this;var c=o.style();r=Be({},r,n);var f=Object.keys(r).length===0;if(f)return new _u(s[0],r);switch(r.duration===void 0&&(r.duration=400),r.duration){case"slow":r.duration=600;break;case"fast":r.duration=200;break}if(l&&(r.style=c.getPropsList(r.style||r.css),r.css=void 0),l&&r.renderedPosition!=null){var d=r.renderedPosition,h=o.pan(),v=o.zoom();r.position=hp(d,v,h)}if(u&&r.panBy!=null){var y=r.panBy,p=o.pan();r.pan={x:p.x+y.x,y:p.y+y.y}}var m=r.center||r.centre;if(u&&m!=null){var g=o.getCenterPan(m.eles,r.zoom);g!=null&&(r.pan=g)}if(u&&r.fit!=null){var x=r.fit,b=o.getFitViewport(x.eles||x.boundingBox,x.padding);b!=null&&(r.pan=b.pan,r.zoom=b.zoom)}if(u&&Oe(r.zoom)){var C=o.getZoomedViewport(r.zoom);C!=null?(C.zoomed&&(r.zoom=C.zoom),C.panned&&(r.pan=C.pan)):r.zoom=null}return new _u(s[0],r)}},animate:function(){return function(r,n){var a=this,i=a.length!==void 0,s=i?a:[a],o=this._private.cy||this;if(!o.styleEnabled())return this;n&&(r=Be({},r,n));for(var u=0;u<s.length;u++){var l=s[u],c=l.animated()&&(r.queue===void 0||r.queue),f=l.animation(r,c?{queue:!0}:void 0);f.play()}return this}},stop:function(){return function(r,n){var a=this,i=a.length!==void 0,s=i?a:[a],o=this._private.cy||this;if(!o.styleEnabled())return this;for(var u=0;u<s.length;u++){for(var l=s[u],c=l._private,f=c.animation.current,d=0;d<f.length;d++){var h=f[d],v=h._private;n&&(v.duration=0)}r&&(c.animation.queue=[]),n||(c.animation.current=[])}return o.notify("draw"),this}}},v_=Array.isArray,Do=v_,p_=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,g_=/^\w*$/;function m_(t,e){if(Do(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||Hi(t)?!0:g_.test(t)||!p_.test(t)||e!=null&&t in Object(e)}var y_=m_,x_="[object AsyncFunction]",b_="[object Function]",w_="[object GeneratorFunction]",E_="[object Proxy]";function C_(t){if(!Rn(t))return!1;var e=ap(t);return e==b_||e==w_||e==x_||e==E_}var __=C_,B_=Eo["__core-js_shared__"],Ul=B_,ld=function(){var t=/[^.]+$/.exec(Ul&&Ul.keys&&Ul.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function A_(t){return!!ld&&ld in t}var D_=A_,S_=Function.prototype,k_=S_.toString;function T_(t){if(t!=null){try{return k_.call(t)}catch{}try{return t+""}catch{}}return""}var P_=T_,F_=/[\\^$.*+?()[\]{}|]/g,R_=/^\[object .+?Constructor\]$/,O_=Function.prototype,I_=Object.prototype,L_=O_.toString,M_=I_.hasOwnProperty,$_=RegExp("^"+L_.call(M_).replace(F_,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function N_(t){if(!Rn(t)||D_(t))return!1;var e=__(t)?$_:R_;return e.test(P_(t))}var z_=N_;function H_(t,e){return t==null?void 0:t[e]}var q_=H_;function V_(t,e){var r=q_(t,e);return z_(r)?r:void 0}var Ac=V_,U_=Ac(Object,"create"),Ti=U_;function j_(){this.__data__=Ti?Ti(null):{},this.size=0}var W_=j_;function K_(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var G_=K_,Y_="__lodash_hash_undefined__",X_=Object.prototype,Z_=X_.hasOwnProperty;function Q_(t){var e=this.__data__;if(Ti){var r=e[t];return r===Y_?void 0:r}return Z_.call(e,t)?e[t]:void 0}var J_=Q_,e4=Object.prototype,t4=e4.hasOwnProperty;function r4(t){var e=this.__data__;return Ti?e[t]!==void 0:t4.call(e,t)}var n4=r4,a4="__lodash_hash_undefined__";function i4(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Ti&&e===void 0?a4:e,this}var s4=i4;function Ra(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ra.prototype.clear=W_;Ra.prototype.delete=G_;Ra.prototype.get=J_;Ra.prototype.has=n4;Ra.prototype.set=s4;var ud=Ra;function o4(){this.__data__=[],this.size=0}var l4=o4;function u4(t,e){return t===e||t!==t&&e!==e}var kp=u4;function c4(t,e){for(var r=t.length;r--;)if(kp(t[r][0],e))return r;return-1}var So=c4,f4=Array.prototype,d4=f4.splice;function h4(t){var e=this.__data__,r=So(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():d4.call(e,r,1),--this.size,!0}var v4=h4;function p4(t){var e=this.__data__,r=So(e,t);return r<0?void 0:e[r][1]}var g4=p4;function m4(t){return So(this.__data__,t)>-1}var y4=m4;function x4(t,e){var r=this.__data__,n=So(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var b4=x4;function Oa(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Oa.prototype.clear=l4;Oa.prototype.delete=v4;Oa.prototype.get=g4;Oa.prototype.has=y4;Oa.prototype.set=b4;var w4=Oa,E4=Ac(Eo,"Map"),C4=E4;function _4(){this.size=0,this.__data__={hash:new ud,map:new(C4||w4),string:new ud}}var B4=_4;function A4(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var D4=A4;function S4(t,e){var r=t.__data__;return D4(e)?r[typeof e=="string"?"string":"hash"]:r.map}var ko=S4;function k4(t){var e=ko(this,t).delete(t);return this.size-=e?1:0,e}var T4=k4;function P4(t){return ko(this,t).get(t)}var F4=P4;function R4(t){return ko(this,t).has(t)}var O4=R4;function I4(t,e){var r=ko(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var L4=I4;function Ia(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ia.prototype.clear=B4;Ia.prototype.delete=T4;Ia.prototype.get=F4;Ia.prototype.has=O4;Ia.prototype.set=L4;var Tp=Ia,M4="Expected a function";function Dc(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(M4);var r=function(){var n=arguments,a=e?e.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var s=t.apply(this,n);return r.cache=i.set(a,s)||i,s};return r.cache=new(Dc.Cache||Tp),r}Dc.Cache=Tp;var $4=Dc,N4=500;function z4(t){var e=$4(t,function(n){return r.size===N4&&r.clear(),n}),r=e.cache;return e}var H4=z4,q4=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,V4=/\\(\\)?/g,U4=H4(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(q4,function(r,n,a,i){e.push(a?i.replace(V4,"$1"):n||r)}),e}),Pp=U4;function j4(t,e){for(var r=-1,n=t==null?0:t.length,a=Array(n);++r<n;)a[r]=e(t[r],r,t);return a}var Fp=j4,W4=1/0,cd=Aa?Aa.prototype:void 0,fd=cd?cd.toString:void 0;function Rp(t){if(typeof t=="string")return t;if(Do(t))return Fp(t,Rp)+"";if(Hi(t))return fd?fd.call(t):"";var e=t+"";return e=="0"&&1/t==-W4?"-0":e}var K4=Rp;function G4(t){return t==null?"":K4(t)}var Op=G4;function Y4(t,e){return Do(t)?t:y_(t,e)?[t]:Pp(Op(t))}var Ip=Y4,X4=1/0;function Z4(t){if(typeof t=="string"||Hi(t))return t;var e=t+"";return e=="0"&&1/t==-X4?"-0":e}var Sc=Z4;function Q4(t,e){e=Ip(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[Sc(e[r++])];return r&&r==n?t:void 0}var J4=Q4;function eB(t,e,r){var n=t==null?void 0:J4(t,e);return n===void 0?r:n}var tB=eB,rB=function(){try{var t=Ac(Object,"defineProperty");return t({},"",{}),t}catch{}}(),dd=rB;function nB(t,e,r){e=="__proto__"&&dd?dd(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var aB=nB,iB=Object.prototype,sB=iB.hasOwnProperty;function oB(t,e,r){var n=t[e];(!(sB.call(t,e)&&kp(n,r))||r===void 0&&!(e in t))&&aB(t,e,r)}var lB=oB,uB=9007199254740991,cB=/^(?:0|[1-9]\d*)$/;function fB(t,e){var r=typeof t;return e=e??uB,!!e&&(r=="number"||r!="symbol"&&cB.test(t))&&t>-1&&t%1==0&&t<e}var dB=fB;function hB(t,e,r,n){if(!Rn(t))return t;e=Ip(e,t);for(var a=-1,i=e.length,s=i-1,o=t;o!=null&&++a<i;){var u=Sc(e[a]),l=r;if(u==="__proto__"||u==="constructor"||u==="prototype")return t;if(a!=s){var c=o[u];l=n?n(c,u,o):void 0,l===void 0&&(l=Rn(c)?c:dB(e[a+1])?[]:{})}lB(o,u,l),o=o[u]}return t}var vB=hB;function pB(t,e,r){return t==null?t:vB(t,e,r)}var gB=pB;function mB(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var yB=mB;function xB(t){return Do(t)?Fp(t,Sc):Hi(t)?[t]:yB(Pp(Op(t)))}var bB=xB,wB={data:function(e){var r={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(a){},beforeSet:function(a,i){},onSet:function(a){},canSet:function(a){return!0}};return e=Be({},r,e),function(a,i){var s=e,o=this,u=o.length!==void 0,l=u?o:[o],c=u?o[0]:o;if(_e(a)){var f=a.indexOf(".")!==-1,d=f&&bB(a);if(s.allowGetting&&i===void 0){var h;return c&&(s.beforeGet(c),d&&c._private[s.field][a]===void 0?h=tB(c._private[s.field],d):h=c._private[s.field][a]),h}else if(s.allowSetting&&i!==void 0){var v=!s.immutableKeys[a];if(v){var y=Kv({},a,i);s.beforeSet(o,y);for(var p=0,m=l.length;p<m;p++){var g=l[p];s.canSet(g)&&(d&&c._private[s.field][a]===void 0?gB(g._private[s.field],d,i):g._private[s.field][a]=i)}s.updateStyle&&o.updateStyle(),s.onSet(o),s.settingTriggersEvent&&o[s.triggerFnName](s.settingEvent)}}}else if(s.allowSetting&&Oe(a)){var x=a,b,C,E=Object.keys(x);s.beforeSet(o,x);for(var w=0;w<E.length;w++){b=E[w],C=x[b];var B=!s.immutableKeys[b];if(B)for(var D=0;D<l.length;D++){var _=l[D];s.canSet(_)&&(_._private[s.field][b]=C)}}s.updateStyle&&o.updateStyle(),s.onSet(o),s.settingTriggersEvent&&o[s.triggerFnName](s.settingEvent)}else if(s.allowBinding&&Je(a)){var A=a;o.on(s.bindingEvent,A)}else if(s.allowGetting&&a===void 0){var S;return c&&(s.beforeGet(c),S=c._private[s.field]),S}return o}},removeData:function(e){var r={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=Be({},r,e),function(a){var i=e,s=this,o=s.length!==void 0,u=o?s:[s];if(_e(a)){for(var l=a.split(/\s+/),c=l.length,f=0;f<c;f++){var d=l[f];if(!sn(d)){var h=!i.immutableKeys[d];if(h)for(var v=0,y=u.length;v<y;v++)u[v]._private[i.field][d]=void 0}}i.triggerEvent&&s[i.triggerFnName](i.event)}else if(a===void 0){for(var p=0,m=u.length;p<m;p++)for(var g=u[p]._private[i.field],x=Object.keys(g),b=0;b<x.length;b++){var C=x[b],E=!i.immutableKeys[C];E&&(g[C]=void 0)}i.triggerEvent&&s[i.triggerFnName](i.event)}return s}}},EB={eventAliasesOn:function(e){var r=e;r.addListener=r.listen=r.bind=r.on,r.unlisten=r.unbind=r.off=r.removeListener,r.trigger=r.emit,r.pon=r.promiseOn=function(n,a){var i=this,s=Array.prototype.slice.call(arguments,0);return new Fa(function(o,u){var l=function(h){i.off.apply(i,f),o(h)},c=s.concat([l]),f=c.concat([]);i.on.apply(i,c)})}}},$e={};[h_,wB,EB].forEach(function(t){Be($e,t)});var CB={animate:$e.animate(),animation:$e.animation(),animated:$e.animated(),clearQueue:$e.clearQueue(),delay:$e.delay(),delayAnimation:$e.delayAnimation(),stop:$e.stop()},Bs={classes:function(e){var r=this;if(e===void 0){var n=[];return r[0]._private.classes.forEach(function(v){return n.push(v)}),n}else Ue(e)||(e=(e||"").match(/\S+/g)||[]);for(var a=[],i=new Pa(e),s=0;s<r.length;s++){for(var o=r[s],u=o._private,l=u.classes,c=!1,f=0;f<e.length;f++){var d=e[f],h=l.has(d);if(!h){c=!0;break}}c||(c=l.size!==e.length),c&&(u.classes=i,a.push(o))}return a.length>0&&this.spawn(a).updateStyle().emit("class"),r},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var r=this[0];return r!=null&&r._private.classes.has(e)},toggleClass:function(e,r){Ue(e)||(e=e.match(/\S+/g)||[]);for(var n=this,a=r===void 0,i=[],s=0,o=n.length;s<o;s++)for(var u=n[s],l=u._private.classes,c=!1,f=0;f<e.length;f++){var d=e[f],h=l.has(d),v=!1;r||a&&!h?(l.add(d),v=!0):(!r||a&&h)&&(l.delete(d),v=!0),!c&&v&&(i.push(u),c=!0)}return i.length>0&&this.spawn(i).updateStyle().emit("class"),n},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,r){var n=this;if(r==null)r=250;else if(r===0)return n;return n.addClass(e),setTimeout(function(){n.removeClass(e)},r),n}};Bs.className=Bs.classNames=Bs.classes;var Fe={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:ut,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};Fe.variable="(?:[\\w-.]|(?:\\\\"+Fe.metaChar+"))+";Fe.className="(?:[\\w-]|(?:\\\\"+Fe.metaChar+"))+";Fe.value=Fe.string+"|"+Fe.number;Fe.id=Fe.variable;(function(){var t,e,r;for(t=Fe.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],Fe.comparatorOp+="|@"+e;for(t=Fe.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],!(e.indexOf("!")>=0)&&e!=="="&&(Fe.comparatorOp+="|\\!"+e)})();var Ve=function(){return{checks:[]}},xe={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},Bu=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(t,e){return I2(t.selector,e.selector)}),_B=function(){for(var t={},e,r=0;r<Bu.length;r++)e=Bu[r],t[e.selector]=e.matches;return t}(),BB=function(e,r){return _B[e](r)},AB="("+Bu.map(function(t){return t.selector}).join("|")+")",ea=function(e){return e.replace(new RegExp("\\\\("+Fe.metaChar+")","g"),function(r,n){return n})},Vr=function(e,r,n){e[e.length-1]=n},Au=[{name:"group",query:!0,regex:"("+Fe.group+")",populate:function(e,r,n){var a=lr(n,1),i=a[0];r.checks.push({type:xe.GROUP,value:i==="*"?i:i+"s"})}},{name:"state",query:!0,regex:AB,populate:function(e,r,n){var a=lr(n,1),i=a[0];r.checks.push({type:xe.STATE,value:i})}},{name:"id",query:!0,regex:"\\#("+Fe.id+")",populate:function(e,r,n){var a=lr(n,1),i=a[0];r.checks.push({type:xe.ID,value:ea(i)})}},{name:"className",query:!0,regex:"\\.("+Fe.className+")",populate:function(e,r,n){var a=lr(n,1),i=a[0];r.checks.push({type:xe.CLASS,value:ea(i)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+Fe.variable+")\\s*\\]",populate:function(e,r,n){var a=lr(n,1),i=a[0];r.checks.push({type:xe.DATA_EXIST,field:ea(i)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+Fe.variable+")\\s*("+Fe.comparatorOp+")\\s*("+Fe.value+")\\s*\\]",populate:function(e,r,n){var a=lr(n,3),i=a[0],s=a[1],o=a[2],u=new RegExp("^"+Fe.string+"$").exec(o)!=null;u?o=o.substring(1,o.length-1):o=parseFloat(o),r.checks.push({type:xe.DATA_COMPARE,field:ea(i),operator:s,value:o})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+Fe.boolOp+")\\s*("+Fe.variable+")\\s*\\]",populate:function(e,r,n){var a=lr(n,2),i=a[0],s=a[1];r.checks.push({type:xe.DATA_BOOL,field:ea(s),operator:i})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+Fe.meta+")\\s*("+Fe.comparatorOp+")\\s*("+Fe.number+")\\s*\\]\\]",populate:function(e,r,n){var a=lr(n,3),i=a[0],s=a[1],o=a[2];r.checks.push({type:xe.META_COMPARE,field:ea(i),operator:s,value:parseFloat(o)})}},{name:"nextQuery",separator:!0,regex:Fe.separator,populate:function(e,r){var n=e.currentSubject,a=e.edgeCount,i=e.compoundCount,s=e[e.length-1];n!=null&&(s.subject=n,e.currentSubject=null),s.edgeCount=a,s.compoundCount=i,e.edgeCount=0,e.compoundCount=0;var o=e[e.length++]=Ve();return o}},{name:"directedEdge",separator:!0,regex:Fe.directedEdge,populate:function(e,r){if(e.currentSubject==null){var n=Ve(),a=r,i=Ve();return n.checks.push({type:xe.DIRECTED_EDGE,source:a,target:i}),Vr(e,r,n),e.edgeCount++,i}else{var s=Ve(),o=r,u=Ve();return s.checks.push({type:xe.NODE_SOURCE,source:o,target:u}),Vr(e,r,s),e.edgeCount++,u}}},{name:"undirectedEdge",separator:!0,regex:Fe.undirectedEdge,populate:function(e,r){if(e.currentSubject==null){var n=Ve(),a=r,i=Ve();return n.checks.push({type:xe.UNDIRECTED_EDGE,nodes:[a,i]}),Vr(e,r,n),e.edgeCount++,i}else{var s=Ve(),o=r,u=Ve();return s.checks.push({type:xe.NODE_NEIGHBOR,node:o,neighbor:u}),Vr(e,r,s),u}}},{name:"child",separator:!0,regex:Fe.child,populate:function(e,r){if(e.currentSubject==null){var n=Ve(),a=Ve(),i=e[e.length-1];return n.checks.push({type:xe.CHILD,parent:i,child:a}),Vr(e,r,n),e.compoundCount++,a}else if(e.currentSubject===r){var s=Ve(),o=e[e.length-1],u=Ve(),l=Ve(),c=Ve(),f=Ve();return s.checks.push({type:xe.COMPOUND_SPLIT,left:o,right:u,subject:l}),l.checks=r.checks,r.checks=[{type:xe.TRUE}],f.checks.push({type:xe.TRUE}),u.checks.push({type:xe.PARENT,parent:f,child:c}),Vr(e,o,s),e.currentSubject=l,e.compoundCount++,c}else{var d=Ve(),h=Ve(),v=[{type:xe.PARENT,parent:d,child:h}];return d.checks=r.checks,r.checks=v,e.compoundCount++,h}}},{name:"descendant",separator:!0,regex:Fe.descendant,populate:function(e,r){if(e.currentSubject==null){var n=Ve(),a=Ve(),i=e[e.length-1];return n.checks.push({type:xe.DESCENDANT,ancestor:i,descendant:a}),Vr(e,r,n),e.compoundCount++,a}else if(e.currentSubject===r){var s=Ve(),o=e[e.length-1],u=Ve(),l=Ve(),c=Ve(),f=Ve();return s.checks.push({type:xe.COMPOUND_SPLIT,left:o,right:u,subject:l}),l.checks=r.checks,r.checks=[{type:xe.TRUE}],f.checks.push({type:xe.TRUE}),u.checks.push({type:xe.ANCESTOR,ancestor:f,descendant:c}),Vr(e,o,s),e.currentSubject=l,e.compoundCount++,c}else{var d=Ve(),h=Ve(),v=[{type:xe.ANCESTOR,ancestor:d,descendant:h}];return d.checks=r.checks,r.checks=v,e.compoundCount++,h}}},{name:"subject",modifier:!0,regex:Fe.subject,populate:function(e,r){if(e.currentSubject!=null&&e.currentSubject!==r)return Ne("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=r;var n=e[e.length-1],a=n.checks[0],i=a==null?null:a.type;i===xe.DIRECTED_EDGE?a.type=xe.NODE_TARGET:i===xe.UNDIRECTED_EDGE&&(a.type=xe.NODE_NEIGHBOR,a.node=a.nodes[1],a.neighbor=a.nodes[0],a.nodes=null)}}];Au.forEach(function(t){return t.regexObj=new RegExp("^"+t.regex)});var DB=function(e){for(var r,n,a,i=0;i<Au.length;i++){var s=Au[i],o=s.name,u=e.match(s.regexObj);if(u!=null){n=u,r=s,a=o;var l=u[0];e=e.substring(l.length);break}}return{expr:r,match:n,name:a,remaining:e}},SB=function(e){var r=e.match(/^\s+/);if(r){var n=r[0];e=e.substring(n.length)}return e},kB=function(e){var r=this,n=r.inputText=e,a=r[0]=Ve();for(r.length=1,n=SB(n);;){var i=DB(n);if(i.expr==null)return Ne("The selector `"+e+"`is invalid"),!1;var s=i.match.slice(1),o=i.expr.populate(r,a,s);if(o===!1)return!1;if(o!=null&&(a=o),n=i.remaining,n.match(/^\s*$/))break}var u=r[r.length-1];r.currentSubject!=null&&(u.subject=r.currentSubject),u.edgeCount=r.edgeCount,u.compoundCount=r.compoundCount;for(var l=0;l<r.length;l++){var c=r[l];if(c.compoundCount>0&&c.edgeCount>0)return Ne("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(c.edgeCount>1)return Ne("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;c.edgeCount===1&&Ne("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},TB=function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=function(c){return c??""},r=function(c){return _e(c)?'"'+c+'"':e(c)},n=function(c){return" "+c+" "},a=function(c,f){var d=c.type,h=c.value;switch(d){case xe.GROUP:{var v=e(h);return v.substring(0,v.length-1)}case xe.DATA_COMPARE:{var y=c.field,p=c.operator;return"["+y+n(e(p))+r(h)+"]"}case xe.DATA_BOOL:{var m=c.operator,g=c.field;return"["+e(m)+g+"]"}case xe.DATA_EXIST:{var x=c.field;return"["+x+"]"}case xe.META_COMPARE:{var b=c.operator,C=c.field;return"[["+C+n(e(b))+r(h)+"]]"}case xe.STATE:return h;case xe.ID:return"#"+h;case xe.CLASS:return"."+h;case xe.PARENT:case xe.CHILD:return i(c.parent,f)+n(">")+i(c.child,f);case xe.ANCESTOR:case xe.DESCENDANT:return i(c.ancestor,f)+" "+i(c.descendant,f);case xe.COMPOUND_SPLIT:{var E=i(c.left,f),w=i(c.subject,f),B=i(c.right,f);return E+(E.length>0?" ":"")+w+B}case xe.TRUE:return""}},i=function(c,f){return c.checks.reduce(function(d,h,v){return d+(f===c&&v===0?"$":"")+a(h,f)},"")},s="",o=0;o<this.length;o++){var u=this[o];s+=i(u,u.subject),this.length>1&&o<this.length-1&&(s+=", ")}return this.toStringCache=s,s},PB={parse:kB,toString:TB},Lp=function(e,r,n){var a,i=_e(e),s=ge(e),o=_e(n),u,l,c=!1,f=!1,d=!1;switch(r.indexOf("!")>=0&&(r=r.replace("!",""),f=!0),r.indexOf("@")>=0&&(r=r.replace("@",""),c=!0),(i||o||c)&&(u=!i&&!s?"":""+e,l=""+n),c&&(e=u=u.toLowerCase(),n=l=l.toLowerCase()),r){case"*=":a=u.indexOf(l)>=0;break;case"$=":a=u.indexOf(l,u.length-l.length)>=0;break;case"^=":a=u.indexOf(l)===0;break;case"=":a=e===n;break;case">":d=!0,a=e>n;break;case">=":d=!0,a=e>=n;break;case"<":d=!0,a=e<n;break;case"<=":d=!0,a=e<=n;break;default:a=!1;break}return f&&(e!=null||!d)&&(a=!a),a},FB=function(e,r){switch(r){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},RB=function(e){return e!==void 0},kc=function(e,r){return e.data(r)},OB=function(e,r){return e[r]()},tt=[],Xe=function(e,r){return e.checks.every(function(n){return tt[n.type](n,r)})};tt[xe.GROUP]=function(t,e){var r=t.value;return r==="*"||r===e.group()};tt[xe.STATE]=function(t,e){var r=t.value;return BB(r,e)};tt[xe.ID]=function(t,e){var r=t.value;return e.id()===r};tt[xe.CLASS]=function(t,e){var r=t.value;return e.hasClass(r)};tt[xe.META_COMPARE]=function(t,e){var r=t.field,n=t.operator,a=t.value;return Lp(OB(e,r),n,a)};tt[xe.DATA_COMPARE]=function(t,e){var r=t.field,n=t.operator,a=t.value;return Lp(kc(e,r),n,a)};tt[xe.DATA_BOOL]=function(t,e){var r=t.field,n=t.operator;return FB(kc(e,r),n)};tt[xe.DATA_EXIST]=function(t,e){var r=t.field;return t.operator,RB(kc(e,r))};tt[xe.UNDIRECTED_EDGE]=function(t,e){var r=t.nodes[0],n=t.nodes[1],a=e.source(),i=e.target();return Xe(r,a)&&Xe(n,i)||Xe(n,a)&&Xe(r,i)};tt[xe.NODE_NEIGHBOR]=function(t,e){return Xe(t.node,e)&&e.neighborhood().some(function(r){return r.isNode()&&Xe(t.neighbor,r)})};tt[xe.DIRECTED_EDGE]=function(t,e){return Xe(t.source,e.source())&&Xe(t.target,e.target())};tt[xe.NODE_SOURCE]=function(t,e){return Xe(t.source,e)&&e.outgoers().some(function(r){return r.isNode()&&Xe(t.target,r)})};tt[xe.NODE_TARGET]=function(t,e){return Xe(t.target,e)&&e.incomers().some(function(r){return r.isNode()&&Xe(t.source,r)})};tt[xe.CHILD]=function(t,e){return Xe(t.child,e)&&Xe(t.parent,e.parent())};tt[xe.PARENT]=function(t,e){return Xe(t.parent,e)&&e.children().some(function(r){return Xe(t.child,r)})};tt[xe.DESCENDANT]=function(t,e){return Xe(t.descendant,e)&&e.ancestors().some(function(r){return Xe(t.ancestor,r)})};tt[xe.ANCESTOR]=function(t,e){return Xe(t.ancestor,e)&&e.descendants().some(function(r){return Xe(t.descendant,r)})};tt[xe.COMPOUND_SPLIT]=function(t,e){return Xe(t.subject,e)&&Xe(t.left,e)&&Xe(t.right,e)};tt[xe.TRUE]=function(){return!0};tt[xe.COLLECTION]=function(t,e){var r=t.value;return r.has(e)};tt[xe.FILTER]=function(t,e){var r=t.value;return r(e)};var IB=function(e){var r=this;if(r.length===1&&r[0].checks.length===1&&r[0].checks[0].type===xe.ID)return e.getElementById(r[0].checks[0].value).collection();var n=function(i){for(var s=0;s<r.length;s++){var o=r[s];if(Xe(o,i))return!0}return!1};return r.text()==null&&(n=function(){return!0}),e.filter(n)},LB=function(e){for(var r=this,n=0;n<r.length;n++){var a=r[n];if(Xe(a,e))return!0}return!1},MB={matches:LB,filter:IB},ln=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||_e(e)&&e.match(/^\s*$/)||(Yt(e)?this.addQuery({checks:[{type:xe.COLLECTION,value:e.collection()}]}):Je(e)?this.addQuery({checks:[{type:xe.FILTER,value:e}]}):_e(e)?this.parse(e)||(this.invalid=!0):et("A selector must be created from a string; found "))},un=ln.prototype;[PB,MB].forEach(function(t){return Be(un,t)});un.text=function(){return this.inputText};un.size=function(){return this.length};un.eq=function(t){return this[t]};un.sameText=function(t){return!this.invalid&&!t.invalid&&this.text()===t.text()};un.addQuery=function(t){this[this.length++]=t};un.selector=un.toString;var tn={allAre:function(e){var r=new ln(e);return this.every(function(n){return r.matches(n)})},is:function(e){var r=new ln(e);return this.some(function(n){return r.matches(n)})},some:function(e,r){for(var n=0;n<this.length;n++){var a=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(a)return!0}return!1},every:function(e,r){for(var n=0;n<this.length;n++){var a=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(!a)return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var r=this.length,n=e.length;return r!==n?!1:r===1?this[0]===e[0]:this.every(function(a){return e.hasElementWithId(a.id())})},anySame:function(e){return e=this.cy().collection(e),this.some(function(r){return e.hasElementWithId(r.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var r=this.neighborhood();return e.every(function(n){return r.hasElementWithId(n.id())})},contains:function(e){e=this.cy().collection(e);var r=this;return e.every(function(n){return r.hasElementWithId(n.id())})}};tn.allAreNeighbours=tn.allAreNeighbors;tn.has=tn.contains;tn.equal=tn.equals=tn.same;var nr=function(e,r){return function(a,i,s,o){var u=a,l=this,c;if(u==null?c="":Yt(u)&&u.length===1&&(c=u.id()),l.length===1&&c){var f=l[0]._private,d=f.traversalCache=f.traversalCache||{},h=d[r]=d[r]||[],v=On(c),y=h[v];return y||(h[v]=e.call(l,a,i,s,o))}else return e.call(l,a,i,s,o)}},ka={parent:function(e){var r=[];if(this.length===1){var n=this[0]._private.parent;if(n)return n}for(var a=0;a<this.length;a++){var i=this[a],s=i._private.parent;s&&r.push(s)}return this.spawn(r,!0).filter(e)},parents:function(e){for(var r=[],n=this.parent();n.nonempty();){for(var a=0;a<n.length;a++){var i=n[a];r.push(i)}n=n.parent()}return this.spawn(r,!0).filter(e)},commonAncestors:function(e){for(var r,n=0;n<this.length;n++){var a=this[n],i=a.parents();r=r||i,r=r.intersect(i)}return r.filter(e)},orphans:function(e){return this.stdFilter(function(r){return r.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(r){return r.isChild()}).filter(e)},children:nr(function(t){for(var e=[],r=0;r<this.length;r++)for(var n=this[r],a=n._private.children,i=0;i<a.length;i++)e.push(a[i]);return this.spawn(e,!0).filter(t)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},isChildless:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},isChild:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},descendants:function(e){var r=[];function n(a){for(var i=0;i<a.length;i++){var s=a[i];r.push(s),s.children().nonempty()&&n(s.children())}}return n(this.children()),this.spawn(r,!0).filter(e)}};function Tc(t,e,r,n){for(var a=[],i=new Pa,s=t.cy(),o=s.hasCompoundNodes(),u=0;u<t.length;u++){var l=t[u];r?a.push(l):o&&n(a,i,l)}for(;a.length>0;){var c=a.shift();e(c),i.add(c.id()),o&&n(a,i,c)}return t}function Mp(t,e,r){if(r.isParent())for(var n=r._private.children,a=0;a<n.length;a++){var i=n[a];e.has(i.id())||t.push(i)}}ka.forEachDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Tc(this,t,e,Mp)};function $p(t,e,r){if(r.isChild()){var n=r._private.parent;e.has(n.id())||t.push(n)}}ka.forEachUp=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Tc(this,t,e,$p)};function $B(t,e,r){$p(t,e,r),Mp(t,e,r)}ka.forEachUpAndDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Tc(this,t,e,$B)};ka.ancestors=ka.parents;var Pi,Np;Pi=Np={data:$e.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:$e.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:$e.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:$e.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:$e.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:$e.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}};Pi.attr=Pi.data;Pi.removeAttr=Pi.removeData;var NB=Np,To={};function jl(t){return function(e){var r=this;if(e===void 0&&(e=!0),r.length!==0)if(r.isNode()&&!r.removed()){for(var n=0,a=r[0],i=a._private.edges,s=0;s<i.length;s++){var o=i[s];!e&&o.isLoop()||(n+=t(a,o))}return n}else return}}Be(To,{degree:jl(function(t,e){return e.source().same(e.target())?2:1}),indegree:jl(function(t,e){return e.target().same(t)?1:0}),outdegree:jl(function(t,e){return e.source().same(t)?1:0})});function ta(t,e){return function(r){for(var n,a=this.nodes(),i=0;i<a.length;i++){var s=a[i],o=s[t](r);o!==void 0&&(n===void 0||e(o,n))&&(n=o)}return n}}Be(To,{minDegree:ta("degree",function(t,e){return t<e}),maxDegree:ta("degree",function(t,e){return t>e}),minIndegree:ta("indegree",function(t,e){return t<e}),maxIndegree:ta("indegree",function(t,e){return t>e}),minOutdegree:ta("outdegree",function(t,e){return t<e}),maxOutdegree:ta("outdegree",function(t,e){return t>e})});Be(To,{totalDegree:function(e){for(var r=0,n=this.nodes(),a=0;a<n.length;a++)r+=n[a].degree(e);return r}});var pr,zp,Hp=function(e,r,n){for(var a=0;a<e.length;a++){var i=e[a];if(!i.locked()){var s=i._private.position,o={x:r.x!=null?r.x-s.x:0,y:r.y!=null?r.y-s.y:0};i.isParent()&&!(o.x===0&&o.y===0)&&i.children().shift(o,n),i.dirtyBoundingBoxCache()}}},hd={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,r){Hp(e,r,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};pr=zp={position:$e.data(hd),silentPosition:$e.data(Be({},hd,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,r){Hp(e,r,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,r){if(Oe(e))r?this.silentPosition(e):this.position(e);else if(Je(e)){var n=e,a=this.cy();a.startBatch();for(var i=0;i<this.length;i++){var s=this[i],o=void 0;(o=n(s,i))&&(r?s.silentPosition(o):s.position(o))}a.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,r,n){var a;if(Oe(e)?(a={x:ge(e.x)?e.x:0,y:ge(e.y)?e.y:0},n=r):_e(e)&&ge(r)&&(a={x:0,y:0},a[e]=r),a!=null){var i=this.cy();i.startBatch();for(var s=0;s<this.length;s++){var o=this[s];if(!(i.hasCompoundNodes()&&o.isChild()&&o.ancestors().anySame(this))){var u=o.position(),l={x:u.x+a.x,y:u.y+a.y};n?o.silentPosition(l):o.position(l)}}i.endBatch()}return this},silentShift:function(e,r){return Oe(e)?this.shift(e,!0):_e(e)&&ge(r)&&this.shift(e,r,!0),this},renderedPosition:function(e,r){var n=this[0],a=this.cy(),i=a.zoom(),s=a.pan(),o=Oe(e)?e:void 0,u=o!==void 0||r!==void 0&&_e(e);if(n&&n.isNode())if(u)for(var l=0;l<this.length;l++){var c=this[l];r!==void 0?c.position(e,(r-s[e])/i):o!==void 0&&c.position(hp(o,i,s))}else{var f=n.position();return o=Bo(f,i,s),e===void 0?o:o[e]}else if(!u)return;return this},relativePosition:function(e,r){var n=this[0],a=this.cy(),i=Oe(e)?e:void 0,s=i!==void 0||r!==void 0&&_e(e),o=a.hasCompoundNodes();if(n&&n.isNode())if(s)for(var u=0;u<this.length;u++){var l=this[u],c=o?l.parent():null,f=c&&c.length>0,d=f;f&&(c=c[0]);var h=d?c.position():{x:0,y:0};r!==void 0?l.position(e,r+h[e]):i!==void 0&&l.position({x:i.x+h.x,y:i.y+h.y})}else{var v=n.position(),y=o?n.parent():null,p=y&&y.length>0,m=p;p&&(y=y[0]);var g=m?y.position():{x:0,y:0};return i={x:v.x-g.x,y:v.y-g.y},e===void 0?i:i[e]}else if(!s)return;return this}};pr.modelPosition=pr.point=pr.position;pr.modelPositions=pr.points=pr.positions;pr.renderedPoint=pr.renderedPosition;pr.relativePoint=pr.relativePosition;var zB=zp,xa,pn;xa=pn={};pn.renderedBoundingBox=function(t){var e=this.boundingBox(t),r=this.cy(),n=r.zoom(),a=r.pan(),i=e.x1*n+a.x,s=e.x2*n+a.x,o=e.y1*n+a.y,u=e.y2*n+a.y;return{x1:i,x2:s,y1:o,y2:u,w:s-i,h:u-o}};pn.dirtyCompoundBoundsCache=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();return!e.styleEnabled()||!e.hasCompoundNodes()?this:(this.forEachUp(function(r){if(r.isParent()){var n=r._private;n.compoundBoundsClean=!1,n.bbCache=null,t||r.emitAndNotify("bounds")}}),this)};pn.updateCompoundBounds=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!t&&e.batching())return this;function r(s){if(!s.isParent())return;var o=s._private,u=s.children(),l=s.pstyle("compound-sizing-wrt-labels").value==="include",c={width:{val:s.pstyle("min-width").pfValue,left:s.pstyle("min-width-bias-left"),right:s.pstyle("min-width-bias-right")},height:{val:s.pstyle("min-height").pfValue,top:s.pstyle("min-height-bias-top"),bottom:s.pstyle("min-height-bias-bottom")}},f=u.boundingBox({includeLabels:l,includeOverlays:!1,useCache:!1}),d=o.position;(f.w===0||f.h===0)&&(f={w:s.pstyle("width").pfValue,h:s.pstyle("height").pfValue},f.x1=d.x-f.w/2,f.x2=d.x+f.w/2,f.y1=d.y-f.h/2,f.y2=d.y+f.h/2);function h(D,_,A){var S=0,P=0,T=_+A;return D>0&&T>0&&(S=_/T*D,P=A/T*D),{biasDiff:S,biasComplementDiff:P}}function v(D,_,A,S){if(A.units==="%")switch(S){case"width":return D>0?A.pfValue*D:0;case"height":return _>0?A.pfValue*_:0;case"average":return D>0&&_>0?A.pfValue*(D+_)/2:0;case"min":return D>0&&_>0?D>_?A.pfValue*_:A.pfValue*D:0;case"max":return D>0&&_>0?D>_?A.pfValue*D:A.pfValue*_:0;default:return 0}else return A.units==="px"?A.pfValue:0}var y=c.width.left.value;c.width.left.units==="px"&&c.width.val>0&&(y=y*100/c.width.val);var p=c.width.right.value;c.width.right.units==="px"&&c.width.val>0&&(p=p*100/c.width.val);var m=c.height.top.value;c.height.top.units==="px"&&c.height.val>0&&(m=m*100/c.height.val);var g=c.height.bottom.value;c.height.bottom.units==="px"&&c.height.val>0&&(g=g*100/c.height.val);var x=h(c.width.val-f.w,y,p),b=x.biasDiff,C=x.biasComplementDiff,E=h(c.height.val-f.h,m,g),w=E.biasDiff,B=E.biasComplementDiff;o.autoPadding=v(f.w,f.h,s.pstyle("padding"),s.pstyle("padding-relative-to").value),o.autoWidth=Math.max(f.w,c.width.val),d.x=(-b+f.x1+f.x2+C)/2,o.autoHeight=Math.max(f.h,c.height.val),d.y=(-w+f.y1+f.y2+B)/2}for(var n=0;n<this.length;n++){var a=this[n],i=a._private;(!i.compoundBoundsClean||t)&&(r(a),e.batching()||(i.compoundBoundsClean=!0))}return this};var er=function(e){return e===1/0||e===-1/0?0:e},fr=function(e,r,n,a,i){a-r===0||i-n===0||r==null||n==null||a==null||i==null||(e.x1=r<e.x1?r:e.x1,e.x2=a>e.x2?a:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=i>e.y2?i:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},_n=function(e,r){return r==null?e:fr(e,r.x1,r.y1,r.x2,r.y2)},Xa=function(e,r,n){return dr(e,r,n)},cs=function(e,r,n){if(!r.cy().headless()){var a=r._private,i=a.rstyle,s=i.arrowWidth/2,o=r.pstyle(n+"-arrow-shape").value,u,l;if(o!=="none"){n==="source"?(u=i.srcX,l=i.srcY):n==="target"?(u=i.tgtX,l=i.tgtY):(u=i.midX,l=i.midY);var c=a.arrowBounds=a.arrowBounds||{},f=c[n]=c[n]||{};f.x1=u-s,f.y1=l-s,f.x2=u+s,f.y2=l+s,f.w=f.x2-f.x1,f.h=f.y2-f.y1,Cs(f,1),fr(e,f.x1,f.y1,f.x2,f.y2)}}},Wl=function(e,r,n){if(!r.cy().headless()){var a;n?a=n+"-":a="";var i=r._private,s=i.rstyle,o=r.pstyle(a+"label").strValue;if(o){var u=r.pstyle("text-halign"),l=r.pstyle("text-valign"),c=Xa(s,"labelWidth",n),f=Xa(s,"labelHeight",n),d=Xa(s,"labelX",n),h=Xa(s,"labelY",n),v=r.pstyle(a+"text-margin-x").pfValue,y=r.pstyle(a+"text-margin-y").pfValue,p=r.isEdge(),m=r.pstyle(a+"text-rotation"),g=r.pstyle("text-outline-width").pfValue,x=r.pstyle("text-border-width").pfValue,b=x/2,C=r.pstyle("text-background-padding").pfValue,E=2,w=f,B=c,D=B/2,_=w/2,A,S,P,T;if(p)A=d-D,S=d+D,P=h-_,T=h+_;else{switch(u.value){case"left":A=d-B,S=d;break;case"center":A=d-D,S=d+D;break;case"right":A=d,S=d+B;break}switch(l.value){case"top":P=h-w,T=h;break;case"center":P=h-_,T=h+_;break;case"bottom":P=h,T=h+w;break}}A+=v-Math.max(g,b)-C-E,S+=v+Math.max(g,b)+C+E,P+=y-Math.max(g,b)-C-E,T+=y+Math.max(g,b)+C+E;var $=n||"main",O=i.labelBounds,M=O[$]=O[$]||{};M.x1=A,M.y1=P,M.x2=S,M.y2=T,M.w=S-A,M.h=T-P;var z=p&&m.strValue==="autorotate",G=m.pfValue!=null&&m.pfValue!==0;if(z||G){var X=z?Xa(i.rstyle,"labelAngle",n):m.pfValue,I=Math.cos(X),L=Math.sin(X),U=(A+S)/2,j=(P+T)/2;if(!p){switch(u.value){case"left":U=S;break;case"right":U=A;break}switch(l.value){case"top":j=T;break;case"bottom":j=P;break}}var oe=function(R,F){return R=R-U,F=F-j,{x:R*I-F*L+U,y:R*L+F*I+j}},se=oe(A,P),V=oe(A,T),H=oe(S,P),N=oe(S,T);A=Math.min(se.x,V.x,H.x,N.x),S=Math.max(se.x,V.x,H.x,N.x),P=Math.min(se.y,V.y,H.y,N.y),T=Math.max(se.y,V.y,H.y,N.y)}var K=$+"Rot",ne=O[K]=O[K]||{};ne.x1=A,ne.y1=P,ne.x2=S,ne.y2=T,ne.w=S-A,ne.h=T-P,fr(e,A,P,S,T),fr(i.labelBounds.all,A,P,S,T)}return e}},HB=function(e,r){if(!r.cy().headless()){var n=r.pstyle("outline-opacity").value,a=r.pstyle("outline-width").value;if(n>0&&a>0){var i=r.pstyle("outline-offset").value,s=r.pstyle("shape").value,o=a+i,u=(e.w+o*2)/e.w,l=(e.h+o*2)/e.h,c=0,f=0;["diamond","pentagon","round-triangle"].includes(s)?(u=(e.w+o*2.4)/e.w,f=-o/3.6):["concave-hexagon","rhomboid","right-rhomboid"].includes(s)?u=(e.w+o*2.4)/e.w:s==="star"?(u=(e.w+o*2.8)/e.w,l=(e.h+o*2.6)/e.h,f=-o/3.8):s==="triangle"?(u=(e.w+o*2.8)/e.w,l=(e.h+o*2.4)/e.h,f=-o/1.4):s==="vee"&&(u=(e.w+o*4.4)/e.w,l=(e.h+o*3.8)/e.h,f=-o*.5);var d=e.h*l-e.h,h=e.w*u-e.w;if(_s(e,[Math.ceil(d/2),Math.ceil(h/2)]),c!=0||f!==0){var v=lC(e,c,f);pp(e,v)}}}},qB=function(e,r){var n=e._private.cy,a=n.styleEnabled(),i=n.headless(),s=jt(),o=e._private,u=e.isNode(),l=e.isEdge(),c,f,d,h,v,y,p=o.rstyle,m=u&&a?e.pstyle("bounds-expansion").pfValue:[0],g=function(Z){return Z.pstyle("display").value!=="none"},x=!a||g(e)&&(!l||g(e.source())&&g(e.target()));if(x){var b=0,C=0;a&&r.includeOverlays&&(b=e.pstyle("overlay-opacity").value,b!==0&&(C=e.pstyle("overlay-padding").value));var E=0,w=0;a&&r.includeUnderlays&&(E=e.pstyle("underlay-opacity").value,E!==0&&(w=e.pstyle("underlay-padding").value));var B=Math.max(C,w),D=0,_=0;if(a&&(D=e.pstyle("width").pfValue,_=D/2),u&&r.includeNodes){var A=e.position();v=A.x,y=A.y;var S=e.outerWidth(),P=S/2,T=e.outerHeight(),$=T/2;c=v-P,f=v+P,d=y-$,h=y+$,fr(s,c,d,f,h),a&&r.includeOutlines&&HB(s,e)}else if(l&&r.includeEdges)if(a&&!i){var O=e.pstyle("curve-style").strValue;if(c=Math.min(p.srcX,p.midX,p.tgtX),f=Math.max(p.srcX,p.midX,p.tgtX),d=Math.min(p.srcY,p.midY,p.tgtY),h=Math.max(p.srcY,p.midY,p.tgtY),c-=_,f+=_,d-=_,h+=_,fr(s,c,d,f,h),O==="haystack"){var M=p.haystackPts;if(M&&M.length===2){if(c=M[0].x,d=M[0].y,f=M[1].x,h=M[1].y,c>f){var z=c;c=f,f=z}if(d>h){var G=d;d=h,h=G}fr(s,c-_,d-_,f+_,h+_)}}else if(O==="bezier"||O==="unbundled-bezier"||O.endsWith("segments")||O.endsWith("taxi")){var X;switch(O){case"bezier":case"unbundled-bezier":X=p.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":X=p.linePts;break}if(X!=null)for(var I=0;I<X.length;I++){var L=X[I];c=L.x-_,f=L.x+_,d=L.y-_,h=L.y+_,fr(s,c,d,f,h)}}}else{var U=e.source(),j=U.position(),oe=e.target(),se=oe.position();if(c=j.x,f=se.x,d=j.y,h=se.y,c>f){var V=c;c=f,f=V}if(d>h){var H=d;d=h,h=H}c-=_,f+=_,d-=_,h+=_,fr(s,c,d,f,h)}if(a&&r.includeEdges&&l&&(cs(s,e,"mid-source"),cs(s,e,"mid-target"),cs(s,e,"source"),cs(s,e,"target")),a){var N=e.pstyle("ghost").value==="yes";if(N){var K=e.pstyle("ghost-offset-x").pfValue,ne=e.pstyle("ghost-offset-y").pfValue;fr(s,s.x1+K,s.y1+ne,s.x2+K,s.y2+ne)}}var he=o.bodyBounds=o.bodyBounds||{};W0(he,s),_s(he,m),Cs(he,1),a&&(c=s.x1,f=s.x2,d=s.y1,h=s.y2,fr(s,c-B,d-B,f+B,h+B));var R=o.overlayBounds=o.overlayBounds||{};W0(R,s),_s(R,m),Cs(R,1);var F=o.labelBounds=o.labelBounds||{};F.all!=null?oC(F.all):F.all=jt(),a&&r.includeLabels&&(r.includeMainLabels&&Wl(s,e,null),l&&(r.includeSourceLabels&&Wl(s,e,"source"),r.includeTargetLabels&&Wl(s,e,"target")))}return s.x1=er(s.x1),s.y1=er(s.y1),s.x2=er(s.x2),s.y2=er(s.y2),s.w=er(s.x2-s.x1),s.h=er(s.y2-s.y1),s.w>0&&s.h>0&&x&&(_s(s,m),Cs(s,1)),s},qp=function(e){var r=0,n=function(s){return(s?1:0)<<r++},a=0;return a+=n(e.incudeNodes),a+=n(e.includeEdges),a+=n(e.includeLabels),a+=n(e.includeMainLabels),a+=n(e.includeSourceLabels),a+=n(e.includeTargetLabels),a+=n(e.includeOverlays),a+=n(e.includeOutlines),a},Vp=function(e){if(e.isEdge()){var r=e.source().position(),n=e.target().position(),a=function(s){return Math.round(s)};return SE([a(r.x),a(r.y),a(n.x),a(n.y)])}else return 0},vd=function(e,r){var n=e._private,a,i=e.isEdge(),s=r==null?pd:qp(r),o=s===pd,u=Vp(e),l=n.bbCachePosKey===u,c=r.useCache&&l,f=function(y){return y._private.bbCache==null||y._private.styleDirty},d=!c||f(e)||i&&f(e.source())||f(e.target());if(d?(l||e.recalculateRenderedStyle(c),a=qB(e,Fi),n.bbCache=a,n.bbCachePosKey=u):a=n.bbCache,!o){var h=e.isNode();a=jt(),(r.includeNodes&&h||r.includeEdges&&!h)&&(r.includeOverlays?_n(a,n.overlayBounds):_n(a,n.bodyBounds)),r.includeLabels&&(r.includeMainLabels&&(!i||r.includeSourceLabels&&r.includeTargetLabels)?_n(a,n.labelBounds.all):(r.includeMainLabels&&_n(a,n.labelBounds.mainRot),r.includeSourceLabels&&_n(a,n.labelBounds.sourceRot),r.includeTargetLabels&&_n(a,n.labelBounds.targetRot))),a.w=a.x2-a.x1,a.h=a.y2-a.y1}return a},Fi={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},pd=qp(Fi),gd=_t(Fi);pn.boundingBox=function(t){var e;if(this.length===1&&this[0]._private.bbCache!=null&&!this[0]._private.styleDirty&&(t===void 0||t.useCache===void 0||t.useCache===!0))t===void 0?t=Fi:t=gd(t),e=vd(this[0],t);else{e=jt(),t=t||Fi;var r=gd(t),n=this,a=n.cy(),i=a.styleEnabled();if(i)for(var s=0;s<n.length;s++){var o=n[s],u=o._private,l=Vp(o),c=u.bbCachePosKey===l,f=r.useCache&&c&&!u.styleDirty;o.recalculateRenderedStyle(f)}this.updateCompoundBounds(!t.useCache);for(var d=0;d<n.length;d++){var h=n[d];_n(e,vd(h,r))}}return e.x1=er(e.x1),e.y1=er(e.y1),e.x2=er(e.x2),e.y2=er(e.y2),e.w=er(e.x2-e.x1),e.h=er(e.y2-e.y1),e};pn.dirtyBoundingBoxCache=function(){for(var t=0;t<this.length;t++){var e=this[t]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};pn.boundingBoxAt=function(t){var e=this.nodes(),r=this.cy(),n=r.hasCompoundNodes(),a=r.collection();if(n&&(a=e.filter(function(l){return l.isParent()}),e=e.not(a)),Oe(t)){var i=t;t=function(){return i}}var s=function(c,f){return c._private.bbAtOldPos=t(c,f)},o=function(c){return c._private.bbAtOldPos};r.startBatch(),e.forEach(s).silentPositions(t),n&&(a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),a.updateCompoundBounds(!0));var u=sC(this.boundingBox({useCache:!1}));return e.silentPositions(o),n&&(a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),a.updateCompoundBounds(!0)),r.endBatch(),u};xa.boundingbox=xa.bb=xa.boundingBox;xa.renderedBoundingbox=xa.renderedBoundingBox;var VB=pn,ai,Vi;ai=Vi={};var Up=function(e){e.uppercaseName=N0(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=N0(e.outerName),ai[e.name]=function(){var n=this[0],a=n._private,i=a.cy,s=i._private.styleEnabled;if(n)if(s){if(n.isParent())return n.updateCompoundBounds(),a[e.autoName]||0;var o=n.pstyle(e.name);switch(o.strValue){case"label":return n.recalculateRenderedStyle(),a.rstyle[e.labelName]||0;default:return o.pfValue}}else return 1},ai["outer"+e.uppercaseName]=function(){var n=this[0],a=n._private,i=a.cy,s=i._private.styleEnabled;if(n)if(s){var o=n[e.name](),u=n.pstyle("border-width").pfValue,l=2*n.padding();return o+u+l}else return 1},ai["rendered"+e.uppercaseName]=function(){var n=this[0];if(n){var a=n[e.name]();return a*this.cy().zoom()}},ai["rendered"+e.uppercaseOuterName]=function(){var n=this[0];if(n){var a=n[e.outerName]();return a*this.cy().zoom()}}};Up({name:"width"});Up({name:"height"});Vi.padding=function(){var t=this[0],e=t._private;return t.isParent()?(t.updateCompoundBounds(),e.autoPadding!==void 0?e.autoPadding:t.pstyle("padding").pfValue):t.pstyle("padding").pfValue};Vi.paddedHeight=function(){var t=this[0];return t.height()+2*t.padding()};Vi.paddedWidth=function(){var t=this[0];return t.width()+2*t.padding()};var UB=Vi,jB=function(e,r){if(e.isEdge())return r(e)},WB=function(e,r){if(e.isEdge()){var n=e.cy();return Bo(r(e),n.zoom(),n.pan())}},KB=function(e,r){if(e.isEdge()){var n=e.cy(),a=n.pan(),i=n.zoom();return r(e).map(function(s){return Bo(s,i,a)})}},GB=function(e){return e.renderer().getControlPoints(e)},YB=function(e){return e.renderer().getSegmentPoints(e)},XB=function(e){return e.renderer().getSourceEndpoint(e)},ZB=function(e){return e.renderer().getTargetEndpoint(e)},QB=function(e){return e.renderer().getEdgeMidpoint(e)},md={controlPoints:{get:GB,mult:!0},segmentPoints:{get:YB,mult:!0},sourceEndpoint:{get:XB},targetEndpoint:{get:ZB},midpoint:{get:QB}},JB=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},eA=Object.keys(md).reduce(function(t,e){var r=md[e],n=JB(e);return t[e]=function(){return jB(this,r.get)},r.mult?t[n]=function(){return KB(this,r.get)}:t[n]=function(){return WB(this,r.get)},t},{}),tA=Be({},zB,VB,UB,eA);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/var jp=function(e,r){this.recycle(e,r)};function Za(){return!1}function fs(){return!0}jp.prototype={instanceString:function(){return"event"},recycle:function(e,r){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Za,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?fs:Za):e!=null&&e.type?r=e:this.type=e,r!=null&&(this.originalEvent=r.originalEvent,this.type=r.type!=null?r.type:this.type,this.cy=r.cy,this.target=r.target,this.position=r.position,this.renderedPosition=r.renderedPosition,this.namespace=r.namespace,this.layout=r.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var n=this.position,a=this.cy.zoom(),i=this.cy.pan();this.renderedPosition={x:n.x*a+i.x,y:n.y*a+i.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=fs;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=fs;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=fs,this.stopPropagation()},isDefaultPrevented:Za,isPropagationStopped:Za,isImmediatePropagationStopped:Za};var Wp=/^([^.]+)(\.(?:[^.]+))?$/,rA=".*",Kp={qualifierCompare:function(e,r){return e===r},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},yd=Object.keys(Kp),nA={};function Po(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:nA,e=arguments.length>1?arguments[1]:void 0,r=0;r<yd.length;r++){var n=yd[r];this[n]=t[n]||Kp[n]}this.context=e||this.context,this.listeners=[],this.emitting=0}var cn=Po.prototype,Gp=function(e,r,n,a,i,s,o){Je(a)&&(i=a,a=null),o&&(s==null?s=o:s=Be({},s,o));for(var u=Ue(n)?n:n.split(/\s+/),l=0;l<u.length;l++){var c=u[l];if(!sn(c)){var f=c.match(Wp);if(f){var d=f[1],h=f[2]?f[2]:null,v=r(e,c,d,h,a,i,s);if(v===!1)break}}}},xd=function(e,r){return e.addEventFields(e.context,r),new jp(r.type,r)},aA=function(e,r,n){if(_2(n)){r(e,n);return}else if(Oe(n)){r(e,xd(e,n));return}for(var a=Ue(n)?n:n.split(/\s+/),i=0;i<a.length;i++){var s=a[i];if(!sn(s)){var o=s.match(Wp);if(o){var u=o[1],l=o[2]?o[2]:null,c=xd(e,{type:u,namespace:l,target:e.context});r(e,c)}}}};cn.on=cn.addListener=function(t,e,r,n,a){return Gp(this,function(i,s,o,u,l,c,f){Je(c)&&i.listeners.push({event:s,callback:c,type:o,namespace:u,qualifier:l,conf:f})},t,e,r,n,a),this};cn.one=function(t,e,r,n){return this.on(t,e,r,n,{one:!0})};cn.removeListener=cn.off=function(t,e,r,n){var a=this;this.emitting!==0&&(this.listeners=RE(this.listeners));for(var i=this.listeners,s=function(l){var c=i[l];Gp(a,function(f,d,h,v,y,p){if((c.type===h||t==="*")&&(!v&&c.namespace!==".*"||c.namespace===v)&&(!y||f.qualifierCompare(c.qualifier,y))&&(!p||c.callback===p))return i.splice(l,1),!1},t,e,r,n)},o=i.length-1;o>=0;o--)s(o);return this};cn.removeAllListeners=function(){return this.removeListener("*")};cn.emit=cn.trigger=function(t,e,r){var n=this.listeners,a=n.length;return this.emitting++,Ue(e)||(e=[e]),aA(this,function(i,s){r!=null&&(n=[{event:s.event,type:s.type,namespace:s.namespace,callback:r}],a=n.length);for(var o=function(c){var f=n[c];if(f.type===s.type&&(!f.namespace||f.namespace===s.namespace||f.namespace===rA)&&i.eventMatches(i.context,f,s)){var d=[s];e!=null&&IE(d,e),i.beforeEmit(i.context,f,s),f.conf&&f.conf.one&&(i.listeners=i.listeners.filter(function(y){return y!==f}));var h=i.callbackContext(i.context,f,s),v=f.callback.apply(h,d);i.afterEmit(i.context,f,s),v===!1&&(s.stopPropagation(),s.preventDefault())}},u=0;u<a;u++)o(u);i.bubble(i.context)&&!s.isPropagationStopped()&&i.parent(i.context).emit(s,e)},t),this.emitting--,this};var iA={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var a=r.qualifier;return a!=null?e!==n.target&&zi(n.target)&&a.matches(n.target):!0},addEventFields:function(e,r){r.cy=e.cy(),r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e},beforeEmit:function(e,r){r.conf&&r.conf.once&&r.conf.onceCollection.removeListener(r.event,r.qualifier,r.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},ds=function(e){return _e(e)?new ln(e):e},Yp={createEmitter:function(){for(var e=0;e<this.length;e++){var r=this[e],n=r._private;n.emitter||(n.emitter=new Po(iA,r))}return this},emitter:function(){return this._private.emitter},on:function(e,r,n){for(var a=ds(r),i=0;i<this.length;i++){var s=this[i];s.emitter().on(e,a,n)}return this},removeListener:function(e,r,n){for(var a=ds(r),i=0;i<this.length;i++){var s=this[i];s.emitter().removeListener(e,a,n)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){var r=this[e];r.emitter().removeAllListeners()}return this},one:function(e,r,n){for(var a=ds(r),i=0;i<this.length;i++){var s=this[i];s.emitter().one(e,a,n)}return this},once:function(e,r,n){for(var a=ds(r),i=0;i<this.length;i++){var s=this[i];s.emitter().on(e,a,n,{once:!0,onceCollection:this})}},emit:function(e,r){for(var n=0;n<this.length;n++){var a=this[n];a.emitter().emit(e,r)}return this},emitAndNotify:function(e,r){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,r),this}};$e.eventAliasesOn(Yp);var Xp={nodes:function(e){return this.filter(function(r){return r.isNode()}).filter(e)},edges:function(e){return this.filter(function(r){return r.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),r=this.spawn(),n=0;n<this.length;n++){var a=this[n];a.isNode()?e.push(a):r.push(a)}return{nodes:e,edges:r}},filter:function(e,r){if(e===void 0)return this;if(_e(e)||Yt(e))return new ln(e).filter(this);if(Je(e)){for(var n=this.spawn(),a=this,i=0;i<a.length;i++){var s=a[i],o=r?e.apply(r,[s,i,a]):e(s,i,a);o&&n.push(s)}return n}return this.spawn()},not:function(e){if(e){_e(e)&&(e=this.filter(e));for(var r=this.spawn(),n=0;n<this.length;n++){var a=this[n],i=e.has(a);i||r.push(a)}return r}else return this},absoluteComplement:function(){var e=this.cy();return e.mutableElements().not(this)},intersect:function(e){if(_e(e)){var r=e;return this.filter(r)}for(var n=this.spawn(),a=this,i=e,s=this.length<e.length,o=s?a:i,u=s?i:a,l=0;l<o.length;l++){var c=o[l];u.has(c)&&n.push(c)}return n},xor:function(e){var r=this._private.cy;_e(e)&&(e=r.$(e));var n=this.spawn(),a=this,i=e,s=function(u,l){for(var c=0;c<u.length;c++){var f=u[c],d=f._private.data.id,h=l.hasElementWithId(d);h||n.push(f)}};return s(a,i),s(i,a),n},diff:function(e){var r=this._private.cy;_e(e)&&(e=r.$(e));var n=this.spawn(),a=this.spawn(),i=this.spawn(),s=this,o=e,u=function(c,f,d){for(var h=0;h<c.length;h++){var v=c[h],y=v._private.data.id,p=f.hasElementWithId(y);p?i.merge(v):d.push(v)}};return u(s,o,n),u(o,s,a),{left:n,right:a,both:i}},add:function(e){var r=this._private.cy;if(!e)return this;if(_e(e)){var n=e;e=r.mutableElements().filter(n)}for(var a=this.spawnSelf(),i=0;i<e.length;i++){var s=e[i],o=!this.has(s);o&&a.push(s)}return a},merge:function(e){var r=this._private,n=r.cy;if(!e)return this;if(e&&_e(e)){var a=e;e=n.mutableElements().filter(a)}for(var i=r.map,s=0;s<e.length;s++){var o=e[s],u=o._private.data.id,l=!i.has(u);if(l){var c=this.length++;this[c]=o,i.set(u,{ele:o,index:c})}}return this},unmergeAt:function(e){var r=this[e],n=r.id(),a=this._private,i=a.map;this[e]=void 0,i.delete(n);var s=e===this.length-1;if(this.length>1&&!s){var o=this.length-1,u=this[o],l=u._private.data.id;this[o]=void 0,this[e]=u,i.set(l,{ele:u,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var r=this._private,n=e._private.data.id,a=r.map,i=a.get(n);if(!i)return this;var s=i.index;return this.unmergeAt(s),this},unmerge:function(e){var r=this._private.cy;if(!e)return this;if(e&&_e(e)){var n=e;e=r.mutableElements().filter(n)}for(var a=0;a<e.length;a++)this.unmergeOne(e[a]);return this},unmergeBy:function(e){for(var r=this.length-1;r>=0;r--){var n=this[r];e(n)&&this.unmergeAt(r)}return this},map:function(e,r){for(var n=[],a=this,i=0;i<a.length;i++){var s=a[i],o=r?e.apply(r,[s,i,a]):e(s,i,a);n.push(o)}return n},reduce:function(e,r){for(var n=r,a=this,i=0;i<a.length;i++)n=e(n,a[i],i,a);return n},max:function(e,r){for(var n=-1/0,a,i=this,s=0;s<i.length;s++){var o=i[s],u=r?e.apply(r,[o,s,i]):e(o,s,i);u>n&&(n=u,a=o)}return{value:n,ele:a}},min:function(e,r){for(var n=1/0,a,i=this,s=0;s<i.length;s++){var o=i[s],u=r?e.apply(r,[o,s,i]):e(o,s,i);u<n&&(n=u,a=o)}return{value:n,ele:a}}},Le=Xp;Le.u=Le["|"]=Le["+"]=Le.union=Le.or=Le.add;Le["\\"]=Le["!"]=Le["-"]=Le.difference=Le.relativeComplement=Le.subtract=Le.not;Le.n=Le["&"]=Le["."]=Le.and=Le.intersection=Le.intersect;Le["^"]=Le["(+)"]=Le["(-)"]=Le.symmetricDifference=Le.symdiff=Le.xor;Le.fnFilter=Le.filterFn=Le.stdFilter=Le.filter;Le.complement=Le.abscomp=Le.absoluteComplement;var sA={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},Zp=function(e,r){var n=e.cy(),a=n.hasCompoundNodes();function i(c){var f=c.pstyle("z-compound-depth");return f.value==="auto"?a?c.zDepth():0:f.value==="bottom"?-1:f.value==="top"?xc:0}var s=i(e)-i(r);if(s!==0)return s;function o(c){var f=c.pstyle("z-index-compare");return f.value==="auto"&&c.isNode()?1:0}var u=o(e)-o(r);if(u!==0)return u;var l=e.pstyle("z-index").value-r.pstyle("z-index").value;return l!==0?l:e.poolIndex()-r.poolIndex()},js={forEach:function(e,r){if(Je(e))for(var n=this.length,a=0;a<n;a++){var i=this[a],s=r?e.apply(r,[i,a,this]):e(i,a,this);if(s===!1)break}return this},toArray:function(){for(var e=[],r=0;r<this.length;r++)e.push(this[r]);return e},slice:function(e,r){var n=[],a=this.length;r==null&&(r=a),e==null&&(e=0),e<0&&(e=a+e),r<0&&(r=a+r);for(var i=e;i>=0&&i<r&&i<a;i++)n.push(this[i]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(e){if(!Je(e))return this;var r=this.toArray().sort(e);return this.spawn(r)},sortByZIndex:function(){return this.sort(Zp)},zDepth:function(){var e=this[0];if(e){var r=e._private,n=r.group;if(n==="nodes"){var a=r.data.parent?e.parents().size():0;return e.isParent()?a:xc-1}else{var i=r.source,s=r.target,o=i.zDepth(),u=s.zDepth();return Math.max(o,u,0)}}}};js.each=js.forEach;var oA=function(){var e="undefined",r=(typeof Symbol>"u"?"undefined":ct(Symbol))!=e&&ct(Symbol.iterator)!=e;r&&(js[Symbol.iterator]=function(){var n=this,a={value:void 0,done:!1},i=0,s=this.length;return Kv({next:function(){return i<s?a.value=n[i++]:(a.value=void 0,a.done=!0),a}},Symbol.iterator,function(){return this})})};oA();var lA=_t({nodeDimensionsIncludeLabels:!1}),As={layoutDimensions:function(e){e=lA(e);var r;if(!this.takesUpSpace())r={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var n=this.boundingBox();r={w:n.w,h:n.h}}else r={w:this.outerWidth(),h:this.outerHeight()};return(r.w===0||r.h===0)&&(r.w=r.h=1),r},layoutPositions:function(e,r,n){var a=this.nodes().filter(function(C){return!C.isParent()}),i=this.cy(),s=r.eles,o=function(E){return E.id()},u=_i(n,o);e.emit({type:"layoutstart",layout:e}),e.animations=[];var l=function(E,w,B){var D={x:w.x1+w.w/2,y:w.y1+w.h/2},_={x:(B.x-D.x)*E,y:(B.y-D.y)*E};return{x:D.x+_.x,y:D.y+_.y}},c=r.spacingFactor&&r.spacingFactor!==1,f=function(){if(!c)return null;for(var E=jt(),w=0;w<a.length;w++){var B=a[w],D=u(B,w);uC(E,D.x,D.y)}return E},d=f(),h=_i(function(C,E){var w=u(C,E);if(c){var B=Math.abs(r.spacingFactor);w=l(B,d,w)}return r.transform!=null&&(w=r.transform(C,w)),w},o);if(r.animate){for(var v=0;v<a.length;v++){var y=a[v],p=h(y,v),m=r.animateFilter==null||r.animateFilter(y,v);if(m){var g=y.animation({position:p,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(g)}else y.position(p)}if(r.fit){var x=i.animation({fit:{boundingBox:s.boundingBoxAt(h),padding:r.padding},duration:r.animationDuration,easing:r.animationEasing});e.animations.push(x)}else if(r.zoom!==void 0&&r.pan!==void 0){var b=i.animation({zoom:r.zoom,pan:r.pan,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(b)}e.animations.forEach(function(C){return C.play()}),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),Fa.all(e.animations.map(function(C){return C.promise()})).then(function(){e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e})})}else a.positions(h),r.fit&&i.fit(r.eles,r.padding),r.zoom!=null&&i.zoom(r.zoom),r.pan&&i.pan(r.pan),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){var r=this.cy();return r.makeLayout(Be({},e,{eles:this}))}};As.createLayout=As.makeLayout=As.layout;function Qp(t,e,r){var n=r._private,a=n.styleCache=n.styleCache||[],i;return(i=a[t])!=null||(i=a[t]=e(r)),i}function Fo(t,e){return t=On(t),function(n){return Qp(t,e,n)}}function Ro(t,e){t=On(t);var r=function(a){return e.call(a)};return function(){var a=this[0];if(a)return Qp(t,r,a)}}var Et={recalculateRenderedStyle:function(e){var r=this.cy(),n=r.renderer(),a=r.styleEnabled();return n&&a&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),r=function(i){return i._private.styleCache=null};if(e.hasCompoundNodes()){var n;n=this.spawnSelf().merge(this.descendants()).merge(this.parents()),n.merge(n.connectedEdges()),n.forEach(r)}else this.forEach(function(a){r(a),a.connectedEdges().forEach(r)});return this},updateStyle:function(e){var r=this._private.cy;if(!r.styleEnabled())return this;if(r.batching()){var n=r._private.batchStyleEles;return n.merge(this),this}var a=r.hasCompoundNodes(),i=this;e=!!(e||e===void 0),a&&(i=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var s=i;return e?s.emitAndNotify("style"):s.emit("style"),i.forEach(function(o){return o._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var r=0;r<this.length;r++){var n=this[r];n._private.styleDirty&&(n._private.styleDirty=!1,e.style().apply(n))}},parsedStyle:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this[0],a=n.cy();if(a.styleEnabled()&&n){this.cleanStyle();var i=n._private.style[e];return i??(r?a.style().getDefaultProperty(e):null)}},numericStyle:function(e){var r=this[0];if(r.cy().styleEnabled()&&r){var n=r.pstyle(e);return n.pfValue!==void 0?n.pfValue:n.value}},numericStyleUnits:function(e){var r=this[0];if(r.cy().styleEnabled()&&r)return r.pstyle(e).units},renderedStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=this[0];if(n)return r.style().getRenderedStyle(n,e)},style:function(e,r){var n=this.cy();if(!n.styleEnabled())return this;var a=!1,i=n.style();if(Oe(e)){var s=e;i.applyBypass(this,s,a),this.emitAndNotify("style")}else if(_e(e))if(r===void 0){var o=this[0];return o?i.getStylePropertyValue(o,e):void 0}else i.applyBypass(this,e,r,a),this.emitAndNotify("style");else if(e===void 0){var u=this[0];return u?i.getRawStyle(u):void 0}return this},removeStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=!1,a=r.style(),i=this;if(e===void 0)for(var s=0;s<i.length;s++){var o=i[s];a.removeAllBypasses(o,n)}else{e=e.split(/\s+/);for(var u=0;u<i.length;u++){var l=i[u];a.removeBypasses(l,e,n)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var r=e.hasCompoundNodes(),n=this[0];if(n){var a=n._private,i=n.pstyle("opacity").value;if(!r)return i;var s=a.data.parent?n.parents():null;if(s)for(var o=0;o<s.length;o++){var u=s[o],l=u.pstyle("opacity").value;i=l*i}return i}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0],n=r.cy().hasCompoundNodes();if(r)return n?r.effectiveOpacity()===0:r.pstyle("opacity").value===0},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0];return!!r._private.backgrounding}};function Kl(t,e){var r=t._private,n=r.data.parent?t.parents():null;if(n)for(var a=0;a<n.length;a++){var i=n[a];if(!e(i))return!1}return!0}function Pc(t){var e=t.ok,r=t.edgeOkViaNode||t.ok,n=t.parentOk||t.ok;return function(){var a=this.cy();if(!a.styleEnabled())return!0;var i=this[0],s=a.hasCompoundNodes();if(i){var o=i._private;if(!e(i))return!1;if(i.isNode())return!s||Kl(i,n);var u=o.source,l=o.target;return r(u)&&(!s||Kl(u,r))&&(u===l||r(l)&&(!s||Kl(l,r)))}}}var La=Fo("eleTakesUpSpace",function(t){return t.pstyle("display").value==="element"&&t.width()!==0&&(t.isNode()?t.height()!==0:!0)});Et.takesUpSpace=Ro("takesUpSpace",Pc({ok:La}));var uA=Fo("eleInteractive",function(t){return t.pstyle("events").value==="yes"&&t.pstyle("visibility").value==="visible"&&La(t)}),cA=Fo("parentInteractive",function(t){return t.pstyle("visibility").value==="visible"&&La(t)});Et.interactive=Ro("interactive",Pc({ok:uA,parentOk:cA,edgeOkViaNode:La}));Et.noninteractive=function(){var t=this[0];if(t)return!t.interactive()};var fA=Fo("eleVisible",function(t){return t.pstyle("visibility").value==="visible"&&t.pstyle("opacity").pfValue!==0&&La(t)}),dA=La;Et.visible=Ro("visible",Pc({ok:fA,edgeOkViaNode:dA}));Et.hidden=function(){var t=this[0];if(t)return!t.visible()};Et.isBundledBezier=Ro("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});Et.bypass=Et.css=Et.style;Et.renderedCss=Et.renderedStyle;Et.removeBypass=Et.removeCss=Et.removeStyle;Et.pstyle=Et.parsedStyle;var rn={};function bd(t){return function(){var e=arguments,r=[];if(e.length===2){var n=e[0],a=e[1];this.on(t.event,n,a)}else if(e.length===1&&Je(e[0])){var i=e[0];this.on(t.event,i)}else if(e.length===0||e.length===1&&Ue(e[0])){for(var s=e.length===1?e[0]:null,o=0;o<this.length;o++){var u=this[o],l=!t.ableField||u._private[t.ableField],c=u._private[t.field]!=t.value;if(t.overrideAble){var f=t.overrideAble(u);if(f!==void 0&&(l=f,!f))return this}l&&(u._private[t.field]=t.value,c&&r.push(u))}var d=this.spawn(r);d.updateStyle(),d.emit(t.event),s&&d.emit(s)}return this}}function Ma(t){rn[t.field]=function(){var e=this[0];if(e){if(t.overrideField){var r=t.overrideField(e);if(r!==void 0)return r}return e._private[t.field]}},rn[t.on]=bd({event:t.on,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!0}),rn[t.off]=bd({event:t.off,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!1})}Ma({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});Ma({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});Ma({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});Ma({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});rn.deselect=rn.unselect;rn.grabbed=function(){var t=this[0];if(t)return t._private.grabbed};Ma({field:"active",on:"activate",off:"unactivate"});Ma({field:"pannable",on:"panify",off:"unpanify"});rn.inactive=function(){var t=this[0];if(t)return!t._private.active};var Pt={},wd=function(e){return function(n){for(var a=this,i=[],s=0;s<a.length;s++){var o=a[s];if(o.isNode()){for(var u=!1,l=o.connectedEdges(),c=0;c<l.length;c++){var f=l[c],d=f.source(),h=f.target();if(e.noIncomingEdges&&h===o&&d!==o||e.noOutgoingEdges&&d===o&&h!==o){u=!0;break}}u||i.push(o)}}return this.spawn(i,!0).filter(n)}},Ed=function(e){return function(r){for(var n=this,a=[],i=0;i<n.length;i++){var s=n[i];if(s.isNode())for(var o=s.connectedEdges(),u=0;u<o.length;u++){var l=o[u],c=l.source(),f=l.target();e.outgoing&&c===s?(a.push(l),a.push(f)):e.incoming&&f===s&&(a.push(l),a.push(c))}}return this.spawn(a,!0).filter(r)}},Cd=function(e){return function(r){for(var n=this,a=[],i={};;){var s=e.outgoing?n.outgoers():n.incomers();if(s.length===0)break;for(var o=!1,u=0;u<s.length;u++){var l=s[u],c=l.id();i[c]||(i[c]=!0,a.push(l),o=!0)}if(!o)break;n=s}return this.spawn(a,!0).filter(r)}};Pt.clearTraversalCache=function(){for(var t=0;t<this.length;t++)this[t]._private.traversalCache=null};Be(Pt,{roots:wd({noIncomingEdges:!0}),leaves:wd({noOutgoingEdges:!0}),outgoers:nr(Ed({outgoing:!0}),"outgoers"),successors:Cd({outgoing:!0}),incomers:nr(Ed({incoming:!0}),"incomers"),predecessors:Cd({incoming:!0})});Be(Pt,{neighborhood:nr(function(t){for(var e=[],r=this.nodes(),n=0;n<r.length;n++)for(var a=r[n],i=a.connectedEdges(),s=0;s<i.length;s++){var o=i[s],u=o.source(),l=o.target(),c=a===u?l:u;c.length>0&&e.push(c[0]),e.push(o[0])}return this.spawn(e,!0).filter(t)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}});Pt.neighbourhood=Pt.neighborhood;Pt.closedNeighbourhood=Pt.closedNeighborhood;Pt.openNeighbourhood=Pt.openNeighborhood;Be(Pt,{source:nr(function(e){var r=this[0],n;return r&&(n=r._private.source||r.cy().collection()),n&&e?n.filter(e):n},"source"),target:nr(function(e){var r=this[0],n;return r&&(n=r._private.target||r.cy().collection()),n&&e?n.filter(e):n},"target"),sources:_d({attr:"source"}),targets:_d({attr:"target"})});function _d(t){return function(r){for(var n=[],a=0;a<this.length;a++){var i=this[a],s=i._private[t.attr];s&&n.push(s)}return this.spawn(n,!0).filter(r)}}Be(Pt,{edgesWith:nr(Bd(),"edgesWith"),edgesTo:nr(Bd({thisIsSrc:!0}),"edgesTo")});function Bd(t){return function(r){var n=[],a=this._private.cy,i=t||{};_e(r)&&(r=a.$(r));for(var s=0;s<r.length;s++)for(var o=r[s]._private.edges,u=0;u<o.length;u++){var l=o[u],c=l._private.data,f=this.hasElementWithId(c.source)&&r.hasElementWithId(c.target),d=r.hasElementWithId(c.source)&&this.hasElementWithId(c.target),h=f||d;h&&((i.thisIsSrc||i.thisIsTgt)&&(i.thisIsSrc&&!f||i.thisIsTgt&&!d)||n.push(l))}return this.spawn(n,!0)}}Be(Pt,{connectedEdges:nr(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var a=r[n];if(a.isNode())for(var i=a._private.edges,s=0;s<i.length;s++){var o=i[s];e.push(o)}}return this.spawn(e,!0).filter(t)},"connectedEdges"),connectedNodes:nr(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var a=r[n];a.isEdge()&&(e.push(a.source()[0]),e.push(a.target()[0]))}return this.spawn(e,!0).filter(t)},"connectedNodes"),parallelEdges:nr(Ad(),"parallelEdges"),codirectedEdges:nr(Ad({codirected:!0}),"codirectedEdges")});function Ad(t){var e={codirected:!1};return t=Be({},e,t),function(n){for(var a=[],i=this.edges(),s=t,o=0;o<i.length;o++)for(var u=i[o],l=u._private,c=l.source,f=c._private.data.id,d=l.data.target,h=c._private.edges,v=0;v<h.length;v++){var y=h[v],p=y._private.data,m=p.target,g=p.source,x=m===d&&g===f,b=f===m&&d===g;(s.codirected&&x||!s.codirected&&(x||b))&&a.push(y)}return this.spawn(a,!0).filter(n)}}Be(Pt,{components:function(e){var r=this,n=r.cy(),a=n.collection(),i=e==null?r.nodes():e.nodes(),s=[];e!=null&&i.empty()&&(i=e.sources());var o=function(c,f){a.merge(c),i.unmerge(c),f.merge(c)};if(i.empty())return r.spawn();var u=function(){var c=n.collection();s.push(c);var f=i[0];o(f,c),r.bfs({directed:!1,roots:f,visit:function(h){return o(h,c)}}),c.forEach(function(d){d.connectedEdges().forEach(function(h){r.has(h)&&c.has(h.source())&&c.has(h.target())&&c.merge(h)})})};do u();while(i.length>0);return s},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}});Pt.componentsOf=Pt.components;var Ct=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){et("A collection must have a reference to the core");return}var i=new Br,s=!1;if(!r)r=[];else if(r.length>0&&Oe(r[0])&&!zi(r[0])){s=!0;for(var o=[],u=new Pa,l=0,c=r.length;l<c;l++){var f=r[l];f.data==null&&(f.data={});var d=f.data;if(d.id==null)d.id=fp();else if(e.hasElementWithId(d.id)||u.has(d.id))continue;var h=new _o(e,f,!1);o.push(h),u.add(d.id)}r=o}this.length=0;for(var v=0,y=r.length;v<y;v++){var p=r[v][0];if(p!=null){var m=p._private.data.id;(!n||!i.has(m))&&(n&&i.set(m,{index:this.length,ele:p}),this[this.length]=p,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(g){this.lazyMap=g},rebuildMap:function(){for(var x=this.lazyMap=new Br,b=this.eles,C=0;C<b.length;C++){var E=b[C];x.set(E.id(),{index:C,ele:E})}}},n&&(this._private.map=i),s&&!a&&this.restore()},Ge=_o.prototype=Ct.prototype=Object.create(Array.prototype);Ge.instanceString=function(){return"collection"};Ge.spawn=function(t,e){return new Ct(this.cy(),t,e)};Ge.spawnSelf=function(){return this.spawn(this)};Ge.cy=function(){return this._private.cy};Ge.renderer=function(){return this._private.cy.renderer()};Ge.element=function(){return this[0]};Ge.collection=function(){return Zv(this)?this:new Ct(this._private.cy,[this])};Ge.unique=function(){return new Ct(this._private.cy,this,!0)};Ge.hasElementWithId=function(t){return t=""+t,this._private.map.has(t)};Ge.getElementById=function(t){t=""+t;var e=this._private.cy,r=this._private.map.get(t);return r?r.ele:new Ct(e)};Ge.$id=Ge.getElementById;Ge.poolIndex=function(){var t=this._private.cy,e=t._private.elements,r=this[0]._private.data.id;return e._private.map.get(r).index};Ge.indexOf=function(t){var e=t[0]._private.data.id;return this._private.map.get(e).index};Ge.indexOfId=function(t){return t=""+t,this._private.map.get(t).index};Ge.json=function(t){var e=this.element(),r=this.cy();if(e==null&&t)return this;if(e!=null){var n=e._private;if(Oe(t)){if(r.startBatch(),t.data){e.data(t.data);var a=n.data;if(e.isEdge()){var i=!1,s={},o=t.data.source,u=t.data.target;o!=null&&o!=a.source&&(s.source=""+o,i=!0),u!=null&&u!=a.target&&(s.target=""+u,i=!0),i&&(e=e.move(s))}else{var l="parent"in t.data,c=t.data.parent;l&&(c!=null||a.parent!=null)&&c!=a.parent&&(c===void 0&&(c=null),c!=null&&(c=""+c),e=e.move({parent:c}))}}t.position&&e.position(t.position);var f=function(y,p,m){var g=t[y];g!=null&&g!==n[y]&&(g?e[p]():e[m]())};return f("removed","remove","restore"),f("selected","select","unselect"),f("selectable","selectify","unselectify"),f("locked","lock","unlock"),f("grabbable","grabify","ungrabify"),f("pannable","panify","unpanify"),t.classes!=null&&e.classes(t.classes),r.endBatch(),this}else if(t===void 0){var d={data:_r(n.data),position:_r(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:null};d.classes="";var h=0;return n.classes.forEach(function(v){return d.classes+=h++===0?v:" "+v}),d}}};Ge.jsons=function(){for(var t=[],e=0;e<this.length;e++){var r=this[e],n=r.json();t.push(n)}return t};Ge.clone=function(){for(var t=this.cy(),e=[],r=0;r<this.length;r++){var n=this[r],a=n.json(),i=new _o(t,a,!1);e.push(i)}return new Ct(t,e)};Ge.copy=Ge.clone;Ge.restore=function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=r.cy(),a=n._private,i=[],s=[],o,u=0,l=r.length;u<l;u++){var c=r[u];e&&!c.removed()||(c.isNode()?i.push(c):s.push(c))}o=i.concat(s);var f,d=function(){o.splice(f,1),f--};for(f=0;f<o.length;f++){var h=o[f],v=h._private,y=v.data;if(h.clearTraversalCache(),!(!e&&!v.removed)){if(y.id===void 0)y.id=fp();else if(ge(y.id))y.id=""+y.id;else if(sn(y.id)||!_e(y.id)){et("Can not create element with invalid string ID `"+y.id+"`"),d();continue}else if(n.hasElementWithId(y.id)){et("Can not create second element with ID `"+y.id+"`"),d();continue}}var p=y.id;if(h.isNode()){var m=v.position;m.x==null&&(m.x=0),m.y==null&&(m.y=0)}if(h.isEdge()){for(var g=h,x=["source","target"],b=x.length,C=!1,E=0;E<b;E++){var w=x[E],B=y[w];ge(B)&&(B=y[w]=""+y[w]),B==null||B===""?(et("Can not create edge `"+p+"` with unspecified "+w),C=!0):n.hasElementWithId(B)||(et("Can not create edge `"+p+"` with nonexistant "+w+" `"+B+"`"),C=!0)}if(C){d();continue}var D=n.getElementById(y.source),_=n.getElementById(y.target);D.same(_)?D._private.edges.push(g):(D._private.edges.push(g),_._private.edges.push(g)),g._private.source=D,g._private.target=_}v.map=new Br,v.map.set(p,{ele:h,index:0}),v.removed=!1,e&&n.addToPool(h)}for(var A=0;A<i.length;A++){var S=i[A],P=S._private.data;ge(P.parent)&&(P.parent=""+P.parent);var T=P.parent,$=T!=null;if($||S._private.parent){var O=S._private.parent?n.collection().merge(S._private.parent):n.getElementById(T);if(O.empty())P.parent=void 0;else if(O[0].removed())Ne("Node added with missing parent, reference to parent removed"),P.parent=void 0,S._private.parent=null;else{for(var M=!1,z=O;!z.empty();){if(S.same(z)){M=!0,P.parent=void 0;break}z=z.parent()}M||(O[0]._private.children.push(S),S._private.parent=O[0],a.hasCompoundNodes=!0)}}}if(o.length>0){for(var G=o.length===r.length?r:new Ct(n,o),X=0;X<G.length;X++){var I=G[X];I.isNode()||(I.parallelEdges().clearTraversalCache(),I.source().clearTraversalCache(),I.target().clearTraversalCache())}var L;a.hasCompoundNodes?L=n.collection().merge(G).merge(G.connectedNodes()).merge(G.parent()):L=G,L.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(t),t?G.emitAndNotify("add"):e&&G.emit("add")}return r};Ge.removed=function(){var t=this[0];return t&&t._private.removed};Ge.inside=function(){var t=this[0];return t&&!t._private.removed};Ge.remove=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=[],a={},i=r._private.cy;function s(T){for(var $=T._private.edges,O=0;O<$.length;O++)u($[O])}function o(T){for(var $=T._private.children,O=0;O<$.length;O++)u($[O])}function u(T){var $=a[T.id()];e&&T.removed()||$||(a[T.id()]=!0,T.isNode()?(n.push(T),s(T),o(T)):n.unshift(T))}for(var l=0,c=r.length;l<c;l++){var f=r[l];u(f)}function d(T,$){var O=T._private.edges;on(O,$),T.clearTraversalCache()}function h(T){T.clearTraversalCache()}var v=[];v.ids={};function y(T,$){$=$[0],T=T[0];var O=T._private.children,M=T.id();on(O,$),$._private.parent=null,v.ids[M]||(v.ids[M]=!0,v.push(T))}r.dirtyCompoundBoundsCache(),e&&i.removeFromPool(n);for(var p=0;p<n.length;p++){var m=n[p];if(m.isEdge()){var g=m.source()[0],x=m.target()[0];d(g,m),d(x,m);for(var b=m.parallelEdges(),C=0;C<b.length;C++){var E=b[C];h(E),E.isBundledBezier()&&E.dirtyBoundingBoxCache()}}else{var w=m.parent();w.length!==0&&y(w,m)}e&&(m._private.removed=!0)}var B=i._private.elements;i._private.hasCompoundNodes=!1;for(var D=0;D<B.length;D++){var _=B[D];if(_.isParent()){i._private.hasCompoundNodes=!0;break}}var A=new Ct(this.cy(),n);A.size()>0&&(t?A.emitAndNotify("remove"):e&&A.emit("remove"));for(var S=0;S<v.length;S++){var P=v[S];(!e||!P.removed())&&P.updateStyle()}return A};Ge.move=function(t){var e=this._private.cy,r=this,n=!1,a=!1,i=function(v){return v==null?v:""+v};if(t.source!==void 0||t.target!==void 0){var s=i(t.source),o=i(t.target),u=s!=null&&e.hasElementWithId(s),l=o!=null&&e.hasElementWithId(o);(u||l)&&(e.batch(function(){r.remove(n,a),r.emitAndNotify("moveout");for(var h=0;h<r.length;h++){var v=r[h],y=v._private.data;v.isEdge()&&(u&&(y.source=s),l&&(y.target=o))}r.restore(n,a)}),r.emitAndNotify("move"))}else if(t.parent!==void 0){var c=i(t.parent),f=c===null||e.hasElementWithId(c);if(f){var d=c===null?void 0:c;e.batch(function(){var h=r.remove(n,a);h.emitAndNotify("moveout");for(var v=0;v<r.length;v++){var y=r[v],p=y._private.data;y.isNode()&&(p.parent=d)}h.restore(n,a)}),r.emitAndNotify("move")}}return this};[_p,CB,Bs,tn,ka,NB,To,tA,Yp,Xp,sA,js,As,Et,rn,Pt].forEach(function(t){Be(Ge,t)});var hA={add:function(e){var r,n=this;if(Yt(e)){var a=e;if(a._private.cy===n)r=a.restore();else{for(var i=[],s=0;s<a.length;s++){var o=a[s];i.push(o.json())}r=new Ct(n,i)}}else if(Ue(e)){var u=e;r=new Ct(n,u)}else if(Oe(e)&&(Ue(e.nodes)||Ue(e.edges))){for(var l=e,c=[],f=["nodes","edges"],d=0,h=f.length;d<h;d++){var v=f[d],y=l[v];if(Ue(y))for(var p=0,m=y.length;p<m;p++){var g=Be({group:v},y[p]);c.push(g)}}r=new Ct(n,c)}else{var x=e;r=new _o(n,x).collection()}return r},remove:function(e){if(!Yt(e)){if(_e(e)){var r=e;e=this.$(r)}}return e.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function vA(t,e,r,n){var a=4,i=.001,s=1e-7,o=10,u=11,l=1/(u-1),c=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var f=0;f<4;++f)if(typeof arguments[f]!="number"||isNaN(arguments[f])||!isFinite(arguments[f]))return!1;t=Math.min(t,1),r=Math.min(r,1),t=Math.max(t,0),r=Math.max(r,0);var d=c?new Float32Array(u):new Array(u);function h(_,A){return 1-3*A+3*_}function v(_,A){return 3*A-6*_}function y(_){return 3*_}function p(_,A,S){return((h(A,S)*_+v(A,S))*_+y(A))*_}function m(_,A,S){return 3*h(A,S)*_*_+2*v(A,S)*_+y(A)}function g(_,A){for(var S=0;S<a;++S){var P=m(A,t,r);if(P===0)return A;var T=p(A,t,r)-_;A-=T/P}return A}function x(){for(var _=0;_<u;++_)d[_]=p(_*l,t,r)}function b(_,A,S){var P,T,$=0;do T=A+(S-A)/2,P=p(T,t,r)-_,P>0?S=T:A=T;while(Math.abs(P)>s&&++$<o);return T}function C(_){for(var A=0,S=1,P=u-1;S!==P&&d[S]<=_;++S)A+=l;--S;var T=(_-d[S])/(d[S+1]-d[S]),$=A+T*l,O=m($,t,r);return O>=i?g(_,$):O===0?$:b(_,A,A+l)}var E=!1;function w(){E=!0,(t!==e||r!==n)&&x()}var B=function(A){return E||w(),t===e&&r===n?A:A===0?0:A===1?1:p(C(A),e,n)};B.getControlPoints=function(){return[{x:t,y:e},{x:r,y:n}]};var D="generateBezier("+[t,e,r,n]+")";return B.toString=function(){return D},B}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var pA=function(){function t(n){return-n.tension*n.x-n.friction*n.v}function e(n,a,i){var s={x:n.x+i.dx*a,v:n.v+i.dv*a,tension:n.tension,friction:n.friction};return{dx:s.v,dv:t(s)}}function r(n,a){var i={dx:n.v,dv:t(n)},s=e(n,a*.5,i),o=e(n,a*.5,s),u=e(n,a,o),l=1/6*(i.dx+2*(s.dx+o.dx)+u.dx),c=1/6*(i.dv+2*(s.dv+o.dv)+u.dv);return n.x=n.x+l*a,n.v=n.v+c*a,n}return function n(a,i,s){var o={x:-1,v:0,tension:null,friction:null},u=[0],l=0,c=1/1e4,f=16/1e3,d,h,v;for(a=parseFloat(a)||500,i=parseFloat(i)||20,s=s||null,o.tension=a,o.friction=i,d=s!==null,d?(l=n(a,i),h=l/s*f):h=f;v=r(v||o,h),u.push(1+v.x),l+=16,Math.abs(v.x)>c&&Math.abs(v.v)>c;);return d?function(y){return u[y*(u.length-1)|0]}:l}}(),We=function(e,r,n,a){var i=vA(e,r,n,a);return function(s,o,u){return s+(o-s)*i(u)}},Ds={linear:function(e,r,n){return e+(r-e)*n},ease:We(.25,.1,.25,1),"ease-in":We(.42,0,1,1),"ease-out":We(0,0,.58,1),"ease-in-out":We(.42,0,.58,1),"ease-in-sine":We(.47,0,.745,.715),"ease-out-sine":We(.39,.575,.565,1),"ease-in-out-sine":We(.445,.05,.55,.95),"ease-in-quad":We(.55,.085,.68,.53),"ease-out-quad":We(.25,.46,.45,.94),"ease-in-out-quad":We(.455,.03,.515,.955),"ease-in-cubic":We(.55,.055,.675,.19),"ease-out-cubic":We(.215,.61,.355,1),"ease-in-out-cubic":We(.645,.045,.355,1),"ease-in-quart":We(.895,.03,.685,.22),"ease-out-quart":We(.165,.84,.44,1),"ease-in-out-quart":We(.77,0,.175,1),"ease-in-quint":We(.755,.05,.855,.06),"ease-out-quint":We(.23,1,.32,1),"ease-in-out-quint":We(.86,0,.07,1),"ease-in-expo":We(.95,.05,.795,.035),"ease-out-expo":We(.19,1,.22,1),"ease-in-out-expo":We(1,0,0,1),"ease-in-circ":We(.6,.04,.98,.335),"ease-out-circ":We(.075,.82,.165,1),"ease-in-out-circ":We(.785,.135,.15,.86),spring:function(e,r,n){if(n===0)return Ds.linear;var a=pA(e,r,n);return function(i,s,o){return i+(s-i)*a(o)}},"cubic-bezier":We};function Dd(t,e,r,n,a){if(n===1||e===r)return r;var i=a(e,r,n);return t==null||((t.roundValue||t.color)&&(i=Math.round(i)),t.min!==void 0&&(i=Math.max(i,t.min)),t.max!==void 0&&(i=Math.min(i,t.max))),i}function Sd(t,e){return t.pfValue!=null||t.value!=null?t.pfValue!=null&&(e==null||e.type.units!=="%")?t.pfValue:t.value:t}function ra(t,e,r,n,a){var i=a!=null?a.type:null;r<0?r=0:r>1&&(r=1);var s=Sd(t,a),o=Sd(e,a);if(ge(s)&&ge(o))return Dd(i,s,o,r,n);if(Ue(s)&&Ue(o)){for(var u=[],l=0;l<o.length;l++){var c=s[l],f=o[l];if(c!=null&&f!=null){var d=Dd(i,c,f,r,n);u.push(d)}else u.push(f)}return u}}function gA(t,e,r,n){var a=!n,i=t._private,s=e._private,o=s.easing,u=s.startTime,l=n?t:t.cy(),c=l.style();if(!s.easingImpl)if(o==null)s.easingImpl=Ds.linear;else{var f;if(_e(o)){var d=c.parse("transition-timing-function",o);f=d.value}else f=o;var h,v;_e(f)?(h=f,v=[]):(h=f[1],v=f.slice(2).map(function(G){return+G})),v.length>0?(h==="spring"&&v.push(s.duration),s.easingImpl=Ds[h].apply(null,v)):s.easingImpl=Ds[h]}var y=s.easingImpl,p;if(s.duration===0?p=1:p=(r-u)/s.duration,s.applying&&(p=s.progress),p<0?p=0:p>1&&(p=1),s.delay==null){var m=s.startPosition,g=s.position;if(g&&a&&!t.locked()){var x={};Qa(m.x,g.x)&&(x.x=ra(m.x,g.x,p,y)),Qa(m.y,g.y)&&(x.y=ra(m.y,g.y,p,y)),t.position(x)}var b=s.startPan,C=s.pan,E=i.pan,w=C!=null&&n;w&&(Qa(b.x,C.x)&&(E.x=ra(b.x,C.x,p,y)),Qa(b.y,C.y)&&(E.y=ra(b.y,C.y,p,y)),t.emit("pan"));var B=s.startZoom,D=s.zoom,_=D!=null&&n;_&&(Qa(B,D)&&(i.zoom=Si(i.minZoom,ra(B,D,p,y),i.maxZoom)),t.emit("zoom")),(w||_)&&t.emit("viewport");var A=s.style;if(A&&A.length>0&&a){for(var S=0;S<A.length;S++){var P=A[S],T=P.name,$=P,O=s.startStyle[T],M=c.properties[O.name],z=ra(O,$,p,y,M);c.overrideBypass(t,T,z)}t.emit("style")}}return s.progress=p,p}function Qa(t,e){return t==null||e==null?!1:ge(t)&&ge(e)?!0:!!(t&&e)}function mA(t,e,r,n){var a=e._private;a.started=!0,a.startTime=r-a.progress*a.duration}function kd(t,e){var r=e._private.aniEles,n=[];function a(c,f){var d=c._private,h=d.animation.current,v=d.animation.queue,y=!1;if(h.length===0){var p=v.shift();p&&h.push(p)}for(var m=function(E){for(var w=E.length-1;w>=0;w--){var B=E[w];B()}E.splice(0,E.length)},g=h.length-1;g>=0;g--){var x=h[g],b=x._private;if(b.stopped){h.splice(g,1),b.hooked=!1,b.playing=!1,b.started=!1,m(b.frames);continue}!b.playing&&!b.applying||(b.playing&&b.applying&&(b.applying=!1),b.started||mA(c,x,t),gA(c,x,t,f),b.applying&&(b.applying=!1),m(b.frames),b.step!=null&&b.step(t),x.completed()&&(h.splice(g,1),b.hooked=!1,b.playing=!1,b.started=!1,m(b.completes)),y=!0)}return!f&&h.length===0&&v.length===0&&n.push(c),y}for(var i=!1,s=0;s<r.length;s++){var o=r[s],u=a(o);i=i||u}var l=a(e,!0);(i||l)&&(r.length>0?e.notify("draw",r):e.notify("draw")),r.unmerge(n),e.emit("step")}var yA={animate:$e.animate(),animation:$e.animation(),animated:$e.animated(),clearQueue:$e.clearQueue(),delay:$e.delay(),delayAnimation:$e.delayAnimation(),stop:$e.stop(),addToAnimationPool:function(e){var r=this;r.styleEnabled()&&r._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function r(){e._private.animationsRunning&&zs(function(i){kd(i,e),r()})}var n=e.renderer();n&&n.beforeRender?n.beforeRender(function(i,s){kd(s,e)},n.beforeRenderPriorities.animations):r()}},xA={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var a=r.qualifier;return a!=null?e!==n.target&&zi(n.target)&&a.matches(n.target):!0},addEventFields:function(e,r){r.cy=e,r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e}},hs=function(e){return _e(e)?new ln(e):e},Jp={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new Po(xA,this)),this},emitter:function(){return this._private.emitter},on:function(e,r,n){return this.emitter().on(e,hs(r),n),this},removeListener:function(e,r,n){return this.emitter().removeListener(e,hs(r),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,r,n){return this.emitter().one(e,hs(r),n),this},once:function(e,r,n){return this.emitter().one(e,hs(r),n),this},emit:function(e,r){return this.emitter().emit(e,r),this},emitAndNotify:function(e,r){return this.emit(e),this.notify(e,r),this}};$e.eventAliasesOn(Jp);var Du={png:function(e){var r=this._private.renderer;return e=e||{},r.png(e)},jpg:function(e){var r=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",r.jpg(e)}};Du.jpeg=Du.jpg;var Ss={layout:function(e){var r=this;if(e==null){et("Layout options must be specified to make a layout");return}if(e.name==null){et("A `name` must be specified to make a layout");return}var n=e.name,a=r.extension("layout",n);if(a==null){et("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var i;_e(e.eles)?i=r.$(e.eles):i=e.eles!=null?e.eles:r.$();var s=new a(Be({},e,{cy:r,eles:i}));return s}};Ss.createLayout=Ss.makeLayout=Ss.layout;var bA={notify:function(e,r){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var a=n.batchNotifications[e]=n.batchNotifications[e]||this.collection();r!=null&&a.merge(r);return}if(n.notificationsEnabled){var i=this.renderer();this.destroyed()||!i||i.notify(e,r)}},notifications:function(e){var r=this._private;return e===void 0?r.notificationsEnabled:(r.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var r=this.renderer();Object.keys(e.batchNotifications).forEach(function(n){var a=e.batchNotifications[n];a.empty()?r.notify(n):r.notify(n,a)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var r=this;return this.batch(function(){for(var n=Object.keys(e),a=0;a<n.length;a++){var i=n[a],s=e[i],o=r.getElementById(i);o.data(s)}})}},wA=_t({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),Su={renderTo:function(e,r,n,a){var i=this._private.renderer;return i.renderTo(e,r,n,a),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var r=this,n=r.extension("renderer",e.name);if(n==null){et("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&Ne("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var a=wA(e);a.cy=r,r._private.renderer=new n(a),this.notify("init")},destroyRenderer:function(){var e=this;e.notify("destroy");var r=e.container();if(r)for(r._cyreg=null;r.childNodes.length>0;)r.removeChild(r.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(n){var a=n._private;a.rscratch={},a.rstyle={},a.animation.current=[],a.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};Su.invalidateDimensions=Su.resize;var ks={collection:function(e,r){return _e(e)?this.$(e):Yt(e)?e.collection():Ue(e)?(r||(r={}),new Ct(this,e,r.unique,r.removed)):new Ct(this)},nodes:function(e){var r=this.$(function(n){return n.isNode()});return e?r.filter(e):r},edges:function(e){var r=this.$(function(n){return n.isEdge()});return e?r.filter(e):r},$:function(e){var r=this._private.elements;return e?r.filter(e):r.spawnSelf()},mutableElements:function(){return this._private.elements}};ks.elements=ks.filter=ks.$;var Rt={},pi="t",EA="f";Rt.apply=function(t){for(var e=this,r=e._private,n=r.cy,a=n.collection(),i=0;i<t.length;i++){var s=t[i],o=e.getContextMeta(s);if(!o.empty){var u=e.getContextStyle(o),l=e.applyContextStyle(o,u,s);s._private.appliedInitStyle?e.updateTransitions(s,l.diffProps):s._private.appliedInitStyle=!0;var c=e.updateStyleHints(s);c&&a.push(s)}}return a};Rt.getPropertiesDiff=function(t,e){var r=this,n=r._private.propDiffs=r._private.propDiffs||{},a=t+"-"+e,i=n[a];if(i)return i;for(var s=[],o={},u=0;u<r.length;u++){var l=r[u],c=t[u]===pi,f=e[u]===pi,d=c!==f,h=l.mappedProperties.length>0;if(d||f&&h){var v=void 0;d&&h||d?v=l.properties:h&&(v=l.mappedProperties);for(var y=0;y<v.length;y++){for(var p=v[y],m=p.name,g=!1,x=u+1;x<r.length;x++){var b=r[x],C=e[x]===pi;if(C&&(g=b.properties[p.name]!=null,g))break}!o[m]&&!g&&(o[m]=!0,s.push(m))}}}return n[a]=s,s};Rt.getContextMeta=function(t){for(var e=this,r="",n,a=t._private.styleCxtKey||"",i=0;i<e.length;i++){var s=e[i],o=s.selector&&s.selector.matches(t);o?r+=pi:r+=EA}return n=e.getPropertiesDiff(a,r),t._private.styleCxtKey=r,{key:r,diffPropNames:n,empty:n.length===0}};Rt.getContextStyle=function(t){var e=t.key,r=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[e])return n[e];for(var a={_private:{key:e}},i=0;i<r.length;i++){var s=r[i],o=e[i]===pi;if(o)for(var u=0;u<s.properties.length;u++){var l=s.properties[u];a[l.name]=l}}return n[e]=a,a};Rt.applyContextStyle=function(t,e,r){for(var n=this,a=t.diffPropNames,i={},s=n.types,o=0;o<a.length;o++){var u=a[o],l=e[u],c=r.pstyle(u);if(!l)if(c)c.bypass?l={name:u,deleteBypassed:!0}:l={name:u,delete:!0};else continue;if(c!==l){if(l.mapped===s.fn&&c!=null&&c.mapping!=null&&c.mapping.value===l.value){var f=c.mapping,d=f.fnValue=l.value(r);if(d===f.prevFnValue)continue}var h=i[u]={prev:c};n.applyParsedProperty(r,l),h.next=r.pstyle(u),h.next&&h.next.bypass&&(h.next=h.next.bypassed)}}return{diffProps:i}};Rt.updateStyleHints=function(t){var e=t._private,r=this,n=r.propertyGroupNames,a=r.propertyGroupKeys,i=function(ne,he,R){return r.getPropertiesHash(ne,he,R)},s=e.styleKey;if(t.removed())return!1;var o=e.group==="nodes",u=t._private.style;n=Object.keys(u);for(var l=0;l<a.length;l++){var c=a[l];e.styleKeys[c]=[oa,ri]}for(var f=function(ne,he){return e.styleKeys[he][0]=Bi(ne,e.styleKeys[he][0])},d=function(ne,he){return e.styleKeys[he][1]=Ai(ne,e.styleKeys[he][1])},h=function(ne,he){f(ne,he),d(ne,he)},v=function(ne,he){for(var R=0;R<ne.length;R++){var F=ne.charCodeAt(R);f(F,he),d(F,he)}},y=2e9,p=function(ne){return-128<ne&&ne<128&&Math.floor(ne)!==ne?y-(ne*1024|0):ne},m=0;m<n.length;m++){var g=n[m],x=u[g];if(x!=null){var b=this.properties[g],C=b.type,E=b.groupKey,w=void 0;b.hashOverride!=null?w=b.hashOverride(t,x):x.pfValue!=null&&(w=x.pfValue);var B=b.enums==null?x.value:null,D=w!=null,_=B!=null,A=D||_,S=x.units;if(C.number&&A&&!C.multiple){var P=D?w:B;h(p(P),E),!D&&S!=null&&v(S,E)}else v(x.strValue,E)}}for(var T=[oa,ri],$=0;$<a.length;$++){var O=a[$],M=e.styleKeys[O];T[0]=Bi(M[0],T[0]),T[1]=Ai(M[1],T[1])}e.styleKey=DE(T[0],T[1]);var z=e.styleKeys;e.labelDimsKey=qr(z.labelDimensions);var G=i(t,["label"],z.labelDimensions);if(e.labelKey=qr(G),e.labelStyleKey=qr(as(z.commonLabel,G)),!o){var X=i(t,["source-label"],z.labelDimensions);e.sourceLabelKey=qr(X),e.sourceLabelStyleKey=qr(as(z.commonLabel,X));var I=i(t,["target-label"],z.labelDimensions);e.targetLabelKey=qr(I),e.targetLabelStyleKey=qr(as(z.commonLabel,I))}if(o){var L=e.styleKeys,U=L.nodeBody,j=L.nodeBorder,oe=L.nodeOutline,se=L.backgroundImage,V=L.compound,H=L.pie,N=[U,j,oe,se,V,H].filter(function(K){return K!=null}).reduce(as,[oa,ri]);e.nodeKey=qr(N),e.hasPie=H!=null&&H[0]!==oa&&H[1]!==ri}return s!==e.styleKey};Rt.clearStyleHints=function(t){var e=t._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null};Rt.applyParsedProperty=function(t,e){var r=this,n=e,a=t._private.style,i,s=r.types,o=r.properties[n.name].type,u=n.bypass,l=a[n.name],c=l&&l.bypass,f=t._private,d="mapping",h=function(U){return U==null?null:U.pfValue!=null?U.pfValue:U.value},v=function(){var U=h(l),j=h(n);r.checkTriggers(t,n.name,U,j)};if(e.name==="curve-style"&&t.isEdge()&&(e.value!=="bezier"&&t.isLoop()||e.value==="haystack"&&(t.source().isParent()||t.target().isParent()))&&(n=e=this.parse(e.name,"bezier",u)),n.delete)return a[n.name]=void 0,v(),!0;if(n.deleteBypassed)return l?l.bypass?(l.bypassed=void 0,v(),!0):!1:(v(),!0);if(n.deleteBypass)return l?l.bypass?(a[n.name]=l.bypassed,v(),!0):!1:(v(),!0);var y=function(){Ne("Do not assign mappings to elements without corresponding data (i.e. ele `"+t.id()+"` has no mapping for property `"+n.name+"` with data field `"+n.field+"`); try a `["+n.field+"]` selector to limit scope to elements with `"+n.field+"` defined")};switch(n.mapped){case s.mapData:{for(var p=n.field.split("."),m=f.data,g=0;g<p.length&&m;g++){var x=p[g];m=m[x]}if(m==null)return y(),!1;var b;if(ge(m)){var C=n.fieldMax-n.fieldMin;C===0?b=0:b=(m-n.fieldMin)/C}else return Ne("Do not use continuous mappers without specifying numeric data (i.e. `"+n.field+": "+m+"` for `"+t.id()+"` is non-numeric)"),!1;if(b<0?b=0:b>1&&(b=1),o.color){var E=n.valueMin[0],w=n.valueMax[0],B=n.valueMin[1],D=n.valueMax[1],_=n.valueMin[2],A=n.valueMax[2],S=n.valueMin[3]==null?1:n.valueMin[3],P=n.valueMax[3]==null?1:n.valueMax[3],T=[Math.round(E+(w-E)*b),Math.round(B+(D-B)*b),Math.round(_+(A-_)*b),Math.round(S+(P-S)*b)];i={bypass:n.bypass,name:n.name,value:T,strValue:"rgb("+T[0]+", "+T[1]+", "+T[2]+")"}}else if(o.number){var $=n.valueMin+(n.valueMax-n.valueMin)*b;i=this.parse(n.name,$,n.bypass,d)}else return!1;if(!i)return y(),!1;i.mapping=n,n=i;break}case s.data:{for(var O=n.field.split("."),M=f.data,z=0;z<O.length&&M;z++){var G=O[z];M=M[G]}if(M!=null&&(i=this.parse(n.name,M,n.bypass,d)),!i)return y(),!1;i.mapping=n,n=i;break}case s.fn:{var X=n.value,I=n.fnValue!=null?n.fnValue:X(t);if(n.prevFnValue=I,I==null)return Ne("Custom function mappers may not return null (i.e. `"+n.name+"` for ele `"+t.id()+"` is null)"),!1;if(i=this.parse(n.name,I,n.bypass,d),!i)return Ne("Custom function mappers may not return invalid values for the property type (i.e. `"+n.name+"` for ele `"+t.id()+"` is invalid)"),!1;i.mapping=_r(n),n=i;break}case void 0:break;default:return!1}return u?(c?n.bypassed=l.bypassed:n.bypassed=l,a[n.name]=n):c?l.bypassed=n:a[n.name]=n,v(),!0};Rt.cleanElements=function(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),!e)n._private.style={};else for(var a=n._private.style,i=Object.keys(a),s=0;s<i.length;s++){var o=i[s],u=a[o];u!=null&&(u.bypass?u.bypassed=null:a[o]=null)}}};Rt.update=function(){var t=this._private.cy,e=t.mutableElements();e.updateStyle()};Rt.updateTransitions=function(t,e){var r=this,n=t._private,a=t.pstyle("transition-property").value,i=t.pstyle("transition-duration").pfValue,s=t.pstyle("transition-delay").pfValue;if(a.length>0&&i>0){for(var o={},u=!1,l=0;l<a.length;l++){var c=a[l],f=t.pstyle(c),d=e[c];if(d){var h=d.prev,v=h,y=d.next!=null?d.next:f,p=!1,m=void 0,g=1e-6;v&&(ge(v.pfValue)&&ge(y.pfValue)?(p=y.pfValue-v.pfValue,m=v.pfValue+g*p):ge(v.value)&&ge(y.value)?(p=y.value-v.value,m=v.value+g*p):Ue(v.value)&&Ue(y.value)&&(p=v.value[0]!==y.value[0]||v.value[1]!==y.value[1]||v.value[2]!==y.value[2],m=v.strValue),p&&(o[c]=y.strValue,this.applyBypass(t,c,m),u=!0))}}if(!u)return;n.transitioning=!0,new Fa(function(x){s>0?t.delayAnimation(s).play().promise().then(x):x()}).then(function(){return t.animation({style:o,duration:i,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(t,a),t.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(t,a),t.emitAndNotify("style"),n.transitioning=!1)};Rt.checkTrigger=function(t,e,r,n,a,i){var s=this.properties[e],o=a(s);o!=null&&o(r,n)&&i(s)};Rt.checkZOrderTrigger=function(t,e,r,n){var a=this;this.checkTrigger(t,e,r,n,function(i){return i.triggersZOrder},function(){a._private.cy.notify("zorder",t)})};Rt.checkBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(a){return a.triggersBounds},function(a){t.dirtyCompoundBoundsCache(),t.dirtyBoundingBoxCache(),a.triggersBoundsOfParallelBeziers&&e==="curve-style"&&(r==="bezier"||n==="bezier")&&t.parallelEdges().forEach(function(i){i.isBundledBezier()&&i.dirtyBoundingBoxCache()}),a.triggersBoundsOfConnectedEdges&&e==="display"&&(r==="none"||n==="none")&&t.connectedEdges().forEach(function(i){i.dirtyBoundingBoxCache()})})};Rt.checkTriggers=function(t,e,r,n){t.dirtyStyleCache(),this.checkZOrderTrigger(t,e,r,n),this.checkBoundsTrigger(t,e,r,n)};var Ui={};Ui.applyBypass=function(t,e,r,n){var a=this,i=[],s=!0;if(e==="*"||e==="**"){if(r!==void 0)for(var o=0;o<a.properties.length;o++){var u=a.properties[o],l=u.name,c=this.parse(l,r,!0);c&&i.push(c)}}else if(_e(e)){var f=this.parse(e,r,!0);f&&i.push(f)}else if(Oe(e)){var d=e;n=r;for(var h=Object.keys(d),v=0;v<h.length;v++){var y=h[v],p=d[y];if(p===void 0&&(p=d[wo(y)]),p!==void 0){var m=this.parse(y,p,!0);m&&i.push(m)}}}else return!1;if(i.length===0)return!1;for(var g=!1,x=0;x<t.length;x++){for(var b=t[x],C={},E=void 0,w=0;w<i.length;w++){var B=i[w];if(n){var D=b.pstyle(B.name);E=C[B.name]={prev:D}}g=this.applyParsedProperty(b,_r(B))||g,n&&(E.next=b.pstyle(B.name))}g&&this.updateStyleHints(b),n&&this.updateTransitions(b,C,s)}return g};Ui.overrideBypass=function(t,e,r){e=yc(e);for(var n=0;n<t.length;n++){var a=t[n],i=a._private.style[e],s=this.properties[e].type,o=s.color,u=s.mutiple,l=i?i.pfValue!=null?i.pfValue:i.value:null;!i||!i.bypass?this.applyBypass(a,e,r):(i.value=r,i.pfValue!=null&&(i.pfValue=r),o?i.strValue="rgb("+r.join(",")+")":u?i.strValue=r.join(" "):i.strValue=""+r,this.updateStyleHints(a)),this.checkTriggers(a,e,l,r)}};Ui.removeAllBypasses=function(t,e){return this.removeBypasses(t,this.propertyNames,e)};Ui.removeBypasses=function(t,e,r){for(var n=!0,a=0;a<t.length;a++){for(var i=t[a],s={},o=0;o<e.length;o++){var u=e[o],l=this.properties[u],c=i.pstyle(l.name);if(!(!c||!c.bypass)){var f="",d=this.parse(u,f,!0),h=s[l.name]={prev:c};this.applyParsedProperty(i,d),h.next=i.pstyle(l.name)}}this.updateStyleHints(i),r&&this.updateTransitions(i,s,n)}};var Fc={};Fc.getEmSizeInPixels=function(){var t=this.containerCss("font-size");return t!=null?parseFloat(t):1};Fc.containerCss=function(t){var e=this._private.cy,r=e.container(),n=e.window();if(n&&r&&n.getComputedStyle)return n.getComputedStyle(r).getPropertyValue(t)};var Ar={};Ar.getRenderedStyle=function(t,e){return e?this.getStylePropertyValue(t,e,!0):this.getRawStyle(t,!0)};Ar.getRawStyle=function(t,e){var r=this;if(t=t[0],t){for(var n={},a=0;a<r.properties.length;a++){var i=r.properties[a],s=r.getStylePropertyValue(t,i.name,e);s!=null&&(n[i.name]=s,n[wo(i.name)]=s)}return n}};Ar.getIndexedStyle=function(t,e,r,n){var a=t.pstyle(e)[r][n];return a??t.cy().style().getDefaultProperty(e)[r][0]};Ar.getStylePropertyValue=function(t,e,r){var n=this;if(t=t[0],t){var a=n.properties[e];a.alias&&(a=a.pointsTo);var i=a.type,s=t.pstyle(a.name);if(s){var o=s.value,u=s.units,l=s.strValue;if(r&&i.number&&o!=null&&ge(o)){var c=t.cy().zoom(),f=function(p){return p*c},d=function(p,m){return f(p)+m},h=Ue(o),v=h?u.every(function(y){return y!=null}):u!=null;return v?h?o.map(function(y,p){return d(y,u[p])}).join(" "):d(o,u):h?o.map(function(y){return _e(y)?y:""+f(y)}).join(" "):""+f(o)}else if(l!=null)return l}return null}};Ar.getAnimationStartStyle=function(t,e){for(var r={},n=0;n<e.length;n++){var a=e[n],i=a.name,s=t.pstyle(i);s!==void 0&&(Oe(s)?s=this.parse(i,s.strValue):s=this.parse(i,s)),s&&(r[i]=s)}return r};Ar.getPropsList=function(t){var e=this,r=[],n=t,a=e.properties;if(n)for(var i=Object.keys(n),s=0;s<i.length;s++){var o=i[s],u=n[o],l=a[o]||a[yc(o)],c=this.parse(l.name,u);c&&r.push(c)}return r};Ar.getNonDefaultPropertiesHash=function(t,e,r){var n=r.slice(),a,i,s,o,u,l;for(u=0;u<e.length;u++)if(a=e[u],i=t.pstyle(a,!1),i!=null)if(i.pfValue!=null)n[0]=Bi(o,n[0]),n[1]=Ai(o,n[1]);else for(s=i.strValue,l=0;l<s.length;l++)o=s.charCodeAt(l),n[0]=Bi(o,n[0]),n[1]=Ai(o,n[1]);return n};Ar.getPropertiesHash=Ar.getNonDefaultPropertiesHash;var Oo={};Oo.appendFromJson=function(t){for(var e=this,r=0;r<t.length;r++){var n=t[r],a=n.selector,i=n.style||n.css,s=Object.keys(i);e.selector(a);for(var o=0;o<s.length;o++){var u=s[o],l=i[u];e.css(u,l)}}return e};Oo.fromJson=function(t){var e=this;return e.resetToDefault(),e.appendFromJson(t),e};Oo.json=function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var r=this[e],n=r.selector,a=r.properties,i={},s=0;s<a.length;s++){var o=a[s];i[o.name]=o.strValue}t.push({selector:n?n.toString():"core",style:i})}return t};var Rc={};Rc.appendFromString=function(t){var e=this,r=this,n=""+t,a,i,s;n=n.replace(/[/][*](\s|.)+?[*][/]/g,"");function o(){n.length>a.length?n=n.substr(a.length):n=""}function u(){i.length>s.length?i=i.substr(s.length):i=""}for(;;){var l=n.match(/^\s*$/);if(l)break;var c=n.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!c){Ne("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+n);break}a=c[0];var f=c[1];if(f!=="core"){var d=new ln(f);if(d.invalid){Ne("Skipping parsing of block: Invalid selector found in string stylesheet: "+f),o();continue}}var h=c[2],v=!1;i=h;for(var y=[];;){var p=i.match(/^\s*$/);if(p)break;var m=i.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!m){Ne("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+h),v=!0;break}s=m[0];var g=m[1],x=m[2],b=e.properties[g];if(!b){Ne("Skipping property: Invalid property name in: "+s),u();continue}var C=r.parse(g,x);if(!C){Ne("Skipping property: Invalid property definition in: "+s),u();continue}y.push({name:g,val:x}),u()}if(v){o();break}r.selector(f);for(var E=0;E<y.length;E++){var w=y[E];r.css(w.name,w.val)}o()}return r};Rc.fromString=function(t){var e=this;return e.resetToDefault(),e.appendFromString(t),e};var bt={};(function(){var t=ut,e=T2,r=F2,n=R2,a=O2,i=function(N){return"^"+N+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},s=function(N){var K=t+"|\\w+|"+e+"|"+r+"|"+n+"|"+a;return"^"+N+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+K+")\\s*\\,\\s*("+K+")\\)$"},o=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];bt.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:i("data")},layoutData:{mapping:!0,regex:i("layoutData")},scratch:{mapping:!0,regex:i("scratch")},mapData:{mapping:!0,regex:s("mapData")},mapLayoutData:{mapping:!0,regex:s("mapLayoutData")},mapScratch:{mapping:!0,regex:s("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:o,singleRegexMatchValue:!0},urls:{regexes:o,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(N,K){switch(N.length){case 2:return K[0]!=="deg"&&K[0]!=="rad"&&K[1]!=="deg"&&K[1]!=="rad";case 1:return _e(N[0])||K[0]==="deg"||K[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(N){var K=N.length;return K===1||K===2||K===4}}};var u={zeroNonZero:function(N,K){return(N==null||K==null)&&N!==K||N==0&&K!=0?!0:N!=0&&K==0},any:function(N,K){return N!=K},emptyNonEmpty:function(N,K){var ne=sn(N),he=sn(K);return ne&&!he||!ne&&he}},l=bt.types,c=[{name:"label",type:l.text,triggersBounds:u.any,triggersZOrder:u.emptyNonEmpty},{name:"text-rotation",type:l.textRotation,triggersBounds:u.any},{name:"text-margin-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"text-margin-y",type:l.bidirectionalSize,triggersBounds:u.any}],f=[{name:"source-label",type:l.text,triggersBounds:u.any},{name:"source-text-rotation",type:l.textRotation,triggersBounds:u.any},{name:"source-text-margin-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"source-text-margin-y",type:l.bidirectionalSize,triggersBounds:u.any},{name:"source-text-offset",type:l.size,triggersBounds:u.any}],d=[{name:"target-label",type:l.text,triggersBounds:u.any},{name:"target-text-rotation",type:l.textRotation,triggersBounds:u.any},{name:"target-text-margin-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"target-text-margin-y",type:l.bidirectionalSize,triggersBounds:u.any},{name:"target-text-offset",type:l.size,triggersBounds:u.any}],h=[{name:"font-family",type:l.fontFamily,triggersBounds:u.any},{name:"font-style",type:l.fontStyle,triggersBounds:u.any},{name:"font-weight",type:l.fontWeight,triggersBounds:u.any},{name:"font-size",type:l.size,triggersBounds:u.any},{name:"text-transform",type:l.textTransform,triggersBounds:u.any},{name:"text-wrap",type:l.textWrap,triggersBounds:u.any},{name:"text-overflow-wrap",type:l.textOverflowWrap,triggersBounds:u.any},{name:"text-max-width",type:l.size,triggersBounds:u.any},{name:"text-outline-width",type:l.size,triggersBounds:u.any},{name:"line-height",type:l.positiveNumber,triggersBounds:u.any}],v=[{name:"text-valign",type:l.valign,triggersBounds:u.any},{name:"text-halign",type:l.halign,triggersBounds:u.any},{name:"color",type:l.color},{name:"text-outline-color",type:l.color},{name:"text-outline-opacity",type:l.zeroOneNumber},{name:"text-background-color",type:l.color},{name:"text-background-opacity",type:l.zeroOneNumber},{name:"text-background-padding",type:l.size,triggersBounds:u.any},{name:"text-border-opacity",type:l.zeroOneNumber},{name:"text-border-color",type:l.color},{name:"text-border-width",type:l.size,triggersBounds:u.any},{name:"text-border-style",type:l.borderStyle,triggersBounds:u.any},{name:"text-background-shape",type:l.textBackgroundShape,triggersBounds:u.any},{name:"text-justification",type:l.justification}],y=[{name:"events",type:l.bool,triggersZOrder:u.any},{name:"text-events",type:l.bool,triggersZOrder:u.any}],p=[{name:"display",type:l.display,triggersZOrder:u.any,triggersBounds:u.any,triggersBoundsOfConnectedEdges:!0},{name:"visibility",type:l.visibility,triggersZOrder:u.any},{name:"opacity",type:l.zeroOneNumber,triggersZOrder:u.zeroNonZero},{name:"text-opacity",type:l.zeroOneNumber},{name:"min-zoomed-font-size",type:l.size},{name:"z-compound-depth",type:l.zCompoundDepth,triggersZOrder:u.any},{name:"z-index-compare",type:l.zIndexCompare,triggersZOrder:u.any},{name:"z-index",type:l.number,triggersZOrder:u.any}],m=[{name:"overlay-padding",type:l.size,triggersBounds:u.any},{name:"overlay-color",type:l.color},{name:"overlay-opacity",type:l.zeroOneNumber,triggersBounds:u.zeroNonZero},{name:"overlay-shape",type:l.overlayShape,triggersBounds:u.any},{name:"overlay-corner-radius",type:l.cornerRadius}],g=[{name:"underlay-padding",type:l.size,triggersBounds:u.any},{name:"underlay-color",type:l.color},{name:"underlay-opacity",type:l.zeroOneNumber,triggersBounds:u.zeroNonZero},{name:"underlay-shape",type:l.overlayShape,triggersBounds:u.any},{name:"underlay-corner-radius",type:l.cornerRadius}],x=[{name:"transition-property",type:l.propList},{name:"transition-duration",type:l.time},{name:"transition-delay",type:l.time},{name:"transition-timing-function",type:l.easing}],b=function(N,K){return K.value==="label"?-N.poolIndex():K.pfValue},C=[{name:"height",type:l.nodeSize,triggersBounds:u.any,hashOverride:b},{name:"width",type:l.nodeSize,triggersBounds:u.any,hashOverride:b},{name:"shape",type:l.nodeShape,triggersBounds:u.any},{name:"shape-polygon-points",type:l.polygonPointList,triggersBounds:u.any},{name:"corner-radius",type:l.cornerRadius},{name:"background-color",type:l.color},{name:"background-fill",type:l.fill},{name:"background-opacity",type:l.zeroOneNumber},{name:"background-blacken",type:l.nOneOneNumber},{name:"background-gradient-stop-colors",type:l.colors},{name:"background-gradient-stop-positions",type:l.percentages},{name:"background-gradient-direction",type:l.gradientDirection},{name:"padding",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"padding-relative-to",type:l.paddingRelativeTo,triggersBounds:u.any},{name:"bounds-expansion",type:l.boundsExpansion,triggersBounds:u.any}],E=[{name:"border-color",type:l.color},{name:"border-opacity",type:l.zeroOneNumber},{name:"border-width",type:l.size,triggersBounds:u.any},{name:"border-style",type:l.borderStyle},{name:"border-cap",type:l.lineCap},{name:"border-join",type:l.lineJoin},{name:"border-dash-pattern",type:l.numbers},{name:"border-dash-offset",type:l.number},{name:"border-position",type:l.linePosition}],w=[{name:"outline-color",type:l.color},{name:"outline-opacity",type:l.zeroOneNumber},{name:"outline-width",type:l.size,triggersBounds:u.any},{name:"outline-style",type:l.borderStyle},{name:"outline-offset",type:l.size,triggersBounds:u.any}],B=[{name:"background-image",type:l.urls},{name:"background-image-crossorigin",type:l.bgCrossOrigin},{name:"background-image-opacity",type:l.zeroOneNumbers},{name:"background-image-containment",type:l.bgContainment},{name:"background-image-smoothing",type:l.bools},{name:"background-position-x",type:l.bgPos},{name:"background-position-y",type:l.bgPos},{name:"background-width-relative-to",type:l.bgRelativeTo},{name:"background-height-relative-to",type:l.bgRelativeTo},{name:"background-repeat",type:l.bgRepeat},{name:"background-fit",type:l.bgFit},{name:"background-clip",type:l.bgClip},{name:"background-width",type:l.bgWH},{name:"background-height",type:l.bgWH},{name:"background-offset-x",type:l.bgPos},{name:"background-offset-y",type:l.bgPos}],D=[{name:"position",type:l.position,triggersBounds:u.any},{name:"compound-sizing-wrt-labels",type:l.compoundIncludeLabels,triggersBounds:u.any},{name:"min-width",type:l.size,triggersBounds:u.any},{name:"min-width-bias-left",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"min-width-bias-right",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"min-height",type:l.size,triggersBounds:u.any},{name:"min-height-bias-top",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"min-height-bias-bottom",type:l.sizeMaybePercent,triggersBounds:u.any}],_=[{name:"line-style",type:l.lineStyle},{name:"line-color",type:l.color},{name:"line-fill",type:l.fill},{name:"line-cap",type:l.lineCap},{name:"line-opacity",type:l.zeroOneNumber},{name:"line-dash-pattern",type:l.numbers},{name:"line-dash-offset",type:l.number},{name:"line-outline-width",type:l.size},{name:"line-outline-color",type:l.color},{name:"line-gradient-stop-colors",type:l.colors},{name:"line-gradient-stop-positions",type:l.percentages},{name:"curve-style",type:l.curveStyle,triggersBounds:u.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:l.zeroOneNumber,triggersBounds:u.any},{name:"source-endpoint",type:l.edgeEndpoint,triggersBounds:u.any},{name:"target-endpoint",type:l.edgeEndpoint,triggersBounds:u.any},{name:"control-point-step-size",type:l.size,triggersBounds:u.any},{name:"control-point-distances",type:l.bidirectionalSizes,triggersBounds:u.any},{name:"control-point-weights",type:l.numbers,triggersBounds:u.any},{name:"segment-distances",type:l.bidirectionalSizes,triggersBounds:u.any},{name:"segment-weights",type:l.numbers,triggersBounds:u.any},{name:"segment-radii",type:l.numbers,triggersBounds:u.any},{name:"radius-type",type:l.radiusType,triggersBounds:u.any},{name:"taxi-turn",type:l.bidirectionalSizeMaybePercent,triggersBounds:u.any},{name:"taxi-turn-min-distance",type:l.size,triggersBounds:u.any},{name:"taxi-direction",type:l.axisDirection,triggersBounds:u.any},{name:"taxi-radius",type:l.number,triggersBounds:u.any},{name:"edge-distances",type:l.edgeDistances,triggersBounds:u.any},{name:"arrow-scale",type:l.positiveNumber,triggersBounds:u.any},{name:"loop-direction",type:l.angle,triggersBounds:u.any},{name:"loop-sweep",type:l.angle,triggersBounds:u.any},{name:"source-distance-from-node",type:l.size,triggersBounds:u.any},{name:"target-distance-from-node",type:l.size,triggersBounds:u.any}],A=[{name:"ghost",type:l.bool,triggersBounds:u.any},{name:"ghost-offset-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"ghost-offset-y",type:l.bidirectionalSize,triggersBounds:u.any},{name:"ghost-opacity",type:l.zeroOneNumber}],S=[{name:"selection-box-color",type:l.color},{name:"selection-box-opacity",type:l.zeroOneNumber},{name:"selection-box-border-color",type:l.color},{name:"selection-box-border-width",type:l.size},{name:"active-bg-color",type:l.color},{name:"active-bg-opacity",type:l.zeroOneNumber},{name:"active-bg-size",type:l.size},{name:"outside-texture-bg-color",type:l.color},{name:"outside-texture-bg-opacity",type:l.zeroOneNumber}],P=[];bt.pieBackgroundN=16,P.push({name:"pie-size",type:l.sizeMaybePercent});for(var T=1;T<=bt.pieBackgroundN;T++)P.push({name:"pie-"+T+"-background-color",type:l.color}),P.push({name:"pie-"+T+"-background-size",type:l.percent}),P.push({name:"pie-"+T+"-background-opacity",type:l.zeroOneNumber});var $=[],O=bt.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:l.arrowShape,triggersBounds:u.any},{name:"arrow-color",type:l.color},{name:"arrow-fill",type:l.arrowFill},{name:"arrow-width",type:l.arrowWidth}].forEach(function(H){O.forEach(function(N){var K=N+"-"+H.name,ne=H.type,he=H.triggersBounds;$.push({name:K,type:ne,triggersBounds:he})})},{});var M=bt.properties=[].concat(y,x,p,m,g,A,v,h,c,f,d,C,E,w,B,P,D,_,$,S),z=bt.propertyGroups={behavior:y,transition:x,visibility:p,overlay:m,underlay:g,ghost:A,commonLabel:v,labelDimensions:h,mainLabel:c,sourceLabel:f,targetLabel:d,nodeBody:C,nodeBorder:E,nodeOutline:w,backgroundImage:B,pie:P,compound:D,edgeLine:_,edgeArrow:$,core:S},G=bt.propertyGroupNames={},X=bt.propertyGroupKeys=Object.keys(z);X.forEach(function(H){G[H]=z[H].map(function(N){return N.name}),z[H].forEach(function(N){return N.groupKey=H})});var I=bt.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];bt.propertyNames=M.map(function(H){return H.name});for(var L=0;L<M.length;L++){var U=M[L];M[U.name]=U}for(var j=0;j<I.length;j++){var oe=I[j],se=M[oe.pointsTo],V={name:oe.name,alias:!0,pointsTo:se};M.push(V),M[oe.name]=V}})();bt.getDefaultProperty=function(t){return this.getDefaultProperties()[t]};bt.getDefaultProperties=function(){var t=this._private;if(t.defaultProperties!=null)return t.defaultProperties;for(var e=Be({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(u,l){for(var c=1;c<=bt.pieBackgroundN;c++){var f=l.name.replace("{{i}}",c),d=l.value;u[f]=d}return u},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(u,l){return bt.arrowPrefixes.forEach(function(c){var f=c+"-"+l.name,d=l.value;u[f]=d}),u},{})),r={},n=0;n<this.properties.length;n++){var a=this.properties[n];if(!a.pointsTo){var i=a.name,s=e[i],o=this.parse(i,s);r[i]=o}}return t.defaultProperties=r,t.defaultProperties};bt.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Io={};Io.parse=function(t,e,r,n){var a=this;if(Je(e))return a.parseImplWarn(t,e,r,n);var i=n==="mapping"||n===!0||n===!1||n==null?"dontcare":n,s=r?"t":"f",o=""+e,u=lp(t,o,s,i),l=a.propCache=a.propCache||[],c;return(c=l[u])||(c=l[u]=a.parseImplWarn(t,e,r,n)),(r||n==="mapping")&&(c=_r(c),c&&(c.value=_r(c.value))),c};Io.parseImplWarn=function(t,e,r,n){var a=this.parseImpl(t,e,r,n);return!a&&e!=null&&Ne("The style property `".concat(t,": ").concat(e,"` is invalid")),a&&(a.name==="width"||a.name==="height")&&e==="label"&&Ne("The style value of `label` is deprecated for `"+a.name+"`"),a};Io.parseImpl=function(t,e,r,n){var a=this;t=yc(t);var i=a.properties[t],s=e,o=a.types;if(!i||e===void 0)return null;i.alias&&(i=i.pointsTo,t=i.name);var u=_e(e);u&&(e=e.trim());var l=i.type;if(!l)return null;if(r&&(e===""||e===null))return{name:t,value:e,bypass:!0,deleteBypass:!0};if(Je(e))return{name:t,value:e,strValue:"fn",mapped:o.fn,bypass:r};var c,f;if(!(!u||n||e.length<7||e[1]!=="a")){if(e.length>=7&&e[0]==="d"&&(c=new RegExp(o.data.regex).exec(e))){if(r)return!1;var d=o.data;return{name:t,value:c,strValue:""+e,mapped:d,field:c[1],bypass:r}}else if(e.length>=10&&e[0]==="m"&&(f=new RegExp(o.mapData.regex).exec(e))){if(r||l.multiple)return!1;var h=o.mapData;if(!(l.color||l.number))return!1;var v=this.parse(t,f[4]);if(!v||v.mapped)return!1;var y=this.parse(t,f[5]);if(!y||y.mapped)return!1;if(v.pfValue===y.pfValue||v.strValue===y.strValue)return Ne("`"+t+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+t+": "+v.strValue+"`"),this.parse(t,v.strValue);if(l.color){var p=v.value,m=y.value,g=p[0]===m[0]&&p[1]===m[1]&&p[2]===m[2]&&(p[3]===m[3]||(p[3]==null||p[3]===1)&&(m[3]==null||m[3]===1));if(g)return!1}return{name:t,value:f,strValue:""+e,mapped:h,field:f[1],fieldMin:parseFloat(f[2]),fieldMax:parseFloat(f[3]),valueMin:v.value,valueMax:y.value,bypass:r}}}if(l.multiple&&n!=="multiple"){var x;if(u?x=e.split(/\s+/):Ue(e)?x=e:x=[e],l.evenMultiple&&x.length%2!==0)return null;for(var b=[],C=[],E=[],w="",B=!1,D=0;D<x.length;D++){var _=a.parse(t,x[D],r,"multiple");B=B||_e(_.value),b.push(_.value),E.push(_.pfValue!=null?_.pfValue:_.value),C.push(_.units),w+=(D>0?" ":"")+_.strValue}return l.validate&&!l.validate(b,C)?null:l.singleEnum&&B?b.length===1&&_e(b[0])?{name:t,value:b[0],strValue:b[0],bypass:r}:null:{name:t,value:b,pfValue:E,strValue:w,bypass:r,units:C}}var A=function(){for(var N=0;N<l.enums.length;N++){var K=l.enums[N];if(K===e)return{name:t,value:e,strValue:""+e,bypass:r}}return null};if(l.number){var S,P="px";if(l.units&&(S=l.units),l.implicitUnits&&(P=l.implicitUnits),!l.unitless)if(u){var T="px|em"+(l.allowPercent?"|\\%":"");S&&(T=S);var $=e.match("^("+ut+")("+T+")?$");$&&(e=$[1],S=$[2]||P)}else(!S||l.implicitUnits)&&(S=P);if(e=parseFloat(e),isNaN(e)&&l.enums===void 0)return null;if(isNaN(e)&&l.enums!==void 0)return e=s,A();if(l.integer&&!C2(e)||l.min!==void 0&&(e<l.min||l.strictMin&&e===l.min)||l.max!==void 0&&(e>l.max||l.strictMax&&e===l.max))return null;var O={name:t,value:e,strValue:""+e+(S||""),units:S,bypass:r};return l.unitless||S!=="px"&&S!=="em"?O.pfValue=e:O.pfValue=S==="px"||!S?e:this.getEmSizeInPixels()*e,(S==="ms"||S==="s")&&(O.pfValue=S==="ms"?e:1e3*e),(S==="deg"||S==="rad")&&(O.pfValue=S==="rad"?e:nC(e)),S==="%"&&(O.pfValue=e/100),O}else if(l.propList){var M=[],z=""+e;if(z!=="none"){for(var G=z.split(/\s*,\s*|\s+/),X=0;X<G.length;X++){var I=G[X].trim();a.properties[I]?M.push(I):Ne("`"+I+"` is not a valid property name")}if(M.length===0)return null}return{name:t,value:M,strValue:M.length===0?"none":M.join(" "),bypass:r}}else if(l.color){var L=z2(e);return L?{name:t,value:L,pfValue:L,strValue:"rgb("+L[0]+","+L[1]+","+L[2]+")",bypass:r}:null}else if(l.regex||l.regexes){if(l.enums){var U=A();if(U)return U}for(var j=l.regexes?l.regexes:[l.regex],oe=0;oe<j.length;oe++){var se=new RegExp(j[oe]),V=se.exec(e);if(V)return{name:t,value:l.singleRegexMatchValue?V[1]:V,strValue:""+e,bypass:r}}return null}else return l.string?{name:t,value:""+e,strValue:""+e,bypass:r}:l.enums?A():null};var kt=function t(e){if(!(this instanceof t))return new t(e);if(!mc(e)){et("A style must have a core reference");return}this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()},Ft=kt.prototype;Ft.instanceString=function(){return"style"};Ft.clear=function(){for(var t=this._private,e=t.cy,r=e.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,t.contextStyles={},t.propDiffs={},this.cleanElements(r,!0),r.forEach(function(a){var i=a[0]._private;i.styleDirty=!0,i.appliedInitStyle=!1}),this};Ft.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};Ft.core=function(t){return this._private.coreStyle[t]||this.getDefaultProperty(t)};Ft.selector=function(t){var e=t==="core"?null:new ln(t),r=this.length++;return this[r]={selector:e,properties:[],mappedProperties:[],index:r},this};Ft.css=function(){var t=this,e=arguments;if(e.length===1)for(var r=e[0],n=0;n<t.properties.length;n++){var a=t.properties[n],i=r[a.name];i===void 0&&(i=r[wo(a.name)]),i!==void 0&&this.cssRule(a.name,i)}else e.length===2&&this.cssRule(e[0],e[1]);return this};Ft.style=Ft.css;Ft.cssRule=function(t,e){var r=this.parse(t,e);if(r){var n=this.length-1;this[n].properties.push(r),this[n].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.mapped&&this[n].mappedProperties.push(r);var a=!this[n].selector;a&&(this._private.coreStyle[r.name]=r)}return this};Ft.append=function(t){return Qv(t)?t.appendToStyle(this):Ue(t)?this.appendFromJson(t):_e(t)&&this.appendFromString(t),this};kt.fromJson=function(t,e){var r=new kt(t);return r.fromJson(e),r};kt.fromString=function(t,e){return new kt(t).fromString(e)};[Rt,Ui,Fc,Ar,Oo,Rc,bt,Io].forEach(function(t){Be(Ft,t)});kt.types=Ft.types;kt.properties=Ft.properties;kt.propertyGroups=Ft.propertyGroups;kt.propertyGroupNames=Ft.propertyGroupNames;kt.propertyGroupKeys=Ft.propertyGroupKeys;var CA={style:function(e){if(e){var r=this.setStyle(e);r.update()}return this._private.style},setStyle:function(e){var r=this._private;return Qv(e)?r.style=e.generateStyle(this):Ue(e)?r.style=kt.fromJson(this,e):_e(e)?r.style=kt.fromString(this,e):r.style=kt(this),r.style},updateStyle:function(){this.mutableElements().updateStyle()}},_A="single",$n={autolock:function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},autoungrabify:function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},autounselectify:function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},selectionType:function(e){var r=this._private;if(r.selectionType==null&&(r.selectionType=_A),e!==void 0)(e==="additive"||e==="single")&&(r.selectionType=e);else return r.selectionType;return this},panningEnabled:function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},userPanningEnabled:function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},pan:function(){var e=arguments,r=this._private.pan,n,a,i,s,o;switch(e.length){case 0:return r;case 1:if(_e(e[0]))return n=e[0],r[n];if(Oe(e[0])){if(!this._private.panningEnabled)return this;i=e[0],s=i.x,o=i.y,ge(s)&&(r.x=s),ge(o)&&(r.y=o),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;n=e[0],a=e[1],(n==="x"||n==="y")&&ge(a)&&(r[n]=a),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(e,r){var n=arguments,a=this._private.pan,i,s,o,u,l;if(!this._private.panningEnabled)return this;switch(n.length){case 1:Oe(e)&&(o=n[0],u=o.x,l=o.y,ge(u)&&(a.x+=u),ge(l)&&(a.y+=l),this.emit("pan viewport"));break;case 2:i=e,s=r,(i==="x"||i==="y")&&ge(s)&&(a[i]+=s),this.emit("pan viewport");break}return this.notify("viewport"),this},fit:function(e,r){var n=this.getFitViewport(e,r);if(n){var a=this._private;a.zoom=n.zoom,a.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,r){if(ge(e)&&r===void 0&&(r=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var n;if(_e(e)){var a=e;e=this.$(a)}else if(A2(e)){var i=e;n={x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1}else Yt(e)||(e=this.mutableElements());if(!(Yt(e)&&e.empty())){n=n||e.boundingBox();var s=this.width(),o=this.height(),u;if(r=ge(r)?r:0,!isNaN(s)&&!isNaN(o)&&s>0&&o>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){u=Math.min((s-2*r)/n.w,(o-2*r)/n.h),u=u>this._private.maxZoom?this._private.maxZoom:u,u=u<this._private.minZoom?this._private.minZoom:u;var l={x:(s-u*(n.x1+n.x2))/2,y:(o-u*(n.y1+n.y2))/2};return{zoom:u,pan:l}}}}},zoomRange:function(e,r){var n=this._private;if(r==null){var a=e;e=a.min,r=a.max}return ge(e)&&ge(r)&&e<=r?(n.minZoom=e,n.maxZoom=r):ge(e)&&r===void 0&&e<=n.maxZoom?n.minZoom=e:ge(r)&&e===void 0&&r>=n.minZoom&&(n.maxZoom=r),this},minZoom:function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var r=this._private,n=r.pan,a=r.zoom,i,s,o=!1;if(r.zoomingEnabled||(o=!0),ge(e)?s=e:Oe(e)&&(s=e.level,e.position!=null?i=Bo(e.position,a,n):e.renderedPosition!=null&&(i=e.renderedPosition),i!=null&&!r.panningEnabled&&(o=!0)),s=s>r.maxZoom?r.maxZoom:s,s=s<r.minZoom?r.minZoom:s,o||!ge(s)||s===a||i!=null&&(!ge(i.x)||!ge(i.y)))return null;if(i!=null){var u=n,l=a,c=s,f={x:-c/l*(i.x-u.x)+i.x,y:-c/l*(i.y-u.y)+i.y};return{zoomed:!0,panned:!0,zoom:c,pan:f}}else return{zoomed:!0,panned:!1,zoom:s,pan:n}},zoom:function(e){if(e===void 0)return this._private.zoom;var r=this.getZoomedViewport(e),n=this._private;return r==null||!r.zoomed?this:(n.zoom=r.zoom,r.panned&&(n.pan.x=r.pan.x,n.pan.y=r.pan.y),this.emit("zoom"+(r.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(e){var r=this._private,n=!0,a=!0,i=[],s=!1,o=!1;if(!e)return this;if(ge(e.zoom)||(n=!1),Oe(e.pan)||(a=!1),!n&&!a)return this;if(n){var u=e.zoom;u<r.minZoom||u>r.maxZoom||!r.zoomingEnabled?s=!0:(r.zoom=u,i.push("zoom"))}if(a&&(!s||!e.cancelOnFailedZoom)&&r.panningEnabled){var l=e.pan;ge(l.x)&&(r.pan.x=l.x,o=!1),ge(l.y)&&(r.pan.y=l.y,o=!1),o||i.push("pan")}return i.length>0&&(i.push("viewport"),this.emit(i.join(" ")),this.notify("viewport")),this},center:function(e){var r=this.getCenterPan(e);return r&&(this._private.pan=r,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,r){if(this._private.panningEnabled){if(_e(e)){var n=e;e=this.mutableElements().filter(n)}else Yt(e)||(e=this.mutableElements());if(e.length!==0){var a=e.boundingBox(),i=this.width(),s=this.height();r=r===void 0?this._private.zoom:r;var o={x:(i-r*(a.x1+a.x2))/2,y:(s-r*(a.y1+a.y2))/2};return o}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,r=e.container,n=this;return e.sizeCache=e.sizeCache||(r?function(){var a=n.window().getComputedStyle(r),i=function(o){return parseFloat(a.getPropertyValue(o))};return{width:r.clientWidth-i("padding-left")-i("padding-right"),height:r.clientHeight-i("padding-top")-i("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,r=this._private.zoom,n=this.renderedExtent(),a={x1:(n.x1-e.x)/r,x2:(n.x2-e.x)/r,y1:(n.y1-e.y)/r,y2:(n.y2-e.y)/r};return a.w=a.x2-a.x1,a.h=a.y2-a.y1,a},renderedExtent:function(){var e=this.width(),r=this.height();return{x1:0,y1:0,x2:e,y2:r,w:e,h:r}},multiClickDebounceTime:function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this}};$n.centre=$n.center;$n.autolockNodes=$n.autolock;$n.autoungrabifyNodes=$n.autoungrabify;var Ri={data:$e.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:$e.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:$e.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:$e.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};Ri.attr=Ri.data;Ri.removeAttr=Ri.removeData;var Oi=function(e){var r=this;e=Be({},e);var n=e.container;n&&!Ns(n)&&Ns(n[0])&&(n=n[0]);var a=n?n._cyreg:null;a=a||{},a&&a.cy&&(a.cy.destroy(),a={});var i=a.readies=a.readies||[];n&&(n._cyreg=a),a.cy=r;var s=ot!==void 0&&n!==void 0&&!e.headless,o=e;o.layout=Be({name:s?"grid":"null"},o.layout),o.renderer=Be({name:s?"canvas":"null"},o.renderer);var u=function(v,y,p){return y!==void 0?y:p!==void 0?p:v},l=this._private={container:n,ready:!1,options:o,elements:new Ct(this),listeners:[],aniEles:new Ct(this),data:o.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:u(!0,o.zoomingEnabled),userZoomingEnabled:u(!0,o.userZoomingEnabled),panningEnabled:u(!0,o.panningEnabled),userPanningEnabled:u(!0,o.userPanningEnabled),boxSelectionEnabled:u(!0,o.boxSelectionEnabled),autolock:u(!1,o.autolock,o.autolockNodes),autoungrabify:u(!1,o.autoungrabify,o.autoungrabifyNodes),autounselectify:u(!1,o.autounselectify),styleEnabled:o.styleEnabled===void 0?s:o.styleEnabled,zoom:ge(o.zoom)?o.zoom:1,pan:{x:Oe(o.pan)&&ge(o.pan.x)?o.pan.x:0,y:Oe(o.pan)&&ge(o.pan.y)?o.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:u(250,o.multiClickDebounceTime)};this.createEmitter(),this.selectionType(o.selectionType),this.zoomRange({min:o.minZoom,max:o.maxZoom});var c=function(v,y){var p=v.some(D2);if(p)return Fa.all(v).then(y);y(v)};l.styleEnabled&&r.setStyle([]);var f=Be({},o,o.renderer);r.initRenderer(f);var d=function(v,y,p){r.notifications(!1);var m=r.mutableElements();m.length>0&&m.remove(),v!=null&&(Oe(v)||Ue(v))&&r.add(v),r.one("layoutready",function(x){r.notifications(!0),r.emit(x),r.one("load",y),r.emitAndNotify("load")}).one("layoutstop",function(){r.one("done",p),r.emit("done")});var g=Be({},r._private.options.layout);g.eles=r.elements(),r.layout(g).run()};c([o.style,o.elements],function(h){var v=h[0],y=h[1];l.styleEnabled&&r.style().append(v),d(y,function(){r.startAnimationLoop(),l.ready=!0,Je(o.ready)&&r.on("ready",o.ready);for(var p=0;p<i.length;p++){var m=i[p];r.on("ready",m)}a&&(a.readies=[]),r.emit("ready")},o.done)})},Ws=Oi.prototype;Be(Ws,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},window:function(){var e=this._private.container;if(e==null)return ot;var r=this._private.container.ownerDocument;return r===void 0||r==null?ot:r.defaultView||ot},mount:function(e){if(e!=null){var r=this,n=r._private,a=n.options;return!Ns(e)&&Ns(e[0])&&(e=e[0]),r.stopAnimationLoop(),r.destroyRenderer(),n.container=e,n.styleEnabled=!0,r.invalidateSize(),r.initRenderer(Be({},a,a.renderer,{name:a.renderer.name==="null"?"canvas":a.renderer.name})),r.startAnimationLoop(),r.style(a.style),r.emit("mount"),r}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return _r(this._private.options)},json:function(e){var r=this,n=r._private,a=r.mutableElements(),i=function(b){return r.getElementById(b.id())};if(Oe(e)){if(r.startBatch(),e.elements){var s={},o=function(b,C){for(var E=[],w=[],B=0;B<b.length;B++){var D=b[B];if(!D.data.id){Ne("cy.json() cannot handle elements without an ID attribute");continue}var _=""+D.data.id,A=r.getElementById(_);s[_]=!0,A.length!==0?w.push({ele:A,json:D}):(C&&(D.group=C),E.push(D))}r.add(E);for(var S=0;S<w.length;S++){var P=w[S],T=P.ele,$=P.json;T.json($)}};if(Ue(e.elements))o(e.elements);else for(var u=["nodes","edges"],l=0;l<u.length;l++){var c=u[l],f=e.elements[c];Ue(f)&&o(f,c)}var d=r.collection();a.filter(function(x){return!s[x.id()]}).forEach(function(x){x.isParent()?d.merge(x):x.remove()}),d.forEach(function(x){return x.children().move({parent:null})}),d.forEach(function(x){return i(x).remove()})}e.style&&r.style(e.style),e.zoom!=null&&e.zoom!==n.zoom&&r.zoom(e.zoom),e.pan&&(e.pan.x!==n.pan.x||e.pan.y!==n.pan.y)&&r.pan(e.pan),e.data&&r.data(e.data);for(var h=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],v=0;v<h.length;v++){var y=h[v];e[y]!=null&&r[y](e[y])}return r.endBatch(),this}else{var p=!!e,m={};p?m.elements=this.elements().map(function(x){return x.json()}):(m.elements={},a.forEach(function(x){var b=x.group();m.elements[b]||(m.elements[b]=[]),m.elements[b].push(x.json())})),this._private.styleEnabled&&(m.style=r.style().json()),m.data=_r(r.data());var g=n.options;return m.zoomingEnabled=n.zoomingEnabled,m.userZoomingEnabled=n.userZoomingEnabled,m.zoom=n.zoom,m.minZoom=n.minZoom,m.maxZoom=n.maxZoom,m.panningEnabled=n.panningEnabled,m.userPanningEnabled=n.userPanningEnabled,m.pan=_r(n.pan),m.boxSelectionEnabled=n.boxSelectionEnabled,m.renderer=_r(g.renderer),m.hideEdgesOnViewport=g.hideEdgesOnViewport,m.textureOnViewport=g.textureOnViewport,m.wheelSensitivity=g.wheelSensitivity,m.motionBlur=g.motionBlur,m.multiClickDebounceTime=g.multiClickDebounceTime,m}}});Ws.$id=Ws.getElementById;[hA,yA,Jp,Du,Ss,bA,Su,ks,CA,$n,Ri].forEach(function(t){Be(Ws,t)});var BA={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}},AA={maximal:!1,acyclic:!1},na=function(e){return e.scratch("breadthfirst")},Td=function(e,r){return e.scratch("breadthfirst",r)};function eg(t){this.options=Be({},BA,AA,t)}eg.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,a=n.nodes().filter(function(F){return!F.isParent()}),i=n,s=e.directed,o=e.acyclic||e.maximal||e.maximalAdjustments>0,u=jt(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),l;if(Yt(e.roots))l=e.roots;else if(Ue(e.roots)){for(var c=[],f=0;f<e.roots.length;f++){var d=e.roots[f],h=r.getElementById(d);c.push(h)}l=r.collection(c)}else if(_e(e.roots))l=r.$(e.roots);else if(s)l=a.roots();else{var v=n.components();l=r.collection();for(var y=function(q){var Z=v[q],Y=Z.maxDegree(!1),te=Z.filter(function(le){return le.degree(!1)===Y});l=l.add(te)},p=0;p<v.length;p++)y(p)}var m=[],g={},x=function(q,Z){m[Z]==null&&(m[Z]=[]);var Y=m[Z].length;m[Z].push(q),Td(q,{index:Y,depth:Z})},b=function(q,Z){var Y=na(q),te=Y.depth,le=Y.index;m[te][le]=null,x(q,Z)};i.bfs({roots:l,directed:e.directed,visit:function(q,Z,Y,te,le){var ce=q[0],ue=ce.id();x(ce,le),g[ue]=!0}});for(var C=[],E=0;E<a.length;E++){var w=a[E];g[w.id()]||C.push(w)}var B=function(q){for(var Z=m[q],Y=0;Y<Z.length;Y++){var te=Z[Y];if(te==null){Z.splice(Y,1),Y--;continue}Td(te,{depth:q,index:Y})}},D=function(){for(var q=0;q<m.length;q++)B(q)},_=function(q,Z){for(var Y=na(q),te=q.incomers().filter(function(k){return k.isNode()&&n.has(k)}),le=-1,ce=q.id(),ue=0;ue<te.length;ue++){var ae=te[ue],fe=na(ae);le=Math.max(le,fe.depth)}if(Y.depth<=le){if(!e.acyclic&&Z[ce])return null;var Q=le+1;return b(q,Q),Z[ce]=Q,!0}return!1};if(s&&o){var A=[],S={},P=function(q){return A.push(q)},T=function(){return A.shift()};for(a.forEach(function(F){return A.push(F)});A.length>0;){var $=T(),O=_($,S);if(O)$.outgoers().filter(function(F){return F.isNode()&&n.has(F)}).forEach(P);else if(O===null){Ne("Detected double maximal shift for node `"+$.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}D();var M=0;if(e.avoidOverlap)for(var z=0;z<a.length;z++){var G=a[z],X=G.layoutDimensions(e),I=X.w,L=X.h;M=Math.max(M,I,L)}var U={},j=function(q){if(U[q.id()])return U[q.id()];for(var Z=na(q).depth,Y=q.neighborhood(),te=0,le=0,ce=0;ce<Y.length;ce++){var ue=Y[ce];if(!(ue.isEdge()||ue.isParent()||!a.has(ue))){var ae=na(ue);if(ae!=null){var fe=ae.index,Q=ae.depth;if(!(fe==null||Q==null)){var k=m[Q].length;Q<Z&&(te+=fe/k,le++)}}}}return le=Math.max(1,le),te=te/le,le===0&&(te=0),U[q.id()]=te,te},oe=function(q,Z){var Y=j(q),te=j(Z),le=Y-te;return le===0?ep(q.id(),Z.id()):le};e.depthSort!==void 0&&(oe=e.depthSort);for(var se=0;se<m.length;se++)m[se].sort(oe),B(se);for(var V=[],H=0;H<C.length;H++)V.push(C[H]);m.unshift(V),D();for(var N=0,K=0;K<m.length;K++)N=Math.max(m[K].length,N);var ne={x:u.x1+u.w/2,y:u.x1+u.h/2},he=m.reduce(function(F,q){return Math.max(F,q.length)},0),R=function(q){var Z=na(q),Y=Z.depth,te=Z.index,le=m[Y].length,ce=Math.max(u.w/((e.grid?he:le)+1),M),ue=Math.max(u.h/(m.length+1),M),ae=Math.min(u.w/2/m.length,u.h/2/m.length);if(ae=Math.max(ae,M),e.circle){var Q=ae*Y+ae-(m.length>0&&m[0].length<=3?ae/2:0),k=2*Math.PI/m[Y].length*te;return Y===0&&m[0].length===1&&(Q=1),{x:ne.x+Q*Math.cos(k),y:ne.y+Q*Math.sin(k)}}else{var fe={x:ne.x+(te+1-(le+1)/2)*ce,y:(Y+1)*ue};return fe}};return n.nodes().layoutPositions(this,e,R),this};var DA={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function tg(t){this.options=Be({},DA,t)}tg.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,a=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,i=n.nodes().not(":parent");e.sort&&(i=i.sort(e.sort));for(var s=jt(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),o={x:s.x1+s.w/2,y:s.y1+s.h/2},u=e.sweep===void 0?2*Math.PI-2*Math.PI/i.length:e.sweep,l=u/Math.max(1,i.length-1),c,f=0,d=0;d<i.length;d++){var h=i[d],v=h.layoutDimensions(e),y=v.w,p=v.h;f=Math.max(f,y,p)}if(ge(e.radius)?c=e.radius:i.length<=1?c=0:c=Math.min(s.h,s.w)/2-f,i.length>1&&e.avoidOverlap){f*=1.75;var m=Math.cos(l)-Math.cos(0),g=Math.sin(l)-Math.sin(0),x=Math.sqrt(f*f/(m*m+g*g));c=Math.max(x,c)}var b=function(E,w){var B=e.startAngle+w*l*(a?1:-1),D=c*Math.cos(B),_=c*Math.sin(B),A={x:o.x+D,y:o.y+_};return A};return n.nodes().layoutPositions(this,e,b),this};var SA={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function rg(t){this.options=Be({},SA,t)}rg.prototype.run=function(){for(var t=this.options,e=t,r=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,n=t.cy,a=e.eles,i=a.nodes().not(":parent"),s=jt(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),o={x:s.x1+s.w/2,y:s.y1+s.h/2},u=[],l=0,c=0;c<i.length;c++){var f=i[c],d=void 0;d=e.concentric(f),u.push({value:d,node:f}),f._private.scratch.concentric=d}i.updateStyle();for(var h=0;h<i.length;h++){var v=i[h],y=v.layoutDimensions(e);l=Math.max(l,y.w,y.h)}u.sort(function(F,q){return q.value-F.value});for(var p=e.levelWidth(i),m=[[]],g=m[0],x=0;x<u.length;x++){var b=u[x];if(g.length>0){var C=Math.abs(g[0].value-b.value);C>=p&&(g=[],m.push(g))}g.push(b)}var E=l+e.minNodeSpacing;if(!e.avoidOverlap){var w=m.length>0&&m[0].length>1,B=Math.min(s.w,s.h)/2-E,D=B/(m.length+w?1:0);E=Math.min(E,D)}for(var _=0,A=0;A<m.length;A++){var S=m[A],P=e.sweep===void 0?2*Math.PI-2*Math.PI/S.length:e.sweep,T=S.dTheta=P/Math.max(1,S.length-1);if(S.length>1&&e.avoidOverlap){var $=Math.cos(T)-Math.cos(0),O=Math.sin(T)-Math.sin(0),M=Math.sqrt(E*E/($*$+O*O));_=Math.max(M,_)}S.r=_,_+=E}if(e.equidistant){for(var z=0,G=0,X=0;X<m.length;X++){var I=m[X],L=I.r-G;z=Math.max(z,L)}G=0;for(var U=0;U<m.length;U++){var j=m[U];U===0&&(G=j.r),j.r=G,G+=z}}for(var oe={},se=0;se<m.length;se++)for(var V=m[se],H=V.dTheta,N=V.r,K=0;K<V.length;K++){var ne=V[K],he=e.startAngle+(r?1:-1)*H*K,R={x:o.x+N*Math.cos(he),y:o.y+N*Math.sin(he)};oe[ne.node.id()]=R}return a.nodes().layoutPositions(this,e,function(F){var q=F.id();return oe[q]}),this};var Gl,kA={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,r){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Lo(t){this.options=Be({},kA,t),this.options.layout=this;var e=this.options.eles.nodes(),r=this.options.eles.edges(),n=r.filter(function(a){var i=a.source().data("id"),s=a.target().data("id"),o=e.some(function(l){return l.data("id")===i}),u=e.some(function(l){return l.data("id")===s});return!o||!u});this.options.eles=this.options.eles.not(n)}Lo.prototype.run=function(){var t=this.options,e=t.cy,r=this;r.stopped=!1,(t.animate===!0||t.animate===!1)&&r.emit({type:"layoutstart",layout:r}),t.debug===!0?Gl=!0:Gl=!1;var n=TA(e,r,t);Gl&&RA(n),t.randomize&&OA(n);var a=Or(),i=function(){IA(n,e,t),t.fit===!0&&e.fit(t.padding)},s=function(d){return!(r.stopped||d>=t.numIter||(LA(n,t),n.temperature=n.temperature*t.coolingFactor,n.temperature<t.minTemp))},o=function(){if(t.animate===!0||t.animate===!1)i(),r.one("layoutstop",t.stop),r.emit({type:"layoutstop",layout:r});else{var d=t.eles.nodes(),h=ng(n,t,d);d.layoutPositions(r,t,h)}},u=0,l=!0;if(t.animate===!0){var c=function f(){for(var d=0;l&&d<t.refresh;)l=s(u),u++,d++;if(!l)Fd(n,t),o();else{var h=Or();h-a>=t.animationThreshold&&i(),zs(f)}};c()}else{for(;l;)l=s(u),u++;Fd(n,t),o()}return this};Lo.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};Lo.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var TA=function(e,r,n){for(var a=n.eles.edges(),i=n.eles.nodes(),s=jt(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),o={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:i.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:a.size(),temperature:n.initialTemp,clientWidth:s.w,clientHeight:s.h,boundingBox:s},u=n.eles.components(),l={},c=0;c<u.length;c++)for(var f=u[c],d=0;d<f.length;d++){var h=f[d];l[h.id()]=c}for(var c=0;c<o.nodeSize;c++){var v=i[c],y=v.layoutDimensions(n),p={};p.isLocked=v.locked(),p.id=v.data("id"),p.parentId=v.data("parent"),p.cmptId=l[v.id()],p.children=[],p.positionX=v.position("x"),p.positionY=v.position("y"),p.offsetX=0,p.offsetY=0,p.height=y.w,p.width=y.h,p.maxX=p.positionX+p.width/2,p.minX=p.positionX-p.width/2,p.maxY=p.positionY+p.height/2,p.minY=p.positionY-p.height/2,p.padLeft=parseFloat(v.style("padding")),p.padRight=parseFloat(v.style("padding")),p.padTop=parseFloat(v.style("padding")),p.padBottom=parseFloat(v.style("padding")),p.nodeRepulsion=Je(n.nodeRepulsion)?n.nodeRepulsion(v):n.nodeRepulsion,o.layoutNodes.push(p),o.idToIndex[p.id]=c}for(var m=[],g=0,x=-1,b=[],c=0;c<o.nodeSize;c++){var v=o.layoutNodes[c],C=v.parentId;C!=null?o.layoutNodes[o.idToIndex[C]].children.push(v.id):(m[++x]=v.id,b.push(v.id))}for(o.graphSet.push(b);g<=x;){var E=m[g++],w=o.idToIndex[E],h=o.layoutNodes[w],B=h.children;if(B.length>0){o.graphSet.push(B);for(var c=0;c<B.length;c++)m[++x]=B[c]}}for(var c=0;c<o.graphSet.length;c++)for(var D=o.graphSet[c],d=0;d<D.length;d++){var _=o.idToIndex[D[d]];o.indexToGraph[_]=c}for(var c=0;c<o.edgeSize;c++){var A=a[c],S={};S.id=A.data("id"),S.sourceId=A.data("source"),S.targetId=A.data("target");var P=Je(n.idealEdgeLength)?n.idealEdgeLength(A):n.idealEdgeLength,T=Je(n.edgeElasticity)?n.edgeElasticity(A):n.edgeElasticity,$=o.idToIndex[S.sourceId],O=o.idToIndex[S.targetId],M=o.indexToGraph[$],z=o.indexToGraph[O];if(M!=z){for(var G=PA(S.sourceId,S.targetId,o),X=o.graphSet[G],I=0,p=o.layoutNodes[$];X.indexOf(p.id)===-1;)p=o.layoutNodes[o.idToIndex[p.parentId]],I++;for(p=o.layoutNodes[O];X.indexOf(p.id)===-1;)p=o.layoutNodes[o.idToIndex[p.parentId]],I++;P*=I*n.nestingFactor}S.idealLength=P,S.elasticity=T,o.layoutEdges.push(S)}return o},PA=function(e,r,n){var a=FA(e,r,0,n);return 2>a.count?0:a.graph},FA=function t(e,r,n,a){var i=a.graphSet[n];if(-1<i.indexOf(e)&&-1<i.indexOf(r))return{count:2,graph:n};for(var s=0,o=0;o<i.length;o++){var u=i[o],l=a.idToIndex[u],c=a.layoutNodes[l].children;if(c.length!==0){var f=a.indexToGraph[a.idToIndex[c[0]]],d=t(e,r,f,a);if(d.count!==0)if(d.count===1){if(s++,s===2)break}else return d}}return{count:s,graph:n}},RA,OA=function(e,r){for(var n=e.clientWidth,a=e.clientHeight,i=0;i<e.nodeSize;i++){var s=e.layoutNodes[i];s.children.length===0&&!s.isLocked&&(s.positionX=Math.random()*n,s.positionY=Math.random()*a)}},ng=function(e,r,n){var a=e.boundingBox,i={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return r.boundingBox&&(n.forEach(function(s){var o=e.layoutNodes[e.idToIndex[s.data("id")]];i.x1=Math.min(i.x1,o.positionX),i.x2=Math.max(i.x2,o.positionX),i.y1=Math.min(i.y1,o.positionY),i.y2=Math.max(i.y2,o.positionY)}),i.w=i.x2-i.x1,i.h=i.y2-i.y1),function(s,o){var u=e.layoutNodes[e.idToIndex[s.data("id")]];if(r.boundingBox){var l=(u.positionX-i.x1)/i.w,c=(u.positionY-i.y1)/i.h;return{x:a.x1+l*a.w,y:a.y1+c*a.h}}else return{x:u.positionX,y:u.positionY}}},IA=function(e,r,n){var a=n.layout,i=n.eles.nodes(),s=ng(e,n,i);i.positions(s),e.ready!==!0&&(e.ready=!0,a.one("layoutready",n.ready),a.emit({type:"layoutready",layout:this}))},LA=function(e,r,n){MA(e,r),zA(e),HA(e,r),qA(e),VA(e)},MA=function(e,r){for(var n=0;n<e.graphSet.length;n++)for(var a=e.graphSet[n],i=a.length,s=0;s<i;s++)for(var o=e.layoutNodes[e.idToIndex[a[s]]],u=s+1;u<i;u++){var l=e.layoutNodes[e.idToIndex[a[u]]];$A(o,l,e,r)}},Pd=function(e){return-e+2*e*Math.random()},$A=function(e,r,n,a){var i=e.cmptId,s=r.cmptId;if(!(i!==s&&!n.isCompound)){var o=r.positionX-e.positionX,u=r.positionY-e.positionY,l=1;o===0&&u===0&&(o=Pd(l),u=Pd(l));var c=NA(e,r,o,u);if(c>0)var f=a.nodeOverlap*c,d=Math.sqrt(o*o+u*u),h=f*o/d,v=f*u/d;else var y=Ks(e,o,u),p=Ks(r,-1*o,-1*u),m=p.x-y.x,g=p.y-y.y,x=m*m+g*g,d=Math.sqrt(x),f=(e.nodeRepulsion+r.nodeRepulsion)/x,h=f*m/d,v=f*g/d;e.isLocked||(e.offsetX-=h,e.offsetY-=v),r.isLocked||(r.offsetX+=h,r.offsetY+=v)}},NA=function(e,r,n,a){if(n>0)var i=e.maxX-r.minX;else var i=r.maxX-e.minX;if(a>0)var s=e.maxY-r.minY;else var s=r.maxY-e.minY;return i>=0&&s>=0?Math.sqrt(i*i+s*s):0},Ks=function(e,r,n){var a=e.positionX,i=e.positionY,s=e.height||1,o=e.width||1,u=n/r,l=s/o,c={};return r===0&&0<n||r===0&&0>n?(c.x=a,c.y=i+s/2,c):0<r&&-1*l<=u&&u<=l?(c.x=a+o/2,c.y=i+o*n/2/r,c):0>r&&-1*l<=u&&u<=l?(c.x=a-o/2,c.y=i-o*n/2/r,c):0<n&&(u<=-1*l||u>=l)?(c.x=a+s*r/2/n,c.y=i+s/2,c):(0>n&&(u<=-1*l||u>=l)&&(c.x=a-s*r/2/n,c.y=i-s/2),c)},zA=function(e,r){for(var n=0;n<e.edgeSize;n++){var a=e.layoutEdges[n],i=e.idToIndex[a.sourceId],s=e.layoutNodes[i],o=e.idToIndex[a.targetId],u=e.layoutNodes[o],l=u.positionX-s.positionX,c=u.positionY-s.positionY;if(!(l===0&&c===0)){var f=Ks(s,l,c),d=Ks(u,-1*l,-1*c),h=d.x-f.x,v=d.y-f.y,y=Math.sqrt(h*h+v*v),p=Math.pow(a.idealLength-y,2)/a.elasticity;if(y!==0)var m=p*h/y,g=p*v/y;else var m=0,g=0;s.isLocked||(s.offsetX+=m,s.offsetY+=g),u.isLocked||(u.offsetX-=m,u.offsetY-=g)}}},HA=function(e,r){if(r.gravity!==0)for(var n=1,a=0;a<e.graphSet.length;a++){var i=e.graphSet[a],s=i.length;if(a===0)var o=e.clientHeight/2,u=e.clientWidth/2;else var l=e.layoutNodes[e.idToIndex[i[0]]],c=e.layoutNodes[e.idToIndex[l.parentId]],o=c.positionX,u=c.positionY;for(var f=0;f<s;f++){var d=e.layoutNodes[e.idToIndex[i[f]]];if(!d.isLocked){var h=o-d.positionX,v=u-d.positionY,y=Math.sqrt(h*h+v*v);if(y>n){var p=r.gravity*h/y,m=r.gravity*v/y;d.offsetX+=p,d.offsetY+=m}}}}},qA=function(e,r){var n=[],a=0,i=-1;for(n.push.apply(n,e.graphSet[0]),i+=e.graphSet[0].length;a<=i;){var s=n[a++],o=e.idToIndex[s],u=e.layoutNodes[o],l=u.children;if(0<l.length&&!u.isLocked){for(var c=u.offsetX,f=u.offsetY,d=0;d<l.length;d++){var h=e.layoutNodes[e.idToIndex[l[d]]];h.offsetX+=c,h.offsetY+=f,n[++i]=l[d]}u.offsetX=0,u.offsetY=0}}},VA=function(e,r){for(var n=0;n<e.nodeSize;n++){var a=e.layoutNodes[n];0<a.children.length&&(a.maxX=void 0,a.minX=void 0,a.maxY=void 0,a.minY=void 0)}for(var n=0;n<e.nodeSize;n++){var a=e.layoutNodes[n];if(!(0<a.children.length||a.isLocked)){var i=UA(a.offsetX,a.offsetY,e.temperature);a.positionX+=i.x,a.positionY+=i.y,a.offsetX=0,a.offsetY=0,a.minX=a.positionX-a.width,a.maxX=a.positionX+a.width,a.minY=a.positionY-a.height,a.maxY=a.positionY+a.height,jA(a,e)}}for(var n=0;n<e.nodeSize;n++){var a=e.layoutNodes[n];0<a.children.length&&!a.isLocked&&(a.positionX=(a.maxX+a.minX)/2,a.positionY=(a.maxY+a.minY)/2,a.width=a.maxX-a.minX,a.height=a.maxY-a.minY)}},UA=function(e,r,n){var a=Math.sqrt(e*e+r*r);if(a>n)var i={x:n*e/a,y:n*r/a};else var i={x:e,y:r};return i},jA=function t(e,r){var n=e.parentId;if(n!=null){var a=r.layoutNodes[r.idToIndex[n]],i=!1;if((a.maxX==null||e.maxX+a.padRight>a.maxX)&&(a.maxX=e.maxX+a.padRight,i=!0),(a.minX==null||e.minX-a.padLeft<a.minX)&&(a.minX=e.minX-a.padLeft,i=!0),(a.maxY==null||e.maxY+a.padBottom>a.maxY)&&(a.maxY=e.maxY+a.padBottom,i=!0),(a.minY==null||e.minY-a.padTop<a.minY)&&(a.minY=e.minY-a.padTop,i=!0),i)return t(a,r)}},Fd=function(e,r){for(var n=e.layoutNodes,a=[],i=0;i<n.length;i++){var s=n[i],o=s.cmptId,u=a[o]=a[o]||[];u.push(s)}for(var l=0,i=0;i<a.length;i++){var c=a[i];if(c){c.x1=1/0,c.x2=-1/0,c.y1=1/0,c.y2=-1/0;for(var f=0;f<c.length;f++){var d=c[f];c.x1=Math.min(c.x1,d.positionX-d.width/2),c.x2=Math.max(c.x2,d.positionX+d.width/2),c.y1=Math.min(c.y1,d.positionY-d.height/2),c.y2=Math.max(c.y2,d.positionY+d.height/2)}c.w=c.x2-c.x1,c.h=c.y2-c.y1,l+=c.w*c.h}}a.sort(function(g,x){return x.w*x.h-g.w*g.h});for(var h=0,v=0,y=0,p=0,m=Math.sqrt(l)*e.clientWidth/e.clientHeight,i=0;i<a.length;i++){var c=a[i];if(c){for(var f=0;f<c.length;f++){var d=c[f];d.isLocked||(d.positionX+=h-c.x1,d.positionY+=v-c.y1)}h+=c.w+r.componentSpacing,y+=c.w+r.componentSpacing,p=Math.max(p,c.h),y>m&&(v+=p+r.componentSpacing,h=0,y=0,p=0)}}},WA={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function ag(t){this.options=Be({},WA,t)}ag.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,a=n.nodes().not(":parent");e.sort&&(a=a.sort(e.sort));var i=jt(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(i.h===0||i.w===0)n.nodes().layoutPositions(this,e,function(U){return{x:i.x1,y:i.y1}});else{var s=a.size(),o=Math.sqrt(s*i.h/i.w),u=Math.round(o),l=Math.round(i.w/i.h*o),c=function(j){if(j==null)return Math.min(u,l);var oe=Math.min(u,l);oe==u?u=j:l=j},f=function(j){if(j==null)return Math.max(u,l);var oe=Math.max(u,l);oe==u?u=j:l=j},d=e.rows,h=e.cols!=null?e.cols:e.columns;if(d!=null&&h!=null)u=d,l=h;else if(d!=null&&h==null)u=d,l=Math.ceil(s/u);else if(d==null&&h!=null)l=h,u=Math.ceil(s/l);else if(l*u>s){var v=c(),y=f();(v-1)*y>=s?c(v-1):(y-1)*v>=s&&f(y-1)}else for(;l*u<s;){var p=c(),m=f();(m+1)*p>=s?f(m+1):c(p+1)}var g=i.w/l,x=i.h/u;if(e.condense&&(g=0,x=0),e.avoidOverlap)for(var b=0;b<a.length;b++){var C=a[b],E=C._private.position;(E.x==null||E.y==null)&&(E.x=0,E.y=0);var w=C.layoutDimensions(e),B=e.avoidOverlapPadding,D=w.w+B,_=w.h+B;g=Math.max(g,D),x=Math.max(x,_)}for(var A={},S=function(j,oe){return!!A["c-"+j+"-"+oe]},P=function(j,oe){A["c-"+j+"-"+oe]=!0},T=0,$=0,O=function(){$++,$>=l&&($=0,T++)},M={},z=0;z<a.length;z++){var G=a[z],X=e.position(G);if(X&&(X.row!==void 0||X.col!==void 0)){var I={row:X.row,col:X.col};if(I.col===void 0)for(I.col=0;S(I.row,I.col);)I.col++;else if(I.row===void 0)for(I.row=0;S(I.row,I.col);)I.row++;M[G.id()]=I,P(I.row,I.col)}}var L=function(j,oe){var se,V;if(j.locked()||j.isParent())return!1;var H=M[j.id()];if(H)se=H.col*g+g/2+i.x1,V=H.row*x+x/2+i.y1;else{for(;S(T,$);)O();se=$*g+g/2+i.x1,V=T*x+x/2+i.y1,P(T,$),O()}return{x:se,y:V}};a.layoutPositions(this,e,L)}return this};var KA={ready:function(){},stop:function(){}};function Oc(t){this.options=Be({},KA,t)}Oc.prototype.run=function(){var t=this.options,e=t.eles,r=this;return t.cy,r.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",t.ready),r.emit("layoutready"),r.one("layoutstop",t.stop),r.emit("layoutstop"),this};Oc.prototype.stop=function(){return this};var GA={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function ig(t){this.options=Be({},GA,t)}ig.prototype.run=function(){var t=this.options,e=t.eles,r=e.nodes(),n=Je(t.positions);function a(i){if(t.positions==null)return QE(i.position());if(n)return t.positions(i);var s=t.positions[i._private.data.id];return s??null}return r.layoutPositions(this,t,function(i,s){var o=a(i);return i.locked()||o==null?!1:o}),this};var YA={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function sg(t){this.options=Be({},YA,t)}sg.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles,n=jt(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),a=function(s,o){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}};return r.nodes().layoutPositions(this,t,a),this};var XA=[{name:"breadthfirst",impl:eg},{name:"circle",impl:tg},{name:"concentric",impl:rg},{name:"cose",impl:Lo},{name:"grid",impl:ag},{name:"null",impl:Oc},{name:"preset",impl:ig},{name:"random",impl:sg}];function og(t){this.options=t,this.notifications=0}var Rd=function(){},Od=function(){throw new Error("A headless instance can not render images")};og.prototype={recalculateRenderedStyle:Rd,notify:function(){this.notifications++},init:Rd,isHeadless:function(){return!0},png:Od,jpg:Od};var Ic={};Ic.arrowShapeWidth=.3;Ic.registerArrowShapes=function(){var t=this.arrowShapes={},e=this,r=function(l,c,f,d,h,v,y){var p=h.x-f/2-y,m=h.x+f/2+y,g=h.y-f/2-y,x=h.y+f/2+y,b=p<=l&&l<=m&&g<=c&&c<=x;return b},n=function(l,c,f,d,h){var v=l*Math.cos(d)-c*Math.sin(d),y=l*Math.sin(d)+c*Math.cos(d),p=v*f,m=y*f,g=p+h.x,x=m+h.y;return{x:g,y:x}},a=function(l,c,f,d){for(var h=[],v=0;v<l.length;v+=2){var y=l[v],p=l[v+1];h.push(n(y,p,c,f,d))}return h},i=function(l){for(var c=[],f=0;f<l.length;f++){var d=l[f];c.push(d.x,d.y)}return c},s=function(l){return l.pstyle("width").pfValue*l.pstyle("arrow-scale").pfValue*2},o=function(l,c){_e(c)&&(c=t[c]),t[l]=Be({name:l,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(d,h,v,y,p,m){var g=i(a(this.points,v+2*m,y,p)),x=qt(d,h,g);return x},roughCollide:r,draw:function(d,h,v,y){var p=a(this.points,h,v,y);e.arrowShapeImpl("polygon")(d,p)},spacing:function(d){return 0},gap:s},c)};o("none",{collide:Hs,roughCollide:Hs,draw:bc,spacing:U0,gap:U0}),o("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),o("arrow","triangle"),o("triangle-backcurve",{points:t.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(l,c,f,d,h){var v=a(this.points,c,f,d),y=this.controlPoint,p=n(y[0],y[1],c,f,d);e.arrowShapeImpl(this.name)(l,v,p)},gap:function(l){return s(l)*.8}}),o("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(l,c,f,d,h,v,y){var p=i(a(this.points,f+2*y,d,h)),m=i(a(this.pointsTee,f+2*y,d,h)),g=qt(l,c,p)||qt(l,c,m);return g},draw:function(l,c,f,d,h){var v=a(this.points,c,f,d),y=a(this.pointsTee,c,f,d);e.arrowShapeImpl(this.name)(l,v,y)}}),o("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(l,c,f,d,h,v,y){var p=h,m=Math.pow(p.x-l,2)+Math.pow(p.y-c,2)<=Math.pow((f+2*y)*this.radius,2),g=i(a(this.points,f+2*y,d,h));return qt(l,c,g)||m},draw:function(l,c,f,d,h){var v=a(this.pointsTr,c,f,d);e.arrowShapeImpl(this.name)(l,v,d.x,d.y,this.radius*c)},spacing:function(l){return e.getArrowWidth(l.pstyle("width").pfValue,l.pstyle("arrow-scale").value)*this.radius}}),o("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(l,c){var f=this.baseCrossLinePts.slice(),d=c/l,h=3,v=5;return f[h]=f[h]-d,f[v]=f[v]-d,f},collide:function(l,c,f,d,h,v,y){var p=i(a(this.points,f+2*y,d,h)),m=i(a(this.crossLinePts(f,v),f+2*y,d,h)),g=qt(l,c,p)||qt(l,c,m);return g},draw:function(l,c,f,d,h){var v=a(this.points,c,f,d),y=a(this.crossLinePts(c,h),c,f,d);e.arrowShapeImpl(this.name)(l,v,y)}}),o("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(l){return s(l)*.525}}),o("circle",{radius:.15,collide:function(l,c,f,d,h,v,y){var p=h,m=Math.pow(p.x-l,2)+Math.pow(p.y-c,2)<=Math.pow((f+2*y)*this.radius,2);return m},draw:function(l,c,f,d,h){e.arrowShapeImpl(this.name)(l,d.x,d.y,this.radius*c)},spacing:function(l){return e.getArrowWidth(l.pstyle("width").pfValue,l.pstyle("arrow-scale").value)*this.radius}}),o("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(l){return 1},gap:function(l){return 1}}),o("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),o("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(l){return l.pstyle("width").pfValue*l.pstyle("arrow-scale").value}}),o("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(l){return .95*l.pstyle("width").pfValue*l.pstyle("arrow-scale").value}})};var Gn={};Gn.projectIntoViewport=function(t,e){var r=this.cy,n=this.findContainerClientCoords(),a=n[0],i=n[1],s=n[4],o=r.pan(),u=r.zoom(),l=((t-a)/s-o.x)/u,c=((e-i)/s-o.y)/u;return[l,c]};Gn.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var t=this.container,e=t.getBoundingClientRect(),r=this.cy.window().getComputedStyle(t),n=function(m){return parseFloat(r.getPropertyValue(m))},a={left:n("padding-left"),right:n("padding-right"),top:n("padding-top"),bottom:n("padding-bottom")},i={left:n("border-left-width"),right:n("border-right-width"),top:n("border-top-width"),bottom:n("border-bottom-width")},s=t.clientWidth,o=t.clientHeight,u=a.left+a.right,l=a.top+a.bottom,c=i.left+i.right,f=e.width/(s+c),d=s-u,h=o-l,v=e.left+a.left+i.left,y=e.top+a.top+i.top;return this.containerBB=[v,y,d,h,f]};Gn.invalidateContainerClientCoordsCache=function(){this.containerBB=null};Gn.findNearestElement=function(t,e,r,n){return this.findNearestElements(t,e,r,n)[0]};Gn.findNearestElements=function(t,e,r,n){var a=this,i=this,s=i.getCachedZSortedEles(),o=[],u=i.cy.zoom(),l=i.cy.hasCompoundNodes(),c=(n?24:8)/u,f=(n?8:2)/u,d=(n?8:2)/u,h=1/0,v,y;r&&(s=s.interactive);function p(w,B){if(w.isNode()){if(y)return;y=w,o.push(w)}if(w.isEdge()&&(B==null||B<h))if(v){if(v.pstyle("z-compound-depth").value===w.pstyle("z-compound-depth").value&&v.pstyle("z-compound-depth").value===w.pstyle("z-compound-depth").value){for(var D=0;D<o.length;D++)if(o[D].isEdge()){o[D]=w,v=w,h=B??h;break}}}else o.push(w),v=w,h=B??h}function m(w){var B=w.outerWidth()+2*f,D=w.outerHeight()+2*f,_=B/2,A=D/2,S=w.position(),P=w.pstyle("corner-radius").value==="auto"?"auto":w.pstyle("corner-radius").pfValue,T=w._private.rscratch;if(S.x-_<=t&&t<=S.x+_&&S.y-A<=e&&e<=S.y+A){var $=i.nodeShapes[a.getNodeShape(w)];if($.checkPoint(t,e,0,B,D,S.x,S.y,P,T))return p(w,0),!0}}function g(w){var B=w._private,D=B.rscratch,_=w.pstyle("width").pfValue,A=w.pstyle("arrow-scale").value,S=_/2+c,P=S*S,T=S*2,z=B.source,G=B.target,$;if(D.edgeType==="segments"||D.edgeType==="straight"||D.edgeType==="haystack"){for(var O=D.allpts,M=0;M+3<O.length;M+=2)if(fC(t,e,O[M],O[M+1],O[M+2],O[M+3],T)&&P>($=gC(t,e,O[M],O[M+1],O[M+2],O[M+3])))return p(w,$),!0}else if(D.edgeType==="bezier"||D.edgeType==="multibezier"||D.edgeType==="self"||D.edgeType==="compound"){for(var O=D.allpts,M=0;M+5<D.allpts.length;M+=4)if(dC(t,e,O[M],O[M+1],O[M+2],O[M+3],O[M+4],O[M+5],T)&&P>($=pC(t,e,O[M],O[M+1],O[M+2],O[M+3],O[M+4],O[M+5])))return p(w,$),!0}for(var z=z||B.source,G=G||B.target,X=a.getArrowWidth(_,A),I=[{name:"source",x:D.arrowStartX,y:D.arrowStartY,angle:D.srcArrowAngle},{name:"target",x:D.arrowEndX,y:D.arrowEndY,angle:D.tgtArrowAngle},{name:"mid-source",x:D.midX,y:D.midY,angle:D.midsrcArrowAngle},{name:"mid-target",x:D.midX,y:D.midY,angle:D.midtgtArrowAngle}],M=0;M<I.length;M++){var L=I[M],U=i.arrowShapes[w.pstyle(L.name+"-arrow-shape").value],j=w.pstyle("width").pfValue;if(U.roughCollide(t,e,X,L.angle,{x:L.x,y:L.y},j,c)&&U.collide(t,e,X,L.angle,{x:L.x,y:L.y},j,c))return p(w),!0}l&&o.length>0&&(m(z),m(G))}function x(w,B,D){return dr(w,B,D)}function b(w,B){var D=w._private,_=d,A;B?A=B+"-":A="",w.boundingBox();var S=D.labelBounds[B||"main"],P=w.pstyle(A+"label").value,T=w.pstyle("text-events").strValue==="yes";if(!(!T||!P)){var $=x(D.rscratch,"labelX",B),O=x(D.rscratch,"labelY",B),M=x(D.rscratch,"labelAngle",B),z=w.pstyle(A+"text-margin-x").pfValue,G=w.pstyle(A+"text-margin-y").pfValue,X=S.x1-_-z,I=S.x2+_-z,L=S.y1-_-G,U=S.y2+_-G;if(M){var j=Math.cos(M),oe=Math.sin(M),se=function(R,F){return R=R-$,F=F-O,{x:R*j-F*oe+$,y:R*oe+F*j+O}},V=se(X,L),H=se(X,U),N=se(I,L),K=se(I,U),ne=[V.x+z,V.y+G,N.x+z,N.y+G,K.x+z,K.y+G,H.x+z,H.y+G];if(qt(t,e,ne))return p(w),!0}else if(Da(S,t,e))return p(w),!0}}for(var C=s.length-1;C>=0;C--){var E=s[C];E.isNode()?m(E)||b(E):g(E)||b(E)||b(E,"source")||b(E,"target")}return o};Gn.getAllInBox=function(t,e,r,n){var a=this.getCachedZSortedEles().interactive,i=[],s=Math.min(t,r),o=Math.max(t,r),u=Math.min(e,n),l=Math.max(e,n);t=s,r=o,e=u,n=l;for(var c=jt({x1:t,y1:e,x2:r,y2:n}),f=0;f<a.length;f++){var d=a[f];if(d.isNode()){var h=d,v=h.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});Cc(c,v)&&!gp(v,c)&&i.push(h)}else{var y=d,p=y._private,m=p.rscratch;if(m.startX!=null&&m.startY!=null&&!Da(c,m.startX,m.startY)||m.endX!=null&&m.endY!=null&&!Da(c,m.endX,m.endY))continue;if(m.edgeType==="bezier"||m.edgeType==="multibezier"||m.edgeType==="self"||m.edgeType==="compound"||m.edgeType==="segments"||m.edgeType==="haystack"){for(var g=p.rstyle.bezierPts||p.rstyle.linePts||p.rstyle.haystackPts,x=!0,b=0;b<g.length;b++)if(!cC(c,g[b])){x=!1;break}x&&i.push(y)}else(m.edgeType==="haystack"||m.edgeType==="straight")&&i.push(y)}}return i};var Gs={};Gs.calculateArrowAngles=function(t){var e=t._private.rscratch,r=e.edgeType==="haystack",n=e.edgeType==="bezier",a=e.edgeType==="multibezier",i=e.edgeType==="segments",s=e.edgeType==="compound",o=e.edgeType==="self",u,l,c,f,d,h,m,g;if(r?(c=e.haystackPts[0],f=e.haystackPts[1],d=e.haystackPts[2],h=e.haystackPts[3]):(c=e.arrowStartX,f=e.arrowStartY,d=e.arrowEndX,h=e.arrowEndY),m=e.midX,g=e.midY,i)u=c-e.segpts[0],l=f-e.segpts[1];else if(a||s||o||n){var v=e.allpts,y=pt(v[0],v[2],v[4],.1),p=pt(v[1],v[3],v[5],.1);u=c-y,l=f-p}else u=c-m,l=f-g;e.srcArrowAngle=is(u,l);var m=e.midX,g=e.midY;if(r&&(m=(c+d)/2,g=(f+h)/2),u=d-c,l=h-f,i){var v=e.allpts;if(v.length/2%2===0){var x=v.length/2,b=x-2;u=v[x]-v[b],l=v[x+1]-v[b+1]}else if(e.isRound)u=e.midVector[1],l=-e.midVector[0];else{var x=v.length/2-1,b=x-2;u=v[x]-v[b],l=v[x+1]-v[b+1]}}else if(a||s||o){var v=e.allpts,C=e.ctrlpts,E,w,B,D;if(C.length/2%2===0){var _=v.length/2-1,A=_+2,S=A+2;E=pt(v[_],v[A],v[S],0),w=pt(v[_+1],v[A+1],v[S+1],0),B=pt(v[_],v[A],v[S],1e-4),D=pt(v[_+1],v[A+1],v[S+1],1e-4)}else{var A=v.length/2-1,_=A-2,S=A+2;E=pt(v[_],v[A],v[S],.4999),w=pt(v[_+1],v[A+1],v[S+1],.4999),B=pt(v[_],v[A],v[S],.5),D=pt(v[_+1],v[A+1],v[S+1],.5)}u=B-E,l=D-w}if(e.midtgtArrowAngle=is(u,l),e.midDispX=u,e.midDispY=l,u*=-1,l*=-1,i){var v=e.allpts;if(v.length/2%2!==0){if(!e.isRound){var x=v.length/2-1,P=x+2;u=-(v[P]-v[x]),l=-(v[P+1]-v[x+1])}}}if(e.midsrcArrowAngle=is(u,l),i)u=d-e.segpts[e.segpts.length-2],l=h-e.segpts[e.segpts.length-1];else if(a||s||o||n){var v=e.allpts,T=v.length,y=pt(v[T-6],v[T-4],v[T-2],.9),p=pt(v[T-5],v[T-3],v[T-1],.9);u=d-y,l=h-p}else u=d-m,l=h-g;e.tgtArrowAngle=is(u,l)};Gs.getArrowWidth=Gs.getArrowHeight=function(t,e){var r=this.arrowWidthCache=this.arrowWidthCache||{},n=r[t+", "+e];return n||(n=Math.max(Math.pow(t*13.37,.9),29)*e,r[t+", "+e]=n,n)};var ku,Tu,wr={},Jt={},Id,Ld,Sn,Ts,Tr,wn,Bn,br,aa,vs,lg,ug,Pu,Fu,Md,$d=function(e,r,n){n.x=r.x-e.x,n.y=r.y-e.y,n.len=Math.sqrt(n.x*n.x+n.y*n.y),n.nx=n.x/n.len,n.ny=n.y/n.len,n.ang=Math.atan2(n.ny,n.nx)},ZA=function(e,r){r.x=e.x*-1,r.y=e.y*-1,r.nx=e.nx*-1,r.ny=e.ny*-1,r.ang=e.ang>0?-(Math.PI-e.ang):Math.PI+e.ang},QA=function(e,r,n,a,i){if(e!==Md?$d(r,e,wr):ZA(Jt,wr),$d(r,n,Jt),Id=wr.nx*Jt.ny-wr.ny*Jt.nx,Ld=wr.nx*Jt.nx-wr.ny*-Jt.ny,Tr=Math.asin(Math.max(-1,Math.min(1,Id))),Math.abs(Tr)<1e-6){ku=r.x,Tu=r.y,Bn=aa=0;return}Sn=1,Ts=!1,Ld<0?Tr<0?Tr=Math.PI+Tr:(Tr=Math.PI-Tr,Sn=-1,Ts=!0):Tr>0&&(Sn=-1,Ts=!0),r.radius!==void 0?aa=r.radius:aa=a,wn=Tr/2,vs=Math.min(wr.len/2,Jt.len/2),i?(br=Math.abs(Math.cos(wn)*aa/Math.sin(wn)),br>vs?(br=vs,Bn=Math.abs(br*Math.sin(wn)/Math.cos(wn))):Bn=aa):(br=Math.min(vs,aa),Bn=Math.abs(br*Math.sin(wn)/Math.cos(wn))),Pu=r.x+Jt.nx*br,Fu=r.y+Jt.ny*br,ku=Pu-Jt.ny*Bn*Sn,Tu=Fu+Jt.nx*Bn*Sn,lg=r.x+wr.nx*br,ug=r.y+wr.ny*br,Md=r};function cg(t,e){e.radius===0?t.lineTo(e.cx,e.cy):t.arc(e.cx,e.cy,e.radius,e.startAngle,e.endAngle,e.counterClockwise)}function Lc(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return n===0||e.radius===0?{cx:e.x,cy:e.y,radius:0,startX:e.x,startY:e.y,stopX:e.x,stopY:e.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(QA(t,e,r,n,a),{cx:ku,cy:Tu,radius:Bn,startX:lg,startY:ug,stopX:Pu,stopY:Fu,startAngle:wr.ang+Math.PI/2*Sn,endAngle:Jt.ang-Math.PI/2*Sn,counterClockwise:Ts})}var Ot={};Ot.findMidptPtsEtc=function(t,e){var r=e.posPts,n=e.intersectionPts,a=e.vectorNormInverse,i,s=t.pstyle("source-endpoint"),o=t.pstyle("target-endpoint"),u=s.units!=null&&o.units!=null,l=function(C,E,w,B){var D=B-E,_=w-C,A=Math.sqrt(_*_+D*D);return{x:-D/A,y:_/A}},c=t.pstyle("edge-distances").value;switch(c){case"node-position":i=r;break;case"intersection":i=n;break;case"endpoints":{if(u){var f=this.manualEndptToPx(t.source()[0],s),d=lr(f,2),h=d[0],v=d[1],y=this.manualEndptToPx(t.target()[0],o),p=lr(y,2),m=p[0],g=p[1],x={x1:h,y1:v,x2:m,y2:g};a=l(h,v,m,g),i=x}else Ne("Edge ".concat(t.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),i=n;break}}return{midptPts:i,vectorNormInverse:a}};Ot.findHaystackPoints=function(t){for(var e=0;e<t.length;e++){var r=t[e],n=r._private,a=n.rscratch;if(!a.haystack){var i=Math.random()*2*Math.PI;a.source={x:Math.cos(i),y:Math.sin(i)},i=Math.random()*2*Math.PI,a.target={x:Math.cos(i),y:Math.sin(i)}}var s=n.source,o=n.target,u=s.position(),l=o.position(),c=s.width(),f=o.width(),d=s.height(),h=o.height(),v=r.pstyle("haystack-radius").value,y=v/2;a.haystackPts=a.allpts=[a.source.x*c*y+u.x,a.source.y*d*y+u.y,a.target.x*f*y+l.x,a.target.y*h*y+l.y],a.midX=(a.allpts[0]+a.allpts[2])/2,a.midY=(a.allpts[1]+a.allpts[3])/2,a.edgeType="haystack",a.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}};Ot.findSegmentsPoints=function(t,e){var r=t._private.rscratch,n=t.pstyle("segment-weights"),a=t.pstyle("segment-distances"),i=t.pstyle("segment-radii"),s=t.pstyle("radius-type"),o=Math.min(n.pfValue.length,a.pfValue.length),u=i.pfValue[i.pfValue.length-1],l=s.pfValue[s.pfValue.length-1];r.edgeType="segments",r.segpts=[],r.radii=[],r.isArcRadius=[];for(var c=0;c<o;c++){var f=n.pfValue[c],d=a.pfValue[c],h=1-f,v=f,y=this.findMidptPtsEtc(t,e),p=y.midptPts,m=y.vectorNormInverse,g={x:p.x1*h+p.x2*v,y:p.y1*h+p.y2*v};r.segpts.push(g.x+m.x*d,g.y+m.y*d),r.radii.push(i.pfValue[c]!==void 0?i.pfValue[c]:u),r.isArcRadius.push((s.pfValue[c]!==void 0?s.pfValue[c]:l)==="arc-radius")}};Ot.findLoopPoints=function(t,e,r,n){var a=t._private.rscratch,i=e.dirCounts,s=e.srcPos,o=t.pstyle("control-point-distances"),u=o?o.pfValue[0]:void 0,l=t.pstyle("loop-direction").pfValue,c=t.pstyle("loop-sweep").pfValue,f=t.pstyle("control-point-step-size").pfValue;a.edgeType="self";var d=r,h=f;n&&(d=0,h=u);var v=l-Math.PI/2,y=v-c/2,p=v+c/2,m=l+"_"+c;d=i[m]===void 0?i[m]=0:++i[m],a.ctrlpts=[s.x+Math.cos(y)*1.4*h*(d/3+1),s.y+Math.sin(y)*1.4*h*(d/3+1),s.x+Math.cos(p)*1.4*h*(d/3+1),s.y+Math.sin(p)*1.4*h*(d/3+1)]};Ot.findCompoundLoopPoints=function(t,e,r,n){var a=t._private.rscratch;a.edgeType="compound";var i=e.srcPos,s=e.tgtPos,o=e.srcW,u=e.srcH,l=e.tgtW,c=e.tgtH,f=t.pstyle("control-point-step-size").pfValue,d=t.pstyle("control-point-distances"),h=d?d.pfValue[0]:void 0,v=r,y=f;n&&(v=0,y=h);var p=50,m={x:i.x-o/2,y:i.y-u/2},g={x:s.x-l/2,y:s.y-c/2},x={x:Math.min(m.x,g.x),y:Math.min(m.y,g.y)},b=.5,C=Math.max(b,Math.log(o*.01)),E=Math.max(b,Math.log(l*.01));a.ctrlpts=[x.x,x.y-(1+Math.pow(p,1.12)/100)*y*(v/3+1)*C,x.x-(1+Math.pow(p,1.12)/100)*y*(v/3+1)*E,x.y]};Ot.findStraightEdgePoints=function(t){t._private.rscratch.edgeType="straight"};Ot.findBezierPoints=function(t,e,r,n,a){var i=t._private.rscratch,s=t.pstyle("control-point-step-size").pfValue,o=t.pstyle("control-point-distances"),u=t.pstyle("control-point-weights"),l=o&&u?Math.min(o.value.length,u.value.length):1,c=o?o.pfValue[0]:void 0,f=u.value[0],d=n;i.edgeType=d?"multibezier":"bezier",i.ctrlpts=[];for(var h=0;h<l;h++){var v=(.5-e.eles.length/2+r)*s*(a?-1:1),y=void 0,p=vp(v);d&&(c=o?o.pfValue[h]:s,f=u.value[h]),n?y=c:y=c!==void 0?p*c:void 0;var m=y!==void 0?y:v,g=1-f,x=f,b=this.findMidptPtsEtc(t,e),C=b.midptPts,E=b.vectorNormInverse,w={x:C.x1*g+C.x2*x,y:C.y1*g+C.y2*x};i.ctrlpts.push(w.x+E.x*m,w.y+E.y*m)}};Ot.findTaxiPoints=function(t,e){var r=t._private.rscratch;r.edgeType="segments";var n="vertical",a="horizontal",i="leftward",s="rightward",o="downward",u="upward",l="auto",c=e.posPts,f=e.srcW,d=e.srcH,h=e.tgtW,v=e.tgtH,y=t.pstyle("edge-distances").value,p=y!=="node-position",m=t.pstyle("taxi-direction").value,g=m,x=t.pstyle("taxi-turn"),b=x.units==="%",C=x.pfValue,E=C<0,w=t.pstyle("taxi-turn-min-distance").pfValue,B=p?(f+h)/2:0,D=p?(d+v)/2:0,_=c.x2-c.x1,A=c.y2-c.y1,S=function(Ce,we){return Ce>0?Math.max(Ce-we,0):Math.min(Ce+we,0)},P=S(_,B),T=S(A,D),$=!1;g===l?m=Math.abs(P)>Math.abs(T)?a:n:g===u||g===o?(m=n,$=!0):(g===i||g===s)&&(m=a,$=!0);var O=m===n,M=O?T:P,z=O?A:_,G=vp(z),X=!1;!($&&(b||E))&&(g===o&&z<0||g===u&&z>0||g===i&&z>0||g===s&&z<0)&&(G*=-1,M=G*Math.abs(M),X=!0);var I;if(b){var L=C<0?1+C:C;I=L*M}else{var U=C<0?M:0;I=U+C*G}var j=function(Ce){return Math.abs(Ce)<w||Math.abs(Ce)>=Math.abs(M)},oe=j(I),se=j(Math.abs(M)-Math.abs(I)),V=oe||se;if(V&&!X)if(O){var H=Math.abs(z)<=d/2,N=Math.abs(_)<=h/2;if(H){var K=(c.x1+c.x2)/2,ne=c.y1,he=c.y2;r.segpts=[K,ne,K,he]}else if(N){var R=(c.y1+c.y2)/2,F=c.x1,q=c.x2;r.segpts=[F,R,q,R]}else r.segpts=[c.x1,c.y2]}else{var Z=Math.abs(z)<=f/2,Y=Math.abs(A)<=v/2;if(Z){var te=(c.y1+c.y2)/2,le=c.x1,ce=c.x2;r.segpts=[le,te,ce,te]}else if(Y){var ue=(c.x1+c.x2)/2,ae=c.y1,fe=c.y2;r.segpts=[ue,ae,ue,fe]}else r.segpts=[c.x2,c.y1]}else if(O){var Q=c.y1+I+(p?d/2*G:0),k=c.x1,W=c.x2;r.segpts=[k,Q,W,Q]}else{var ee=c.x1+I+(p?f/2*G:0),re=c.y1,J=c.y2;r.segpts=[ee,re,ee,J]}if(r.isRound){var de=t.pstyle("taxi-radius").value,ie=t.pstyle("radius-type").value[0]==="arc-radius";r.radii=new Array(r.segpts.length/2).fill(de),r.isArcRadius=new Array(r.segpts.length/2).fill(ie)}};Ot.tryToCorrectInvalidPoints=function(t,e){var r=t._private.rscratch;if(r.edgeType==="bezier"){var n=e.srcPos,a=e.tgtPos,i=e.srcW,s=e.srcH,o=e.tgtW,u=e.tgtH,l=e.srcShape,c=e.tgtShape,f=e.srcCornerRadius,d=e.tgtCornerRadius,h=e.srcRs,v=e.tgtRs,y=!ge(r.startX)||!ge(r.startY),p=!ge(r.arrowStartX)||!ge(r.arrowStartY),m=!ge(r.endX)||!ge(r.endY),g=!ge(r.arrowEndX)||!ge(r.arrowEndY),x=3,b=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth,C=x*b,E=In({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),w=E<C,B=In({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),D=B<C,_=!1;if(y||p||w){_=!0;var A={x:r.ctrlpts[0]-n.x,y:r.ctrlpts[1]-n.y},S=Math.sqrt(A.x*A.x+A.y*A.y),P={x:A.x/S,y:A.y/S},T=Math.max(i,s),$={x:r.ctrlpts[0]+P.x*2*T,y:r.ctrlpts[1]+P.y*2*T},O=l.intersectLine(n.x,n.y,i,s,$.x,$.y,0,f,h);w?(r.ctrlpts[0]=r.ctrlpts[0]+P.x*(C-E),r.ctrlpts[1]=r.ctrlpts[1]+P.y*(C-E)):(r.ctrlpts[0]=O[0]+P.x*C,r.ctrlpts[1]=O[1]+P.y*C)}if(m||g||D){_=!0;var M={x:r.ctrlpts[0]-a.x,y:r.ctrlpts[1]-a.y},z=Math.sqrt(M.x*M.x+M.y*M.y),G={x:M.x/z,y:M.y/z},X=Math.max(i,s),I={x:r.ctrlpts[0]+G.x*2*X,y:r.ctrlpts[1]+G.y*2*X},L=c.intersectLine(a.x,a.y,o,u,I.x,I.y,0,d,v);D?(r.ctrlpts[0]=r.ctrlpts[0]+G.x*(C-B),r.ctrlpts[1]=r.ctrlpts[1]+G.y*(C-B)):(r.ctrlpts[0]=L[0]+G.x*C,r.ctrlpts[1]=L[1]+G.y*C)}_&&this.findEndpoints(t)}};Ot.storeAllpts=function(t){var e=t._private.rscratch;if(e.edgeType==="multibezier"||e.edgeType==="bezier"||e.edgeType==="self"||e.edgeType==="compound"){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var r=0;r+1<e.ctrlpts.length;r+=2)e.allpts.push(e.ctrlpts[r],e.ctrlpts[r+1]),r+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[r]+e.ctrlpts[r+2])/2,(e.ctrlpts[r+1]+e.ctrlpts[r+3])/2);e.allpts.push(e.endX,e.endY);var n,a;e.ctrlpts.length/2%2===0?(n=e.allpts.length/2-1,e.midX=e.allpts[n],e.midY=e.allpts[n+1]):(n=e.allpts.length/2-3,a=.5,e.midX=pt(e.allpts[n],e.allpts[n+2],e.allpts[n+4],a),e.midY=pt(e.allpts[n+1],e.allpts[n+3],e.allpts[n+5],a))}else if(e.edgeType==="straight")e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if(e.edgeType==="segments"){if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.isRound){e.roundCorners=[];for(var i=2;i+3<e.allpts.length;i+=2){var s=e.radii[i/2-1],o=e.isArcRadius[i/2-1];e.roundCorners.push(Lc({x:e.allpts[i-2],y:e.allpts[i-1]},{x:e.allpts[i],y:e.allpts[i+1],radius:s},{x:e.allpts[i+2],y:e.allpts[i+3]},s,o))}}if(e.segpts.length%4===0){var u=e.segpts.length/2,l=u-2;e.midX=(e.segpts[l]+e.segpts[u])/2,e.midY=(e.segpts[l+1]+e.segpts[u+1])/2}else{var c=e.segpts.length/2-1;if(!e.isRound)e.midX=e.segpts[c],e.midY=e.segpts[c+1];else{var f={x:e.segpts[c],y:e.segpts[c+1]},d=e.roundCorners[c/2],h=[f.x-d.cx,f.y-d.cy],v=d.radius/Math.sqrt(Math.pow(h[0],2)+Math.pow(h[1],2));h=h.map(function(y){return y*v}),e.midX=d.cx+h[0],e.midY=d.cy+h[1],e.midVector=h}}}};Ot.checkForInvalidEdgeWarning=function(t){var e=t[0]._private.rscratch;e.nodesOverlap||ge(e.startX)&&ge(e.startY)&&ge(e.endX)&&ge(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,Ne("Edge `"+t.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};Ot.findEdgeControlPoints=function(t){var e=this;if(!(!t||t.length===0)){for(var r=this,n=r.cy,a=n.hasCompoundNodes(),i={map:new Br,get:function(w){var B=this.map.get(w[0]);return B!=null?B.get(w[1]):null},set:function(w,B){var D=this.map.get(w[0]);D==null&&(D=new Br,this.map.set(w[0],D)),D.set(w[1],B)}},s=[],o=[],u=0;u<t.length;u++){var l=t[u],c=l._private,f=l.pstyle("curve-style").value;if(!(l.removed()||!l.takesUpSpace())){if(f==="haystack"){o.push(l);continue}var d=f==="unbundled-bezier"||f.endsWith("segments")||f==="straight"||f==="straight-triangle"||f.endsWith("taxi"),h=f==="unbundled-bezier"||f==="bezier",v=c.source,y=c.target,p=v.poolIndex(),m=y.poolIndex(),g=[p,m].sort(),x=i.get(g);x==null&&(x={eles:[]},i.set(g,x),s.push(g)),x.eles.push(l),d&&(x.hasUnbundled=!0),h&&(x.hasBezier=!0)}}for(var b=function(w){var B=s[w],D=i.get(B),_=void 0;if(!D.hasUnbundled){var A=D.eles[0].parallelEdges().filter(function(ee){return ee.isBundledBezier()});wc(D.eles),A.forEach(function(ee){return D.eles.push(ee)}),D.eles.sort(function(ee,re){return ee.poolIndex()-re.poolIndex()})}var S=D.eles[0],P=S.source(),T=S.target();if(P.poolIndex()>T.poolIndex()){var $=P;P=T,T=$}var O=D.srcPos=P.position(),M=D.tgtPos=T.position(),z=D.srcW=P.outerWidth(),G=D.srcH=P.outerHeight(),X=D.tgtW=T.outerWidth(),I=D.tgtH=T.outerHeight(),L=D.srcShape=r.nodeShapes[e.getNodeShape(P)],U=D.tgtShape=r.nodeShapes[e.getNodeShape(T)],j=D.srcCornerRadius=P.pstyle("corner-radius").value==="auto"?"auto":P.pstyle("corner-radius").pfValue,oe=D.tgtCornerRadius=T.pstyle("corner-radius").value==="auto"?"auto":T.pstyle("corner-radius").pfValue,se=D.tgtRs=T._private.rscratch,V=D.srcRs=P._private.rscratch;D.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var H=0;H<D.eles.length;H++){var N=D.eles[H],K=N[0]._private.rscratch,ne=N.pstyle("curve-style").value,he=ne==="unbundled-bezier"||ne.endsWith("segments")||ne.endsWith("taxi"),R=!P.same(N.source());if(!D.calculatedIntersection&&P!==T&&(D.hasBezier||D.hasUnbundled)){D.calculatedIntersection=!0;var F=L.intersectLine(O.x,O.y,z,G,M.x,M.y,0,j,V),q=D.srcIntn=F,Z=U.intersectLine(M.x,M.y,X,I,O.x,O.y,0,oe,se),Y=D.tgtIntn=Z,te=D.intersectionPts={x1:F[0],x2:Z[0],y1:F[1],y2:Z[1]},le=D.posPts={x1:O.x,x2:M.x,y1:O.y,y2:M.y},ce=Z[1]-F[1],ue=Z[0]-F[0],ae=Math.sqrt(ue*ue+ce*ce),fe=D.vector={x:ue,y:ce},Q=D.vectorNorm={x:fe.x/ae,y:fe.y/ae},k={x:-Q.y,y:Q.x};D.nodesOverlap=!ge(ae)||U.checkPoint(F[0],F[1],0,X,I,M.x,M.y,oe,se)||L.checkPoint(Z[0],Z[1],0,z,G,O.x,O.y,j,V),D.vectorNormInverse=k,_={nodesOverlap:D.nodesOverlap,dirCounts:D.dirCounts,calculatedIntersection:!0,hasBezier:D.hasBezier,hasUnbundled:D.hasUnbundled,eles:D.eles,srcPos:M,tgtPos:O,srcW:X,srcH:I,tgtW:z,tgtH:G,srcIntn:Y,tgtIntn:q,srcShape:U,tgtShape:L,posPts:{x1:le.x2,y1:le.y2,x2:le.x1,y2:le.y1},intersectionPts:{x1:te.x2,y1:te.y2,x2:te.x1,y2:te.y1},vector:{x:-fe.x,y:-fe.y},vectorNorm:{x:-Q.x,y:-Q.y},vectorNormInverse:{x:-k.x,y:-k.y}}}var W=R?_:D;K.nodesOverlap=W.nodesOverlap,K.srcIntn=W.srcIntn,K.tgtIntn=W.tgtIntn,K.isRound=ne.startsWith("round"),a&&(P.isParent()||P.isChild()||T.isParent()||T.isChild())&&(P.parents().anySame(T)||T.parents().anySame(P)||P.same(T)&&P.isParent())?e.findCompoundLoopPoints(N,W,H,he):P===T?e.findLoopPoints(N,W,H,he):ne.endsWith("segments")?e.findSegmentsPoints(N,W):ne.endsWith("taxi")?e.findTaxiPoints(N,W):ne==="straight"||!he&&D.eles.length%2===1&&H===Math.floor(D.eles.length/2)?e.findStraightEdgePoints(N):e.findBezierPoints(N,W,H,he,R),e.findEndpoints(N),e.tryToCorrectInvalidPoints(N,W),e.checkForInvalidEdgeWarning(N),e.storeAllpts(N),e.storeEdgeProjections(N),e.calculateArrowAngles(N),e.recalculateEdgeLabelProjections(N),e.calculateLabelAngles(N)}},C=0;C<s.length;C++)b(C);this.findHaystackPoints(o)}};function fg(t){var e=[];if(t!=null){for(var r=0;r<t.length;r+=2){var n=t[r],a=t[r+1];e.push({x:n,y:a})}return e}}Ot.getSegmentPoints=function(t){var e=t[0]._private.rscratch,r=e.edgeType;if(r==="segments")return this.recalculateRenderedStyle(t),fg(e.segpts)};Ot.getControlPoints=function(t){var e=t[0]._private.rscratch,r=e.edgeType;if(r==="bezier"||r==="multibezier"||r==="self"||r==="compound")return this.recalculateRenderedStyle(t),fg(e.ctrlpts)};Ot.getEdgeMidpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),{x:e.midX,y:e.midY}};var ji={};ji.manualEndptToPx=function(t,e){var r=this,n=t.position(),a=t.outerWidth(),i=t.outerHeight(),s=t._private.rscratch;if(e.value.length===2){var o=[e.pfValue[0],e.pfValue[1]];return e.units[0]==="%"&&(o[0]=o[0]*a),e.units[1]==="%"&&(o[1]=o[1]*i),o[0]+=n.x,o[1]+=n.y,o}else{var u=e.pfValue[0];u=-Math.PI/2+u;var l=2*Math.max(a,i),c=[n.x+Math.cos(u)*l,n.y+Math.sin(u)*l];return r.nodeShapes[this.getNodeShape(t)].intersectLine(n.x,n.y,a,i,c[0],c[1],0,t.pstyle("corner-radius").value==="auto"?"auto":t.pstyle("corner-radius").pfValue,s)}};ji.findEndpoints=function(t){var e=this,r,n=t.source()[0],a=t.target()[0],i=n.position(),s=a.position(),o=t.pstyle("target-arrow-shape").value,u=t.pstyle("source-arrow-shape").value,l=t.pstyle("target-distance-from-node").pfValue,c=t.pstyle("source-distance-from-node").pfValue,f=n._private.rscratch,d=a._private.rscratch,h=t.pstyle("curve-style").value,v=t._private.rscratch,y=v.edgeType,p=h==="taxi",m=y==="self"||y==="compound",g=y==="bezier"||y==="multibezier"||m,x=y!=="bezier",b=y==="straight"||y==="segments",C=y==="segments",E=g||x||b,w=m||p,B=t.pstyle("source-endpoint"),D=w?"outside-to-node":B.value,_=n.pstyle("corner-radius").value==="auto"?"auto":n.pstyle("corner-radius").pfValue,A=t.pstyle("target-endpoint"),S=w?"outside-to-node":A.value,P=a.pstyle("corner-radius").value==="auto"?"auto":a.pstyle("corner-radius").pfValue;v.srcManEndpt=B,v.tgtManEndpt=A;var T,$,O,M;if(g){var z=[v.ctrlpts[0],v.ctrlpts[1]],G=x?[v.ctrlpts[v.ctrlpts.length-2],v.ctrlpts[v.ctrlpts.length-1]]:z;T=G,$=z}else if(b){var X=C?v.segpts.slice(0,2):[s.x,s.y],I=C?v.segpts.slice(v.segpts.length-2):[i.x,i.y];T=I,$=X}if(S==="inside-to-node")r=[s.x,s.y];else if(A.units)r=this.manualEndptToPx(a,A);else if(S==="outside-to-line")r=v.tgtIntn;else if(S==="outside-to-node"||S==="outside-to-node-or-label"?O=T:(S==="outside-to-line"||S==="outside-to-line-or-label")&&(O=[i.x,i.y]),r=e.nodeShapes[this.getNodeShape(a)].intersectLine(s.x,s.y,a.outerWidth(),a.outerHeight(),O[0],O[1],0,P,d),S==="outside-to-node-or-label"||S==="outside-to-line-or-label"){var L=a._private.rscratch,U=L.labelWidth,j=L.labelHeight,oe=L.labelX,se=L.labelY,V=U/2,H=j/2,N=a.pstyle("text-valign").value;N==="top"?se-=H:N==="bottom"&&(se+=H);var K=a.pstyle("text-halign").value;K==="left"?oe-=V:K==="right"&&(oe+=V);var ne=ki(O[0],O[1],[oe-V,se-H,oe+V,se-H,oe+V,se+H,oe-V,se+H],s.x,s.y);if(ne.length>0){var he=i,R=Cn(he,la(r)),F=Cn(he,la(ne)),q=R;if(F<R&&(r=ne,q=F),ne.length>2){var Z=Cn(he,{x:ne[2],y:ne[3]});Z<q&&(r=[ne[2],ne[3]])}}}var Y=ss(r,T,e.arrowShapes[o].spacing(t)+l),te=ss(r,T,e.arrowShapes[o].gap(t)+l);if(v.endX=te[0],v.endY=te[1],v.arrowEndX=Y[0],v.arrowEndY=Y[1],D==="inside-to-node")r=[i.x,i.y];else if(B.units)r=this.manualEndptToPx(n,B);else if(D==="outside-to-line")r=v.srcIntn;else if(D==="outside-to-node"||D==="outside-to-node-or-label"?M=$:(D==="outside-to-line"||D==="outside-to-line-or-label")&&(M=[s.x,s.y]),r=e.nodeShapes[this.getNodeShape(n)].intersectLine(i.x,i.y,n.outerWidth(),n.outerHeight(),M[0],M[1],0,_,f),D==="outside-to-node-or-label"||D==="outside-to-line-or-label"){var le=n._private.rscratch,ce=le.labelWidth,ue=le.labelHeight,ae=le.labelX,fe=le.labelY,Q=ce/2,k=ue/2,W=n.pstyle("text-valign").value;W==="top"?fe-=k:W==="bottom"&&(fe+=k);var ee=n.pstyle("text-halign").value;ee==="left"?ae-=Q:ee==="right"&&(ae+=Q);var re=ki(M[0],M[1],[ae-Q,fe-k,ae+Q,fe-k,ae+Q,fe+k,ae-Q,fe+k],i.x,i.y);if(re.length>0){var J=s,de=Cn(J,la(r)),ie=Cn(J,la(re)),pe=de;if(ie<de&&(r=[re[0],re[1]],pe=ie),re.length>2){var Ce=Cn(J,{x:re[2],y:re[3]});Ce<pe&&(r=[re[2],re[3]])}}}var we=ss(r,$,e.arrowShapes[u].spacing(t)+c),ye=ss(r,$,e.arrowShapes[u].gap(t)+c);v.startX=ye[0],v.startY=ye[1],v.arrowStartX=we[0],v.arrowStartY=we[1],E&&(!ge(v.startX)||!ge(v.startY)||!ge(v.endX)||!ge(v.endY)?v.badLine=!0:v.badLine=!1)};ji.getSourceEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}};ji.getTargetEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}};var Mc={};function JA(t,e,r){for(var n=function(l,c,f,d){return pt(l,c,f,d)},a=e._private,i=a.rstyle.bezierPts,s=0;s<t.bezierProjPcts.length;s++){var o=t.bezierProjPcts[s];i.push({x:n(r[0],r[2],r[4],o),y:n(r[1],r[3],r[5],o)})}}Mc.storeEdgeProjections=function(t){var e=t._private,r=e.rscratch,n=r.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,n==="multibezier"||n==="bezier"||n==="self"||n==="compound"){e.rstyle.bezierPts=[];for(var a=0;a+5<r.allpts.length;a+=4)JA(this,t,r.allpts.slice(a,a+6))}else if(n==="segments")for(var i=e.rstyle.linePts=[],a=0;a+1<r.allpts.length;a+=2)i.push({x:r.allpts[a],y:r.allpts[a+1]});else if(n==="haystack"){var s=r.haystackPts;e.rstyle.haystackPts=[{x:s[0],y:s[1]},{x:s[2],y:s[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth};Mc.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)};var Dr={};Dr.recalculateNodeLabelProjection=function(t){var e=t.pstyle("label").strValue;if(!sn(e)){var r,n,a=t._private,i=t.width(),s=t.height(),o=t.padding(),u=t.position(),l=t.pstyle("text-halign").strValue,c=t.pstyle("text-valign").strValue,f=a.rscratch,d=a.rstyle;switch(l){case"left":r=u.x-i/2-o;break;case"right":r=u.x+i/2+o;break;default:r=u.x}switch(c){case"top":n=u.y-s/2-o;break;case"bottom":n=u.y+s/2+o;break;default:n=u.y}f.labelX=r,f.labelY=n,d.labelX=r,d.labelY=n,this.calculateLabelAngles(t),this.applyLabelDimensions(t)}};var dg=function(e,r){var n=Math.atan(r/e);return e===0&&n<0&&(n=n*-1),n},hg=function(e,r){var n=r.x-e.x,a=r.y-e.y;return dg(n,a)},eD=function(e,r,n,a){var i=Si(0,a-.001,1),s=Si(0,a+.001,1),o=ga(e,r,n,i),u=ga(e,r,n,s);return hg(o,u)};Dr.recalculateEdgeLabelProjections=function(t){var e,r=t._private,n=r.rscratch,a=this,i={mid:t.pstyle("label").strValue,source:t.pstyle("source-label").strValue,target:t.pstyle("target-label").strValue};if(i.mid||i.source||i.target){e={x:n.midX,y:n.midY};var s=function(f,d,h){Zr(r.rscratch,f,d,h),Zr(r.rstyle,f,d,h)};s("labelX",null,e.x),s("labelY",null,e.y);var o=dg(n.midDispX,n.midDispY);s("labelAutoAngle",null,o);var u=function c(){if(c.cache)return c.cache;for(var f=[],d=0;d+5<n.allpts.length;d+=4){var h={x:n.allpts[d],y:n.allpts[d+1]},v={x:n.allpts[d+2],y:n.allpts[d+3]},y={x:n.allpts[d+4],y:n.allpts[d+5]};f.push({p0:h,p1:v,p2:y,startDist:0,length:0,segments:[]})}var p=r.rstyle.bezierPts,m=a.bezierProjPcts.length;function g(w,B,D,_,A){var S=In(B,D),P=w.segments[w.segments.length-1],T={p0:B,p1:D,t0:_,t1:A,startDist:P?P.startDist+P.length:0,length:S};w.segments.push(T),w.length+=S}for(var x=0;x<f.length;x++){var b=f[x],C=f[x-1];C&&(b.startDist=C.startDist+C.length),g(b,b.p0,p[x*m],0,a.bezierProjPcts[0]);for(var E=0;E<m-1;E++)g(b,p[x*m+E],p[x*m+E+1],a.bezierProjPcts[E],a.bezierProjPcts[E+1]);g(b,p[x*m+m-1],b.p2,a.bezierProjPcts[m-1],1)}return c.cache=f},l=function(f){var d,h=f==="source";if(i[f]){var v=t.pstyle(f+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var y=u(),p,m=0,g=0,x=0;x<y.length;x++){for(var b=y[h?x:y.length-1-x],C=0;C<b.segments.length;C++){var E=b.segments[h?C:b.segments.length-1-C],w=x===y.length-1&&C===b.segments.length-1;if(m=g,g+=E.length,g>=v||w){p={cp:b,segment:E};break}}if(p)break}var B=p.cp,D=p.segment,_=(v-m)/D.length,A=D.t1-D.t0,S=h?D.t0+A*_:D.t1-A*_;S=Si(0,S,1),e=ga(B.p0,B.p1,B.p2,S),d=eD(B.p0,B.p1,B.p2,S);break}case"straight":case"segments":case"haystack":{for(var P=0,T,$,O,M,z=n.allpts.length,G=0;G+3<z&&(h?(O={x:n.allpts[G],y:n.allpts[G+1]},M={x:n.allpts[G+2],y:n.allpts[G+3]}):(O={x:n.allpts[z-2-G],y:n.allpts[z-1-G]},M={x:n.allpts[z-4-G],y:n.allpts[z-3-G]}),T=In(O,M),$=P,P+=T,!(P>=v));G+=2);var X=v-$,I=X/T;I=Si(0,I,1),e=iC(O,M,I),d=hg(O,M);break}}s("labelX",f,e.x),s("labelY",f,e.y),s("labelAutoAngle",f,d)}};l("source"),l("target"),this.applyLabelDimensions(t)}};Dr.applyLabelDimensions=function(t){this.applyPrefixedLabelDimensions(t),t.isEdge()&&(this.applyPrefixedLabelDimensions(t,"source"),this.applyPrefixedLabelDimensions(t,"target"))};Dr.applyPrefixedLabelDimensions=function(t,e){var r=t._private,n=this.getLabelText(t,e),a=this.calculateLabelDimensions(t,n),i=t.pstyle("line-height").pfValue,s=t.pstyle("text-wrap").strValue,o=dr(r.rscratch,"labelWrapCachedLines",e)||[],u=s!=="wrap"?1:Math.max(o.length,1),l=a.height/u,c=l*i,f=a.width,d=a.height+(u-1)*(i-1)*l;Zr(r.rstyle,"labelWidth",e,f),Zr(r.rscratch,"labelWidth",e,f),Zr(r.rstyle,"labelHeight",e,d),Zr(r.rscratch,"labelHeight",e,d),Zr(r.rscratch,"labelLineHeight",e,c)};Dr.getLabelText=function(t,e){var r=t._private,n=e?e+"-":"",a=t.pstyle(n+"label").strValue,i=t.pstyle("text-transform").value,s=function(U,j){return j?(Zr(r.rscratch,U,e,j),j):dr(r.rscratch,U,e)};if(!a)return"";i=="none"||(i=="uppercase"?a=a.toUpperCase():i=="lowercase"&&(a=a.toLowerCase()));var o=t.pstyle("text-wrap").value;if(o==="wrap"){var u=s("labelKey");if(u!=null&&s("labelWrapKey")===u)return s("labelWrapCachedText");for(var l="",c=a.split(`
`),f=t.pstyle("text-max-width").pfValue,d=t.pstyle("text-overflow-wrap").value,h=d==="anywhere",v=[],y=/[\s\u200b]+|$/g,p=0;p<c.length;p++){var m=c[p],g=this.calculateLabelDimensions(t,m),x=g.width;if(h){var b=m.split("").join(l);m=b}if(x>f){var C=m.matchAll(y),E="",w=0,B=Yv(C),D;try{for(B.s();!(D=B.n()).done;){var _=D.value,A=_[0],S=m.substring(w,_.index);w=_.index+A.length;var P=E.length===0?S:E+S+A,T=this.calculateLabelDimensions(t,P),$=T.width;$<=f?E+=S+A:(E&&v.push(E),E=S+A)}}catch(L){B.e(L)}finally{B.f()}E.match(/^[\s\u200b]+$/)||v.push(E)}else v.push(m)}s("labelWrapCachedLines",v),a=s("labelWrapCachedText",v.join(`
`)),s("labelWrapKey",u)}else if(o==="ellipsis"){var O=t.pstyle("text-max-width").pfValue,M="",z="",G=!1;if(this.calculateLabelDimensions(t,a).width<O)return a;for(var X=0;X<a.length;X++){var I=this.calculateLabelDimensions(t,M+a[X]+z).width;if(I>O)break;M+=a[X],X===a.length-1&&(G=!0)}return G||(M+=z),M}return a};Dr.getLabelJustification=function(t){var e=t.pstyle("text-justification").strValue,r=t.pstyle("text-halign").strValue;if(e==="auto")if(t.isNode())switch(r){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return e};Dr.calculateLabelDimensions=function(t,e){var r=this,n=r.cy.window(),a=n.document,i=On(e,t._private.labelDimsKey),s=r.labelDimCache||(r.labelDimCache=[]),o=s[i];if(o!=null)return o;var u=0,l=t.pstyle("font-style").strValue,c=t.pstyle("font-size").pfValue,f=t.pstyle("font-family").strValue,d=t.pstyle("font-weight").strValue,h=this.labelCalcCanvas,v=this.labelCalcCanvasContext;if(!h){h=this.labelCalcCanvas=a.createElement("canvas"),v=this.labelCalcCanvasContext=h.getContext("2d");var y=h.style;y.position="absolute",y.left="-9999px",y.top="-9999px",y.zIndex="-1",y.visibility="hidden",y.pointerEvents="none"}v.font="".concat(l," ").concat(d," ").concat(c,"px ").concat(f);for(var p=0,m=0,g=e.split(`
`),x=0;x<g.length;x++){var b=g[x],C=v.measureText(b),E=Math.ceil(C.width),w=c;p=Math.max(E,p),m+=w}return p+=u,m+=u,s[i]={width:p,height:m}};Dr.calculateLabelAngle=function(t,e){var r=t._private,n=r.rscratch,a=t.isEdge(),i=e?e+"-":"",s=t.pstyle(i+"text-rotation"),o=s.strValue;return o==="none"?0:a&&o==="autorotate"?n.labelAutoAngle:o==="autorotate"?0:s.pfValue};Dr.calculateLabelAngles=function(t){var e=this,r=t.isEdge(),n=t._private,a=n.rscratch;a.labelAngle=e.calculateLabelAngle(t),r&&(a.sourceLabelAngle=e.calculateLabelAngle(t,"source"),a.targetLabelAngle=e.calculateLabelAngle(t,"target"))};var vg={},Nd=28,zd=!1;vg.getNodeShape=function(t){var e=this,r=t.pstyle("shape").value;if(r==="cutrectangle"&&(t.width()<Nd||t.height()<Nd))return zd||(Ne("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),zd=!0),"rectangle";if(t.isParent())return r==="rectangle"||r==="roundrectangle"||r==="round-rectangle"||r==="cutrectangle"||r==="cut-rectangle"||r==="barrel"?r:"rectangle";if(r==="polygon"){var n=t.pstyle("shape-polygon-points").value;return e.nodeShapes.makePolygon(n).name}return r};var Mo={};Mo.registerCalculationListeners=function(){var t=this.cy,e=t.collection(),r=this,n=function(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.merge(s),o)for(var u=0;u<s.length;u++){var l=s[u],c=l._private,f=c.rstyle;f.clean=!1,f.cleanConnected=!1}};r.binder(t).on("bounds.* dirty.*",function(s){var o=s.target;n(o)}).on("style.* background.*",function(s){var o=s.target;n(o,!1)});var a=function(s){if(s){var o=r.onUpdateEleCalcsFns;e.cleanStyle();for(var u=0;u<e.length;u++){var l=e[u],c=l._private.rstyle;l.isNode()&&!c.cleanConnected&&(n(l.connectedEdges()),c.cleanConnected=!0)}if(o)for(var f=0;f<o.length;f++){var d=o[f];d(s,e)}r.recalculateRenderedStyle(e),e=t.collection()}};r.flushRenderedStyleQueue=function(){a(!0)},r.beforeRender(a,r.beforeRenderPriorities.eleCalcs)};Mo.onUpdateEleCalcs=function(t){var e=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];e.push(t)};Mo.recalculateRenderedStyle=function(t,e){var r=function(b){return b._private.rstyle.cleanConnected},n=[],a=[];if(!this.destroyed){e===void 0&&(e=!0);for(var i=0;i<t.length;i++){var s=t[i],o=s._private,u=o.rstyle;s.isEdge()&&(!r(s.source())||!r(s.target()))&&(u.clean=!1),!(e&&u.clean||s.removed())&&s.pstyle("display").value!=="none"&&(o.group==="nodes"?a.push(s):n.push(s),u.clean=!0)}for(var l=0;l<a.length;l++){var c=a[l],f=c._private,d=f.rstyle,h=c.position();this.recalculateNodeLabelProjection(c),d.nodeX=h.x,d.nodeY=h.y,d.nodeW=c.pstyle("width").pfValue,d.nodeH=c.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var v=0;v<n.length;v++){var y=n[v],p=y._private,m=p.rstyle,g=p.rscratch;m.srcX=g.arrowStartX,m.srcY=g.arrowStartY,m.tgtX=g.arrowEndX,m.tgtY=g.arrowEndY,m.midX=g.midX,m.midY=g.midY,m.labelAngle=g.labelAngle,m.sourceLabelAngle=g.sourceLabelAngle,m.targetLabelAngle=g.targetLabelAngle}}};var $o={};$o.updateCachedGrabbedEles=function(){var t=this.cachedZSortedEles;if(t){t.drag=[],t.nondrag=[];for(var e=[],r=0;r<t.length;r++){var n=t[r],a=n._private.rscratch;n.grabbed()&&!n.isParent()?e.push(n):a.inDragLayer?t.drag.push(n):t.nondrag.push(n)}for(var r=0;r<e.length;r++){var n=e[r];t.drag.push(n)}}};$o.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};$o.getCachedZSortedEles=function(t){if(t||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(Zp),e.interactive=e.filter(function(r){return r.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e};var pg={};[Gn,Gs,Ot,ji,Mc,Dr,vg,Mo,$o].forEach(function(t){Be(pg,t)});var gg={};gg.getCachedImage=function(t,e,r){var n=this,a=n.imageCache=n.imageCache||{},i=a[t];if(i)return i.image.complete||i.image.addEventListener("load",r),i.image;i=a[t]=a[t]||{};var s=i.image=new Image;s.addEventListener("load",r),s.addEventListener("error",function(){s.error=!0});var o="data:",u=t.substring(0,o.length).toLowerCase()===o;return u||(e=e==="null"?null:e,s.crossOrigin=e),s.src=t,s};var $a={};$a.registerBinding=function(t,e,r,n){var a=Array.prototype.slice.apply(arguments,[1]),i=this.binder(t);return i.on.apply(i,a)};$a.binder=function(t){var e=this,r=e.cy.window(),n=t===r||t===r.document||t===r.document.body||B2(t);if(e.supportsPassiveEvents==null){var a=!1;try{var i=Object.defineProperty({},"passive",{get:function(){return a=!0,!0}});r.addEventListener("test",null,i)}catch{}e.supportsPassiveEvents=a}var s=function(u,l,c){var f=Array.prototype.slice.call(arguments);return n&&e.supportsPassiveEvents&&(f[2]={capture:c??!1,passive:!1,once:!1}),e.bindings.push({target:t,args:f}),(t.addEventListener||t.on).apply(t,f),this};return{on:s,addEventListener:s,addListener:s,bind:s}};$a.nodeIsDraggable=function(t){return t&&t.isNode()&&!t.locked()&&t.grabbable()};$a.nodeIsGrabbable=function(t){return this.nodeIsDraggable(t)&&t.interactive()};$a.load=function(){var t=this,e=t.cy.window(),r=function(k){return k.selected()},n=function(k,W,ee,re){k==null&&(k=t.cy);for(var J=0;J<W.length;J++){var de=W[J];k.emit({originalEvent:ee,type:de,position:re})}},a=function(k){return k.shiftKey||k.metaKey||k.ctrlKey},i=function(k,W){var ee=!0;if(t.cy.hasCompoundNodes()&&k&&k.pannable())for(var re=0;W&&re<W.length;re++){var k=W[re];if(k.isNode()&&k.isParent()&&!k.pannable()){ee=!1;break}}else ee=!0;return ee},s=function(k){k[0]._private.grabbed=!0},o=function(k){k[0]._private.grabbed=!1},u=function(k){k[0]._private.rscratch.inDragLayer=!0},l=function(k){k[0]._private.rscratch.inDragLayer=!1},c=function(k){k[0]._private.rscratch.isGrabTarget=!0},f=function(k){k[0]._private.rscratch.isGrabTarget=!1},d=function(k,W){var ee=W.addToList,re=ee.has(k);!re&&k.grabbable()&&!k.locked()&&(ee.merge(k),s(k))},h=function(k,W){if(k.cy().hasCompoundNodes()&&!(W.inDragLayer==null&&W.addToList==null)){var ee=k.descendants();W.inDragLayer&&(ee.forEach(u),ee.connectedEdges().forEach(u)),W.addToList&&d(ee,W)}},v=function(k,W){W=W||{};var ee=k.cy().hasCompoundNodes();W.inDragLayer&&(k.forEach(u),k.neighborhood().stdFilter(function(re){return!ee||re.isEdge()}).forEach(u)),W.addToList&&k.forEach(function(re){d(re,W)}),h(k,W),m(k,{inDragLayer:W.inDragLayer}),t.updateCachedGrabbedEles()},y=v,p=function(k){k&&(t.getCachedZSortedEles().forEach(function(W){o(W),l(W),f(W)}),t.updateCachedGrabbedEles())},m=function(k,W){if(!(W.inDragLayer==null&&W.addToList==null)&&k.cy().hasCompoundNodes()){var ee=k.ancestors().orphans();if(!ee.same(k)){var re=ee.descendants().spawnSelf().merge(ee).unmerge(k).unmerge(k.descendants()),J=re.connectedEdges();W.inDragLayer&&(J.forEach(u),re.forEach(u)),W.addToList&&re.forEach(function(de){d(de,W)})}}},g=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},x=typeof MutationObserver<"u",b=typeof ResizeObserver<"u";x?(t.removeObserver=new MutationObserver(function(Q){for(var k=0;k<Q.length;k++){var W=Q[k],ee=W.removedNodes;if(ee)for(var re=0;re<ee.length;re++){var J=ee[re];if(J===t.container){t.destroy();break}}}}),t.container.parentNode&&t.removeObserver.observe(t.container.parentNode,{childList:!0})):t.registerBinding(t.container,"DOMNodeRemoved",function(Q){t.destroy()});var C=Co(function(){t.cy.resize()},100);x&&(t.styleObserver=new MutationObserver(C),t.styleObserver.observe(t.container,{attributes:!0})),t.registerBinding(e,"resize",C),b&&(t.resizeObserver=new ResizeObserver(C),t.resizeObserver.observe(t.container));var E=function(k,W){for(;k!=null;)W(k),k=k.parentNode},w=function(){t.invalidateContainerClientCoordsCache()};E(t.container,function(Q){t.registerBinding(Q,"transitionend",w),t.registerBinding(Q,"animationend",w),t.registerBinding(Q,"scroll",w)}),t.registerBinding(t.container,"contextmenu",function(Q){Q.preventDefault()});var B=function(){return t.selection[4]!==0},D=function(k){for(var W=t.findContainerClientCoords(),ee=W[0],re=W[1],J=W[2],de=W[3],ie=k.touches?k.touches:[k],pe=!1,Ce=0;Ce<ie.length;Ce++){var we=ie[Ce];if(ee<=we.clientX&&we.clientX<=ee+J&&re<=we.clientY&&we.clientY<=re+de){pe=!0;break}}if(!pe)return!1;for(var ye=t.container,be=k.target,me=be.parentNode,Ee=!1;me;){if(me===ye){Ee=!0;break}me=me.parentNode}return!!Ee};t.registerBinding(t.container,"mousedown",function(k){if(D(k)&&!(t.hoverData.which===1&&k.which!==1)){k.preventDefault(),g(),t.hoverData.capture=!0,t.hoverData.which=k.which;var W=t.cy,ee=[k.clientX,k.clientY],re=t.projectIntoViewport(ee[0],ee[1]),J=t.selection,de=t.findNearestElements(re[0],re[1],!0,!1),ie=de[0],pe=t.dragData.possibleDragElements;t.hoverData.mdownPos=re,t.hoverData.mdownGPos=ee;var Ce=function(){t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout(function(){if(!t.hoverData.tapholdCancelled){var je=t.hoverData.down;je?je.emit({originalEvent:k,type:"taphold",position:{x:re[0],y:re[1]}}):W.emit({originalEvent:k,type:"taphold",position:{x:re[0],y:re[1]}})}},t.tapholdDuration)};if(k.which==3){t.hoverData.cxtStarted=!0;var we={originalEvent:k,type:"cxttapstart",position:{x:re[0],y:re[1]}};ie?(ie.activate(),ie.emit(we),t.hoverData.down=ie):W.emit(we),t.hoverData.downTime=new Date().getTime(),t.hoverData.cxtDragged=!1}else if(k.which==1){ie&&ie.activate();{if(ie!=null&&t.nodeIsGrabbable(ie)){var ye=function(je){return{originalEvent:k,type:je,position:{x:re[0],y:re[1]}}},be=function(je){je.emit(ye("grab"))};if(c(ie),!ie.selected())pe=t.dragData.possibleDragElements=W.collection(),y(ie,{addToList:pe}),ie.emit(ye("grabon")).emit(ye("grab"));else{pe=t.dragData.possibleDragElements=W.collection();var me=W.$(function(Ee){return Ee.isNode()&&Ee.selected()&&t.nodeIsGrabbable(Ee)});v(me,{addToList:pe}),ie.emit(ye("grabon")),me.forEach(be)}t.redrawHint("eles",!0),t.redrawHint("drag",!0)}t.hoverData.down=ie,t.hoverData.downs=de,t.hoverData.downTime=new Date().getTime()}n(ie,["mousedown","tapstart","vmousedown"],k,{x:re[0],y:re[1]}),ie==null?(J[4]=1,t.data.bgActivePosistion={x:re[0],y:re[1]},t.redrawHint("select",!0),t.redraw()):ie.pannable()&&(J[4]=1),Ce()}J[0]=J[2]=re[0],J[1]=J[3]=re[1]}},!1),t.registerBinding(e,"mousemove",function(k){var W=t.hoverData.capture;if(!(!W&&!D(k))){var ee=!1,re=t.cy,J=re.zoom(),de=[k.clientX,k.clientY],ie=t.projectIntoViewport(de[0],de[1]),pe=t.hoverData.mdownPos,Ce=t.hoverData.mdownGPos,we=t.selection,ye=null;!t.hoverData.draggingEles&&!t.hoverData.dragging&&!t.hoverData.selecting&&(ye=t.findNearestElement(ie[0],ie[1],!0,!1));var be=t.hoverData.last,me=t.hoverData.down,Ee=[ie[0]-we[2],ie[1]-we[3]],je=t.dragData.possibleDragElements,Me;if(Ce){var yt=de[0]-Ce[0],at=yt*yt,rt=de[1]-Ce[1],At=rt*rt,st=at+At;t.hoverData.isOverThresholdDrag=Me=st>=t.desktopTapThreshold2}var dt=a(k);Me&&(t.hoverData.tapholdCancelled=!0);var Wt=function(){var yr=t.hoverData.dragDelta=t.hoverData.dragDelta||[];yr.length===0?(yr.push(Ee[0]),yr.push(Ee[1])):(yr[0]+=Ee[0],yr[1]+=Ee[1])};ee=!0,n(ye,["mousemove","vmousemove","tapdrag"],k,{x:ie[0],y:ie[1]});var Nt=function(){t.data.bgActivePosistion=void 0,t.hoverData.selecting||re.emit({originalEvent:k,type:"boxstart",position:{x:ie[0],y:ie[1]}}),we[4]=1,t.hoverData.selecting=!0,t.redrawHint("select",!0),t.redraw()};if(t.hoverData.which===3){if(Me){var xt={originalEvent:k,type:"cxtdrag",position:{x:ie[0],y:ie[1]}};me?me.emit(xt):re.emit(xt),t.hoverData.cxtDragged=!0,(!t.hoverData.cxtOver||ye!==t.hoverData.cxtOver)&&(t.hoverData.cxtOver&&t.hoverData.cxtOver.emit({originalEvent:k,type:"cxtdragout",position:{x:ie[0],y:ie[1]}}),t.hoverData.cxtOver=ye,ye&&ye.emit({originalEvent:k,type:"cxtdragover",position:{x:ie[0],y:ie[1]}}))}}else if(t.hoverData.dragging){if(ee=!0,re.panningEnabled()&&re.userPanningEnabled()){var Zt;if(t.hoverData.justStartedPan){var Qt=t.hoverData.mdownPos;Zt={x:(ie[0]-Qt[0])*J,y:(ie[1]-Qt[1])*J},t.hoverData.justStartedPan=!1}else Zt={x:Ee[0]*J,y:Ee[1]*J};re.panBy(Zt),re.emit("dragpan"),t.hoverData.dragged=!0}ie=t.projectIntoViewport(k.clientX,k.clientY)}else if(we[4]==1&&(me==null||me.pannable())){if(Me){if(!t.hoverData.dragging&&re.boxSelectionEnabled()&&(dt||!re.panningEnabled()||!re.userPanningEnabled()))Nt();else if(!t.hoverData.selecting&&re.panningEnabled()&&re.userPanningEnabled()){var Ye=i(me,t.hoverData.downs);Ye&&(t.hoverData.dragging=!0,t.hoverData.justStartedPan=!0,we[4]=0,t.data.bgActivePosistion=la(pe),t.redrawHint("select",!0),t.redraw())}me&&me.pannable()&&me.active()&&me.unactivate()}}else{if(me&&me.pannable()&&me.active()&&me.unactivate(),(!me||!me.grabbed())&&ye!=be&&(be&&n(be,["mouseout","tapdragout"],k,{x:ie[0],y:ie[1]}),ye&&n(ye,["mouseover","tapdragover"],k,{x:ie[0],y:ie[1]}),t.hoverData.last=ye),me)if(Me){if(re.boxSelectionEnabled()&&dt)me&&me.grabbed()&&(p(je),me.emit("freeon"),je.emit("free"),t.dragData.didDrag&&(me.emit("dragfreeon"),je.emit("dragfree"))),Nt();else if(me&&me.grabbed()&&t.nodeIsDraggable(me)){var qe=!t.dragData.didDrag;qe&&t.redrawHint("eles",!0),t.dragData.didDrag=!0,t.hoverData.draggingEles||v(je,{inDragLayer:!0});var nt={x:0,y:0};if(ge(Ee[0])&&ge(Ee[1])&&(nt.x+=Ee[0],nt.y+=Ee[1],qe)){var ht=t.hoverData.dragDelta;ht&&ge(ht[0])&&ge(ht[1])&&(nt.x+=ht[0],nt.y+=ht[1])}t.hoverData.draggingEles=!0,je.silentShift(nt).emit("position drag"),t.redrawHint("drag",!0),t.redraw()}}else Wt();ee=!0}if(we[2]=ie[0],we[3]=ie[1],ee)return k.stopPropagation&&k.stopPropagation(),k.preventDefault&&k.preventDefault(),!1}},!1);var _,A,S;t.registerBinding(e,"mouseup",function(k){if(!(t.hoverData.which===1&&k.which!==1&&t.hoverData.capture)){var W=t.hoverData.capture;if(W){t.hoverData.capture=!1;var ee=t.cy,re=t.projectIntoViewport(k.clientX,k.clientY),J=t.selection,de=t.findNearestElement(re[0],re[1],!0,!1),ie=t.dragData.possibleDragElements,pe=t.hoverData.down,Ce=a(k);if(t.data.bgActivePosistion&&(t.redrawHint("select",!0),t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,pe&&pe.unactivate(),t.hoverData.which===3){var we={originalEvent:k,type:"cxttapend",position:{x:re[0],y:re[1]}};if(pe?pe.emit(we):ee.emit(we),!t.hoverData.cxtDragged){var ye={originalEvent:k,type:"cxttap",position:{x:re[0],y:re[1]}};pe?pe.emit(ye):ee.emit(ye)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else if(t.hoverData.which===1){if(n(de,["mouseup","tapend","vmouseup"],k,{x:re[0],y:re[1]}),!t.dragData.didDrag&&!t.hoverData.dragged&&!t.hoverData.selecting&&!t.hoverData.isOverThresholdDrag&&(n(pe,["click","tap","vclick"],k,{x:re[0],y:re[1]}),A=!1,k.timeStamp-S<=ee.multiClickDebounceTime()?(_&&clearTimeout(_),A=!0,S=null,n(pe,["dblclick","dbltap","vdblclick"],k,{x:re[0],y:re[1]})):(_=setTimeout(function(){A||n(pe,["oneclick","onetap","voneclick"],k,{x:re[0],y:re[1]})},ee.multiClickDebounceTime()),S=k.timeStamp)),pe==null&&!t.dragData.didDrag&&!t.hoverData.selecting&&!t.hoverData.dragged&&!a(k)&&(ee.$(r).unselect(["tapunselect"]),ie.length>0&&t.redrawHint("eles",!0),t.dragData.possibleDragElements=ie=ee.collection()),de==pe&&!t.dragData.didDrag&&!t.hoverData.selecting&&de!=null&&de._private.selectable&&(t.hoverData.dragging||(ee.selectionType()==="additive"||Ce?de.selected()?de.unselect(["tapunselect"]):de.select(["tapselect"]):Ce||(ee.$(r).unmerge(de).unselect(["tapunselect"]),de.select(["tapselect"]))),t.redrawHint("eles",!0)),t.hoverData.selecting){var be=ee.collection(t.getAllInBox(J[0],J[1],J[2],J[3]));t.redrawHint("select",!0),be.length>0&&t.redrawHint("eles",!0),ee.emit({type:"boxend",originalEvent:k,position:{x:re[0],y:re[1]}});var me=function(Me){return Me.selectable()&&!Me.selected()};ee.selectionType()==="additive"||Ce||ee.$(r).unmerge(be).unselect(),be.emit("box").stdFilter(me).select().emit("boxselect"),t.redraw()}if(t.hoverData.dragging&&(t.hoverData.dragging=!1,t.redrawHint("select",!0),t.redrawHint("eles",!0),t.redraw()),!J[4]){t.redrawHint("drag",!0),t.redrawHint("eles",!0);var Ee=pe&&pe.grabbed();p(ie),Ee&&(pe.emit("freeon"),ie.emit("free"),t.dragData.didDrag&&(pe.emit("dragfreeon"),ie.emit("dragfree")))}}J[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.hoverData.isOverThresholdDrag=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[],t.hoverData.mdownPos=null,t.hoverData.mdownGPos=null,t.hoverData.which=null}}},!1);var P=function(k){if(!t.scrollingPage){var W=t.cy,ee=W.zoom(),re=W.pan(),J=t.projectIntoViewport(k.clientX,k.clientY),de=[J[0]*ee+re.x,J[1]*ee+re.y];if(t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||B()){k.preventDefault();return}if(W.panningEnabled()&&W.userPanningEnabled()&&W.zoomingEnabled()&&W.userZoomingEnabled()){k.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout(function(){t.data.wheelZooming=!1,t.redrawHint("eles",!0),t.redraw()},150);var ie;k.deltaY!=null?ie=k.deltaY/-250:k.wheelDeltaY!=null?ie=k.wheelDeltaY/1e3:ie=k.wheelDelta/1e3,ie=ie*t.wheelSensitivity;var pe=k.deltaMode===1;pe&&(ie*=33);var Ce=W.zoom()*Math.pow(10,ie);k.type==="gesturechange"&&(Ce=t.gestureStartZoom*k.scale),W.zoom({level:Ce,renderedPosition:{x:de[0],y:de[1]}}),W.emit(k.type==="gesturechange"?"pinchzoom":"scrollzoom")}}};t.registerBinding(t.container,"wheel",P,!0),t.registerBinding(e,"scroll",function(k){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout(function(){t.scrollingPage=!1},250)},!0),t.registerBinding(t.container,"gesturestart",function(k){t.gestureStartZoom=t.cy.zoom(),t.hasTouchStarted||k.preventDefault()},!0),t.registerBinding(t.container,"gesturechange",function(Q){t.hasTouchStarted||P(Q)},!0),t.registerBinding(t.container,"mouseout",function(k){var W=t.projectIntoViewport(k.clientX,k.clientY);t.cy.emit({originalEvent:k,type:"mouseout",position:{x:W[0],y:W[1]}})},!1),t.registerBinding(t.container,"mouseover",function(k){var W=t.projectIntoViewport(k.clientX,k.clientY);t.cy.emit({originalEvent:k,type:"mouseover",position:{x:W[0],y:W[1]}})},!1);var T,$,O,M,z,G,X,I,L,U,j,oe,se,V=function(k,W,ee,re){return Math.sqrt((ee-k)*(ee-k)+(re-W)*(re-W))},H=function(k,W,ee,re){return(ee-k)*(ee-k)+(re-W)*(re-W)},N;t.registerBinding(t.container,"touchstart",N=function(k){if(t.hasTouchStarted=!0,!!D(k)){g(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var W=t.cy,ee=t.touchData.now,re=t.touchData.earlier;if(k.touches[0]){var J=t.projectIntoViewport(k.touches[0].clientX,k.touches[0].clientY);ee[0]=J[0],ee[1]=J[1]}if(k.touches[1]){var J=t.projectIntoViewport(k.touches[1].clientX,k.touches[1].clientY);ee[2]=J[0],ee[3]=J[1]}if(k.touches[2]){var J=t.projectIntoViewport(k.touches[2].clientX,k.touches[2].clientY);ee[4]=J[0],ee[5]=J[1]}if(k.touches[1]){t.touchData.singleTouchMoved=!0,p(t.dragData.touchDragEles);var de=t.findContainerClientCoords();L=de[0],U=de[1],j=de[2],oe=de[3],T=k.touches[0].clientX-L,$=k.touches[0].clientY-U,O=k.touches[1].clientX-L,M=k.touches[1].clientY-U,se=0<=T&&T<=j&&0<=O&&O<=j&&0<=$&&$<=oe&&0<=M&&M<=oe;var ie=W.pan(),pe=W.zoom();z=V(T,$,O,M),G=H(T,$,O,M),X=[(T+O)/2,($+M)/2],I=[(X[0]-ie.x)/pe,(X[1]-ie.y)/pe];var Ce=200,we=Ce*Ce;if(G<we&&!k.touches[2]){var ye=t.findNearestElement(ee[0],ee[1],!0,!0),be=t.findNearestElement(ee[2],ee[3],!0,!0);ye&&ye.isNode()?(ye.activate().emit({originalEvent:k,type:"cxttapstart",position:{x:ee[0],y:ee[1]}}),t.touchData.start=ye):be&&be.isNode()?(be.activate().emit({originalEvent:k,type:"cxttapstart",position:{x:ee[0],y:ee[1]}}),t.touchData.start=be):W.emit({originalEvent:k,type:"cxttapstart",position:{x:ee[0],y:ee[1]}}),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,t.redraw();return}}if(k.touches[2])W.boxSelectionEnabled()&&k.preventDefault();else if(!k.touches[1]){if(k.touches[0]){var me=t.findNearestElements(ee[0],ee[1],!0,!0),Ee=me[0];if(Ee!=null&&(Ee.activate(),t.touchData.start=Ee,t.touchData.starts=me,t.nodeIsGrabbable(Ee))){var je=t.dragData.touchDragEles=W.collection(),Me=null;t.redrawHint("eles",!0),t.redrawHint("drag",!0),Ee.selected()?(Me=W.$(function(st){return st.selected()&&t.nodeIsGrabbable(st)}),v(Me,{addToList:je})):y(Ee,{addToList:je}),c(Ee);var yt=function(dt){return{originalEvent:k,type:dt,position:{x:ee[0],y:ee[1]}}};Ee.emit(yt("grabon")),Me?Me.forEach(function(st){st.emit(yt("grab"))}):Ee.emit(yt("grab"))}n(Ee,["touchstart","tapstart","vmousedown"],k,{x:ee[0],y:ee[1]}),Ee==null&&(t.data.bgActivePosistion={x:J[0],y:J[1]},t.redrawHint("select",!0),t.redraw()),t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout(function(){t.touchData.singleTouchMoved===!1&&!t.pinching&&!t.touchData.selecting&&n(t.touchData.start,["taphold"],k,{x:ee[0],y:ee[1]})},t.tapholdDuration)}}if(k.touches.length>=1){for(var at=t.touchData.startPosition=[null,null,null,null,null,null],rt=0;rt<ee.length;rt++)at[rt]=re[rt]=ee[rt];var At=k.touches[0];t.touchData.startGPosition=[At.clientX,At.clientY]}}},!1);var K;t.registerBinding(e,"touchmove",K=function(k){var W=t.touchData.capture;if(!(!W&&!D(k))){var ee=t.selection,re=t.cy,J=t.touchData.now,de=t.touchData.earlier,ie=re.zoom();if(k.touches[0]){var pe=t.projectIntoViewport(k.touches[0].clientX,k.touches[0].clientY);J[0]=pe[0],J[1]=pe[1]}if(k.touches[1]){var pe=t.projectIntoViewport(k.touches[1].clientX,k.touches[1].clientY);J[2]=pe[0],J[3]=pe[1]}if(k.touches[2]){var pe=t.projectIntoViewport(k.touches[2].clientX,k.touches[2].clientY);J[4]=pe[0],J[5]=pe[1]}var Ce=t.touchData.startGPosition,we;if(W&&k.touches[0]&&Ce){for(var ye=[],be=0;be<J.length;be++)ye[be]=J[be]-de[be];var me=k.touches[0].clientX-Ce[0],Ee=me*me,je=k.touches[0].clientY-Ce[1],Me=je*je,yt=Ee+Me;we=yt>=t.touchTapThreshold2}if(W&&t.touchData.cxt){k.preventDefault();var at=k.touches[0].clientX-L,rt=k.touches[0].clientY-U,At=k.touches[1].clientX-L,st=k.touches[1].clientY-U,dt=H(at,rt,At,st),Wt=dt/G,Nt=150,xt=Nt*Nt,Zt=1.5,Qt=Zt*Zt;if(Wt>=Qt||dt>=xt){t.touchData.cxt=!1,t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Ye={originalEvent:k,type:"cxttapend",position:{x:J[0],y:J[1]}};t.touchData.start?(t.touchData.start.unactivate().emit(Ye),t.touchData.start=null):re.emit(Ye)}}if(W&&t.touchData.cxt){var Ye={originalEvent:k,type:"cxtdrag",position:{x:J[0],y:J[1]}};t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.touchData.start?t.touchData.start.emit(Ye):re.emit(Ye),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var qe=t.findNearestElement(J[0],J[1],!0,!0);(!t.touchData.cxtOver||qe!==t.touchData.cxtOver)&&(t.touchData.cxtOver&&t.touchData.cxtOver.emit({originalEvent:k,type:"cxtdragout",position:{x:J[0],y:J[1]}}),t.touchData.cxtOver=qe,qe&&qe.emit({originalEvent:k,type:"cxtdragover",position:{x:J[0],y:J[1]}}))}else if(W&&k.touches[2]&&re.boxSelectionEnabled())k.preventDefault(),t.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,t.touchData.selecting||re.emit({originalEvent:k,type:"boxstart",position:{x:J[0],y:J[1]}}),t.touchData.selecting=!0,t.touchData.didSelect=!0,ee[4]=1,!ee||ee.length===0||ee[0]===void 0?(ee[0]=(J[0]+J[2]+J[4])/3,ee[1]=(J[1]+J[3]+J[5])/3,ee[2]=(J[0]+J[2]+J[4])/3+1,ee[3]=(J[1]+J[3]+J[5])/3+1):(ee[2]=(J[0]+J[2]+J[4])/3,ee[3]=(J[1]+J[3]+J[5])/3),t.redrawHint("select",!0),t.redraw();else if(W&&k.touches[1]&&!t.touchData.didSelect&&re.zoomingEnabled()&&re.panningEnabled()&&re.userZoomingEnabled()&&re.userPanningEnabled()){k.preventDefault(),t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var nt=t.dragData.touchDragEles;if(nt){t.redrawHint("drag",!0);for(var ht=0;ht<nt.length;ht++){var Xn=nt[ht]._private;Xn.grabbed=!1,Xn.rscratch.inDragLayer=!1}}var yr=t.touchData.start,at=k.touches[0].clientX-L,rt=k.touches[0].clientY-U,At=k.touches[1].clientX-L,st=k.touches[1].clientY-U,zc=V(at,rt,At,st),Fg=zc/z;if(se){var Rg=at-T,Og=rt-$,Ig=At-O,Lg=st-M,Mg=(Rg+Ig)/2,$g=(Og+Lg)/2,Ha=re.zoom(),No=Ha*Fg,Gi=re.pan(),Hc=I[0]*Ha+Gi.x,qc=I[1]*Ha+Gi.y,Ng={x:-No/Ha*(Hc-Gi.x-Mg)+Hc,y:-No/Ha*(qc-Gi.y-$g)+qc};if(yr&&yr.active()){var nt=t.dragData.touchDragEles;p(nt),t.redrawHint("drag",!0),t.redrawHint("eles",!0),yr.unactivate().emit("freeon"),nt.emit("free"),t.dragData.didDrag&&(yr.emit("dragfreeon"),nt.emit("dragfree"))}re.viewport({zoom:No,pan:Ng,cancelOnFailedZoom:!0}),re.emit("pinchzoom"),z=zc,T=at,$=rt,O=At,M=st,t.pinching=!0}if(k.touches[0]){var pe=t.projectIntoViewport(k.touches[0].clientX,k.touches[0].clientY);J[0]=pe[0],J[1]=pe[1]}if(k.touches[1]){var pe=t.projectIntoViewport(k.touches[1].clientX,k.touches[1].clientY);J[2]=pe[0],J[3]=pe[1]}if(k.touches[2]){var pe=t.projectIntoViewport(k.touches[2].clientX,k.touches[2].clientY);J[4]=pe[0],J[5]=pe[1]}}else if(k.touches[0]&&!t.touchData.didSelect){var ar=t.touchData.start,zo=t.touchData.last,qe;if(!t.hoverData.draggingEles&&!t.swipePanning&&(qe=t.findNearestElement(J[0],J[1],!0,!0)),W&&ar!=null&&k.preventDefault(),W&&ar!=null&&t.nodeIsDraggable(ar))if(we){var nt=t.dragData.touchDragEles,Vc=!t.dragData.didDrag;Vc&&v(nt,{inDragLayer:!0}),t.dragData.didDrag=!0;var qa={x:0,y:0};if(ge(ye[0])&&ge(ye[1])&&(qa.x+=ye[0],qa.y+=ye[1],Vc)){t.redrawHint("eles",!0);var ir=t.touchData.dragDelta;ir&&ge(ir[0])&&ge(ir[1])&&(qa.x+=ir[0],qa.y+=ir[1])}t.hoverData.draggingEles=!0,nt.silentShift(qa).emit("position drag"),t.redrawHint("drag",!0),t.touchData.startPosition[0]==de[0]&&t.touchData.startPosition[1]==de[1]&&t.redrawHint("eles",!0),t.redraw()}else{var ir=t.touchData.dragDelta=t.touchData.dragDelta||[];ir.length===0?(ir.push(ye[0]),ir.push(ye[1])):(ir[0]+=ye[0],ir[1]+=ye[1])}if(n(ar||qe,["touchmove","tapdrag","vmousemove"],k,{x:J[0],y:J[1]}),(!ar||!ar.grabbed())&&qe!=zo&&(zo&&zo.emit({originalEvent:k,type:"tapdragout",position:{x:J[0],y:J[1]}}),qe&&qe.emit({originalEvent:k,type:"tapdragover",position:{x:J[0],y:J[1]}})),t.touchData.last=qe,W)for(var ht=0;ht<J.length;ht++)J[ht]&&t.touchData.startPosition[ht]&&we&&(t.touchData.singleTouchMoved=!0);if(W&&(ar==null||ar.pannable())&&re.panningEnabled()&&re.userPanningEnabled()){var zg=i(ar,t.touchData.starts);zg&&(k.preventDefault(),t.data.bgActivePosistion||(t.data.bgActivePosistion=la(t.touchData.startPosition)),t.swipePanning?(re.panBy({x:ye[0]*ie,y:ye[1]*ie}),re.emit("dragpan")):we&&(t.swipePanning=!0,re.panBy({x:me*ie,y:je*ie}),re.emit("dragpan"),ar&&(ar.unactivate(),t.redrawHint("select",!0),t.touchData.start=null)));var pe=t.projectIntoViewport(k.touches[0].clientX,k.touches[0].clientY);J[0]=pe[0],J[1]=pe[1]}}for(var be=0;be<J.length;be++)de[be]=J[be];W&&k.touches.length>0&&!t.hoverData.draggingEles&&!t.swipePanning&&t.data.bgActivePosistion!=null&&(t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.redraw())}},!1);var ne;t.registerBinding(e,"touchcancel",ne=function(k){var W=t.touchData.start;t.touchData.capture=!1,W&&W.unactivate()});var he,R,F,q;if(t.registerBinding(e,"touchend",he=function(k){var W=t.touchData.start,ee=t.touchData.capture;if(ee)k.touches.length===0&&(t.touchData.capture=!1),k.preventDefault();else return;var re=t.selection;t.swipePanning=!1,t.hoverData.draggingEles=!1;var J=t.cy,de=J.zoom(),ie=t.touchData.now,pe=t.touchData.earlier;if(k.touches[0]){var Ce=t.projectIntoViewport(k.touches[0].clientX,k.touches[0].clientY);ie[0]=Ce[0],ie[1]=Ce[1]}if(k.touches[1]){var Ce=t.projectIntoViewport(k.touches[1].clientX,k.touches[1].clientY);ie[2]=Ce[0],ie[3]=Ce[1]}if(k.touches[2]){var Ce=t.projectIntoViewport(k.touches[2].clientX,k.touches[2].clientY);ie[4]=Ce[0],ie[5]=Ce[1]}W&&W.unactivate();var we;if(t.touchData.cxt){if(we={originalEvent:k,type:"cxttapend",position:{x:ie[0],y:ie[1]}},W?W.emit(we):J.emit(we),!t.touchData.cxtDragged){var ye={originalEvent:k,type:"cxttap",position:{x:ie[0],y:ie[1]}};W?W.emit(ye):J.emit(ye)}t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,t.redraw();return}if(!k.touches[2]&&J.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1;var be=J.collection(t.getAllInBox(re[0],re[1],re[2],re[3]));re[0]=void 0,re[1]=void 0,re[2]=void 0,re[3]=void 0,re[4]=0,t.redrawHint("select",!0),J.emit({type:"boxend",originalEvent:k,position:{x:ie[0],y:ie[1]}});var me=function(xt){return xt.selectable()&&!xt.selected()};be.emit("box").stdFilter(me).select().emit("boxselect"),be.nonempty()&&t.redrawHint("eles",!0),t.redraw()}if(W!=null&&W.unactivate(),k.touches[2])t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);else if(!k.touches[1]){if(!k.touches[0]){if(!k.touches[0]){t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Ee=t.dragData.touchDragEles;if(W!=null){var je=W._private.grabbed;p(Ee),t.redrawHint("drag",!0),t.redrawHint("eles",!0),je&&(W.emit("freeon"),Ee.emit("free"),t.dragData.didDrag&&(W.emit("dragfreeon"),Ee.emit("dragfree"))),n(W,["touchend","tapend","vmouseup","tapdragout"],k,{x:ie[0],y:ie[1]}),W.unactivate(),t.touchData.start=null}else{var Me=t.findNearestElement(ie[0],ie[1],!0,!0);n(Me,["touchend","tapend","vmouseup","tapdragout"],k,{x:ie[0],y:ie[1]})}var yt=t.touchData.startPosition[0]-ie[0],at=yt*yt,rt=t.touchData.startPosition[1]-ie[1],At=rt*rt,st=at+At,dt=st*de*de;t.touchData.singleTouchMoved||(W||J.$(":selected").unselect(["tapunselect"]),n(W,["tap","vclick"],k,{x:ie[0],y:ie[1]}),R=!1,k.timeStamp-q<=J.multiClickDebounceTime()?(F&&clearTimeout(F),R=!0,q=null,n(W,["dbltap","vdblclick"],k,{x:ie[0],y:ie[1]})):(F=setTimeout(function(){R||n(W,["onetap","voneclick"],k,{x:ie[0],y:ie[1]})},J.multiClickDebounceTime()),q=k.timeStamp)),W!=null&&!t.dragData.didDrag&&W._private.selectable&&dt<t.touchTapThreshold2&&!t.pinching&&(J.selectionType()==="single"?(J.$(r).unmerge(W).unselect(["tapunselect"]),W.select(["tapselect"])):W.selected()?W.unselect(["tapunselect"]):W.select(["tapselect"]),t.redrawHint("eles",!0)),t.touchData.singleTouchMoved=!0}}}for(var Wt=0;Wt<ie.length;Wt++)pe[Wt]=ie[Wt];t.dragData.didDrag=!1,k.touches.length===0&&(t.touchData.dragDelta=[],t.touchData.startPosition=[null,null,null,null,null,null],t.touchData.startGPosition=null,t.touchData.didSelect=!1),k.touches.length<2&&(k.touches.length===1&&(t.touchData.startGPosition=[k.touches[0].clientX,k.touches[0].clientY]),t.pinching=!1,t.redrawHint("eles",!0),t.redraw())},!1),typeof TouchEvent>"u"){var Z=[],Y=function(k){return{clientX:k.clientX,clientY:k.clientY,force:1,identifier:k.pointerId,pageX:k.pageX,pageY:k.pageY,radiusX:k.width/2,radiusY:k.height/2,screenX:k.screenX,screenY:k.screenY,target:k.target}},te=function(k){return{event:k,touch:Y(k)}},le=function(k){Z.push(te(k))},ce=function(k){for(var W=0;W<Z.length;W++){var ee=Z[W];if(ee.event.pointerId===k.pointerId){Z.splice(W,1);return}}},ue=function(k){var W=Z.filter(function(ee){return ee.event.pointerId===k.pointerId})[0];W.event=k,W.touch=Y(k)},ae=function(k){k.touches=Z.map(function(W){return W.touch})},fe=function(k){return k.pointerType==="mouse"||k.pointerType===4};t.registerBinding(t.container,"pointerdown",function(Q){fe(Q)||(Q.preventDefault(),le(Q),ae(Q),N(Q))}),t.registerBinding(t.container,"pointerup",function(Q){fe(Q)||(ce(Q),ae(Q),he(Q))}),t.registerBinding(t.container,"pointercancel",function(Q){fe(Q)||(ce(Q),ae(Q),ne(Q))}),t.registerBinding(t.container,"pointermove",function(Q){fe(Q)||(Q.preventDefault(),ue(Q),ae(Q),K(Q))})}};var $r={};$r.generatePolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,draw:function(n,a,i,s,o,u){this.renderer.nodeShapeImpl("polygon",n,a,i,s,o,this.points)},intersectLine:function(n,a,i,s,o,u,l,c){return ki(o,u,this.points,n,a,i/2,s/2,l)},checkPoint:function(n,a,i,s,o,u,l,c){return Ir(n,a,this.points,u,l,s,o,[0,-1],i)}}};$r.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,r,n,a,i,s){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i)},intersectLine:function(e,r,n,a,i,s,o,u){return yC(i,s,e,r,n/2+o,a/2+o)},checkPoint:function(e,r,n,a,i,s,o,u){return kn(e,r,a,i,s,o,n)}}};$r.generateRoundPolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,getOrCreateCorners:function(n,a,i,s,o,u,l){if(u[l]!==void 0&&u[l+"-cx"]===n&&u[l+"-cy"]===a)return u[l];u[l]=new Array(e.length/2),u[l+"-cx"]=n,u[l+"-cy"]=a;var c=i/2,f=s/2;o=o==="auto"?xp(i,s):o;for(var d=new Array(e.length/2),h=0;h<e.length/2;h++)d[h]={x:n+c*e[h*2],y:a+f*e[h*2+1]};var v,y,p,m,g=d.length;for(y=d[g-1],v=0;v<g;v++)p=d[v%g],m=d[(v+1)%g],u[l][v]=Lc(y,p,m,o),y=p,p=m;return u[l]},draw:function(n,a,i,s,o,u,l){this.renderer.nodeShapeImpl("round-polygon",n,a,i,s,o,this.points,this.getOrCreateCorners(a,i,s,o,u,l,"drawCorners"))},intersectLine:function(n,a,i,s,o,u,l,c,f){return xC(o,u,this.points,n,a,i,s,l,this.getOrCreateCorners(n,a,i,s,c,f,"corners"))},checkPoint:function(n,a,i,s,o,u,l,c,f){return mC(n,a,this.points,u,l,s,o,this.getOrCreateCorners(u,l,s,o,c,f,"corners"))}}};$r.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Lt(4,0),draw:function(e,r,n,a,i,s){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i,this.points,s)},intersectLine:function(e,r,n,a,i,s,o,u){return mp(i,s,e,r,n,a,o,u)},checkPoint:function(e,r,n,a,i,s,o,u){var l=a/2,c=i/2;u=u==="auto"?Ln(a,i):u,u=Math.min(l,c,u);var f=u*2;return!!(Ir(e,r,this.points,s,o,a,i-f,[0,-1],n)||Ir(e,r,this.points,s,o,a-f,i,[0,-1],n)||kn(e,r,f,f,s-l+u,o-c+u,n)||kn(e,r,f,f,s+l-u,o-c+u,n)||kn(e,r,f,f,s+l-u,o+c-u,n)||kn(e,r,f,f,s-l+u,o+c-u,n))}}};$r.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:_c(),points:Lt(4,0),draw:function(e,r,n,a,i,s){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i,null,s)},generateCutTrianglePts:function(e,r,n,a,i){var s=i==="auto"?this.cornerLength:i,o=r/2,u=e/2,l=n-u,c=n+u,f=a-o,d=a+o;return{topLeft:[l,f+s,l+s,f,l+s,f+s],topRight:[c-s,f,c,f+s,c-s,f+s],bottomRight:[c,d-s,c-s,d,c-s,d-s],bottomLeft:[l+s,d,l,d-s,l+s,d-s]}},intersectLine:function(e,r,n,a,i,s,o,u){var l=this.generateCutTrianglePts(n+2*o,a+2*o,e,r,u),c=[].concat.apply([],[l.topLeft.splice(0,4),l.topRight.splice(0,4),l.bottomRight.splice(0,4),l.bottomLeft.splice(0,4)]);return ki(i,s,c,e,r)},checkPoint:function(e,r,n,a,i,s,o,u){var l=u==="auto"?this.cornerLength:u;if(Ir(e,r,this.points,s,o,a,i-2*l,[0,-1],n)||Ir(e,r,this.points,s,o,a-2*l,i,[0,-1],n))return!0;var c=this.generateCutTrianglePts(a,i,s,o);return qt(e,r,c.topLeft)||qt(e,r,c.topRight)||qt(e,r,c.bottomRight)||qt(e,r,c.bottomLeft)}}};$r.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Lt(4,0),draw:function(e,r,n,a,i,s){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i)},intersectLine:function(e,r,n,a,i,s,o,u){var l=.15,c=.5,f=.85,d=this.generateBarrelBezierPts(n+2*o,a+2*o,e,r),h=function(p){var m=ga({x:p[0],y:p[1]},{x:p[2],y:p[3]},{x:p[4],y:p[5]},l),g=ga({x:p[0],y:p[1]},{x:p[2],y:p[3]},{x:p[4],y:p[5]},c),x=ga({x:p[0],y:p[1]},{x:p[2],y:p[3]},{x:p[4],y:p[5]},f);return[p[0],p[1],m.x,m.y,g.x,g.y,x.x,x.y,p[4],p[5]]},v=[].concat(h(d.topLeft),h(d.topRight),h(d.bottomRight),h(d.bottomLeft));return ki(i,s,v,e,r)},generateBarrelBezierPts:function(e,r,n,a){var i=r/2,s=e/2,o=n-s,u=n+s,l=a-i,c=a+i,f=Eu(e,r),d=f.heightOffset,h=f.widthOffset,v=f.ctrlPtOffsetPct*e,y={topLeft:[o,l+d,o+v,l,o+h,l],topRight:[u-h,l,u-v,l,u,l+d],bottomRight:[u,c-d,u-v,c,u-h,c],bottomLeft:[o+h,c,o+v,c,o,c-d]};return y.topLeft.isTop=!0,y.topRight.isTop=!0,y.bottomLeft.isBottom=!0,y.bottomRight.isBottom=!0,y},checkPoint:function(e,r,n,a,i,s,o,u){var l=Eu(a,i),c=l.heightOffset,f=l.widthOffset;if(Ir(e,r,this.points,s,o,a,i-2*c,[0,-1],n)||Ir(e,r,this.points,s,o,a-2*f,i,[0,-1],n))return!0;for(var d=this.generateBarrelBezierPts(a,i,s,o),h=function(B,D,_){var A=_[4],S=_[2],P=_[0],T=_[5],$=_[1],O=Math.min(A,P),M=Math.max(A,P),z=Math.min(T,$),G=Math.max(T,$);if(O<=B&&B<=M&&z<=D&&D<=G){var X=bC(A,S,P),I=hC(X[0],X[1],X[2],B),L=I.filter(function(U){return 0<=U&&U<=1});if(L.length>0)return L[0]}return null},v=Object.keys(d),y=0;y<v.length;y++){var p=v[y],m=d[p],g=h(e,r,m);if(g!=null){var x=m[5],b=m[3],C=m[1],E=pt(x,b,C,g);if(m.isTop&&E<=r||m.isBottom&&r<=E)return!0}}return!1}}};$r.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Lt(4,0),draw:function(e,r,n,a,i,s){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i,this.points,s)},intersectLine:function(e,r,n,a,i,s,o,u){var l=e-(n/2+o),c=r-(a/2+o),f=c,d=e+(n/2+o),h=Qr(i,s,e,r,l,c,d,f,!1);return h.length>0?h:mp(i,s,e,r,n,a,o,u)},checkPoint:function(e,r,n,a,i,s,o,u){u=u==="auto"?Ln(a,i):u;var l=2*u;if(Ir(e,r,this.points,s,o,a,i-l,[0,-1],n)||Ir(e,r,this.points,s,o,a-l,i,[0,-1],n))return!0;var c=a/2+2*n,f=i/2+2*n,d=[s-c,o-f,s-c,o,s+c,o,s+c,o-f];return!!(qt(e,r,d)||kn(e,r,l,l,s+a/2-u,o+i/2-u,n)||kn(e,r,l,l,s-a/2+u,o+i/2-u,n))}}};$r.registerNodeShapes=function(){var t=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",Lt(3,0)),this.generateRoundPolygon("round-triangle",Lt(3,0)),this.generatePolygon("rectangle",Lt(4,0)),t.square=t.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r)}this.generatePolygon("pentagon",Lt(5,0)),this.generateRoundPolygon("round-pentagon",Lt(5,0)),this.generatePolygon("hexagon",Lt(6,0)),this.generateRoundPolygon("round-hexagon",Lt(6,0)),this.generatePolygon("heptagon",Lt(7,0)),this.generateRoundPolygon("round-heptagon",Lt(7,0)),this.generatePolygon("octagon",Lt(8,0)),this.generateRoundPolygon("round-octagon",Lt(8,0));var n=new Array(20);{var a=wu(5,0),i=wu(5,Math.PI/5),s=.5*(3-Math.sqrt(5));s*=1.57;for(var o=0;o<i.length/2;o++)i[o*2]*=s,i[o*2+1]*=s;for(var o=0;o<20/4;o++)n[o*4]=a[o*2],n[o*4+1]=a[o*2+1],n[o*4+2]=i[o*2],n[o*4+3]=i[o*2+1]}n=yp(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var u=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",u),this.generateRoundPolygon("round-tag",u)}t.makePolygon=function(l){var c=l.join("$"),f="polygon-"+c,d;return(d=this[f])?d:e.generatePolygon(f,l)}};var Wi={};Wi.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};Wi.redraw=function(t){t=t||dp();var e=this;e.averageRedrawTime===void 0&&(e.averageRedrawTime=0),e.lastRedrawTime===void 0&&(e.lastRedrawTime=0),e.lastDrawTime===void 0&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=t};Wi.beforeRender=function(t,e){if(!this.destroyed){e==null&&et("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:t,priority:e}),r.sort(function(n,a){return a.priority-n.priority})}};var Hd=function(e,r,n){for(var a=e.beforeRenderCallbacks,i=0;i<a.length;i++)a[i].fn(r,n)};Wi.startRenderLoop=function(){var t=this,e=t.cy;if(!t.renderLoopStarted){t.renderLoopStarted=!0;var r=function n(a){if(!t.destroyed){if(!e.batching())if(t.requestedFrame&&!t.skipFrame){Hd(t,!0,a);var i=Or();t.render(t.renderOptions);var s=t.lastDrawTime=Or();t.averageRedrawTime===void 0&&(t.averageRedrawTime=s-i),t.redrawCount===void 0&&(t.redrawCount=0),t.redrawCount++,t.redrawTotalTime===void 0&&(t.redrawTotalTime=0);var o=s-i;t.redrawTotalTime+=o,t.lastRedrawTime=o,t.averageRedrawTime=t.averageRedrawTime/2+o/2,t.requestedFrame=!1}else Hd(t,!1,a);t.skipFrame=!1,zs(n)}};zs(r)}};var tD=function(e){this.init(e)},mg=tD,Na=mg.prototype;Na.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];Na.init=function(t){var e=this;e.options=t,e.cy=t.cy;var r=e.container=t.cy.container(),n=e.cy.window();if(n){var a=n.document,i=a.head,s="__________cytoscape_stylesheet",o="__________cytoscape_container",u=a.getElementById(s)!=null;if(r.className.indexOf(o)<0&&(r.className=(r.className||"")+" "+o),!u){var l=a.createElement("style");l.id=s,l.textContent="."+o+" { position: relative; }",i.insertBefore(l,i.children[0])}var c=n.getComputedStyle(r),f=c.getPropertyValue("position");f==="static"&&Ne("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=t.showFps,e.debug=t.debug,e.hideEdgesOnViewport=t.hideEdgesOnViewport,e.textureOnViewport=t.textureOnViewport,e.wheelSensitivity=t.wheelSensitivity,e.motionBlurEnabled=t.motionBlur,e.forcedPixelRatio=ge(t.pixelRatio)?t.pixelRatio:null,e.motionBlur=t.motionBlur,e.motionBlurOpacity=t.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=t.desktopTapThreshold,e.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,e.touchTapThreshold=t.touchTapThreshold,e.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()};Na.notify=function(t,e){var r=this,n=r.cy;if(!this.destroyed){if(t==="init"){r.load();return}if(t==="destroy"){r.destroy();return}(t==="add"||t==="remove"||t==="move"&&n.hasCompoundNodes()||t==="load"||t==="zorder"||t==="mount")&&r.invalidateCachedZSortedEles(),t==="viewport"&&r.redrawHint("select",!0),(t==="load"||t==="resize"||t==="mount")&&(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};Na.destroy=function(){var t=this;t.destroyed=!0,t.cy.stopAnimationLoop();for(var e=0;e<t.bindings.length;e++){var r=t.bindings[e],n=r,a=n.target;(a.off||a.removeEventListener).apply(a,n.args)}if(t.bindings=[],t.beforeRenderCallbacks=[],t.onUpdateEleCalcsFns=[],t.removeObserver&&t.removeObserver.disconnect(),t.styleObserver&&t.styleObserver.disconnect(),t.resizeObserver&&t.resizeObserver.disconnect(),t.labelCalcDiv)try{document.body.removeChild(t.labelCalcDiv)}catch{}};Na.isHeadless=function(){return!1};[Ic,pg,gg,$a,$r,Wi].forEach(function(t){Be(Na,t)});var Yl=1e3/60,yg={setupDequeueing:function(e){return function(){var n=this,a=this.renderer;if(!n.dequeueingSetup){n.dequeueingSetup=!0;var i=Co(function(){a.redrawHint("eles",!0),a.redrawHint("drag",!0),a.redraw()},e.deqRedrawThreshold),s=function(l,c){var f=Or(),d=a.averageRedrawTime,h=a.lastRedrawTime,v=[],y=a.cy.extent(),p=a.getPixelRatio();for(l||a.flushRenderedStyleQueue();;){var m=Or(),g=m-f,x=m-c;if(h<Yl){var b=Yl-(l?d:0);if(x>=e.deqFastCost*b)break}else if(l){if(g>=e.deqCost*h||g>=e.deqAvgCost*d)break}else if(x>=e.deqNoDrawCost*Yl)break;var C=e.deq(n,p,y);if(C.length>0)for(var E=0;E<C.length;E++)v.push(C[E]);else break}v.length>0&&(e.onDeqd(n,v),!l&&e.shouldRedraw(n,v,p,y)&&i())},o=e.priority||bc;a.beforeRender(s,o(n))}}}},rD=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hs;pc(this,t),this.idsByKey=new Br,this.keyForId=new Br,this.cachesByLvl=new Br,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=r}return gc(t,[{key:"getIdsFor",value:function(r){r==null&&et("Can not get id list for null key");var n=this.idsByKey,a=this.idsByKey.get(r);return a||(a=new Pa,n.set(r,a)),a}},{key:"addIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).add(n)}},{key:"deleteIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).delete(n)}},{key:"getNumberOfIdsForKey",value:function(r){return r==null?0:this.getIdsFor(r).size}},{key:"updateKeyMappingFor",value:function(r){var n=r.id(),a=this.keyForId.get(n),i=this.getKey(r);this.deleteIdForKey(a,n),this.addIdForKey(i,n),this.keyForId.set(n,i)}},{key:"deleteKeyMappingFor",value:function(r){var n=r.id(),a=this.keyForId.get(n);this.deleteIdForKey(a,n),this.keyForId.delete(n)}},{key:"keyHasChangedFor",value:function(r){var n=r.id(),a=this.keyForId.get(n),i=this.getKey(r);return a!==i}},{key:"isInvalid",value:function(r){return this.keyHasChangedFor(r)||this.doesEleInvalidateKey(r)}},{key:"getCachesAt",value:function(r){var n=this.cachesByLvl,a=this.lvls,i=n.get(r);return i||(i=new Br,n.set(r,i),a.push(r)),i}},{key:"getCache",value:function(r,n){return this.getCachesAt(n).get(r)}},{key:"get",value:function(r,n){var a=this.getKey(r),i=this.getCache(a,n);return i!=null&&this.updateKeyMappingFor(r),i}},{key:"getForCachedKey",value:function(r,n){var a=this.keyForId.get(r.id()),i=this.getCache(a,n);return i}},{key:"hasCache",value:function(r,n){return this.getCachesAt(n).has(r)}},{key:"has",value:function(r,n){var a=this.getKey(r);return this.hasCache(a,n)}},{key:"setCache",value:function(r,n,a){a.key=r,this.getCachesAt(n).set(r,a)}},{key:"set",value:function(r,n,a){var i=this.getKey(r);this.setCache(i,n,a),this.updateKeyMappingFor(r)}},{key:"deleteCache",value:function(r,n){this.getCachesAt(n).delete(r)}},{key:"delete",value:function(r,n){var a=this.getKey(r);this.deleteCache(a,n)}},{key:"invalidateKey",value:function(r){var n=this;this.lvls.forEach(function(a){return n.deleteCache(r,a)})}},{key:"invalidate",value:function(r){var n=r.id(),a=this.keyForId.get(n);this.deleteKeyMappingFor(r);var i=this.doesEleInvalidateKey(r);return i&&this.invalidateKey(a),i||this.getNumberOfIdsForKey(a)===0}}]),t}(),qd=25,ps=50,Ps=-4,Ru=3,nD=7.99,aD=8,iD=1024,sD=1024,oD=1024,lD=.2,uD=.8,cD=10,fD=.15,dD=.1,hD=.9,vD=.9,pD=100,gD=1,ua={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},mD=_t({getKey:null,doesEleInvalidateKey:Hs,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:up,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),ii=function(e,r){var n=this;n.renderer=e,n.onDequeues=[];var a=mD(r);Be(n,a),n.lookup=new rD(a.getKey,a.doesEleInvalidateKey),n.setupDequeueing()},ft=ii.prototype;ft.reasons=ua;ft.getTextureQueue=function(t){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[t]=e.eleImgCaches[t]||[]};ft.getRetiredTextureQueue=function(t){var e=this,r=e.eleImgCaches.retired=e.eleImgCaches.retired||{},n=r[t]=r[t]||[];return n};ft.getElementQueue=function(){var t=this,e=t.eleCacheQueue=t.eleCacheQueue||new qi(function(r,n){return n.reqs-r.reqs});return e};ft.getElementKeyToQueue=function(){var t=this,e=t.eleKeyToCacheQueue=t.eleKeyToCacheQueue||{};return e};ft.getElement=function(t,e,r,n,a){var i=this,s=this.renderer,o=s.cy.zoom(),u=this.lookup;if(!e||e.w===0||e.h===0||isNaN(e.w)||isNaN(e.h)||!t.visible()||t.removed()||!i.allowEdgeTxrCaching&&t.isEdge()||!i.allowParentTxrCaching&&t.isParent())return null;if(n==null&&(n=Math.ceil(Ec(o*r))),n<Ps)n=Ps;else if(o>=nD||n>Ru)return null;var l=Math.pow(2,n),c=e.h*l,f=e.w*l,d=s.eleTextBiggerThanMin(t,l);if(!this.isVisible(t,d))return null;var h=u.get(t,n);if(h&&h.invalidated&&(h.invalidated=!1,h.texture.invalidatedWidth-=h.width),h)return h;var v;if(c<=qd?v=qd:c<=ps?v=ps:v=Math.ceil(c/ps)*ps,c>oD||f>sD)return null;var y=i.getTextureQueue(v),p=y[y.length-2],m=function(){return i.recycleTexture(v,f)||i.addTexture(v,f)};p||(p=y[y.length-1]),p||(p=m()),p.width-p.usedWidth<f&&(p=m());for(var g=function(O){return O&&O.scaledLabelShown===d},x=a&&a===ua.dequeue,b=a&&a===ua.highQuality,C=a&&a===ua.downscale,E,w=n+1;w<=Ru;w++){var B=u.get(t,w);if(B){E=B;break}}var D=E&&E.level===n+1?E:null,_=function(){p.context.drawImage(D.texture.canvas,D.x,0,D.width,D.height,p.usedWidth,0,f,c)};if(p.context.setTransform(1,0,0,1,0,0),p.context.clearRect(p.usedWidth,0,f,v),g(D))_();else if(g(E))if(b){for(var A=E.level;A>n;A--)D=i.getElement(t,e,r,A,ua.downscale);_()}else return i.queueElement(t,E.level-1),E;else{var S;if(!x&&!b&&!C)for(var P=n-1;P>=Ps;P--){var T=u.get(t,P);if(T){S=T;break}}if(g(S))return i.queueElement(t,n),S;p.context.translate(p.usedWidth,0),p.context.scale(l,l),this.drawElement(p.context,t,e,d,!1),p.context.scale(1/l,1/l),p.context.translate(-p.usedWidth,0)}return h={x:p.usedWidth,texture:p,level:n,scale:l,width:f,height:c,scaledLabelShown:d},p.usedWidth+=Math.ceil(f+aD),p.eleCaches.push(h),u.set(t,n,h),i.checkTextureFullness(p),h};ft.invalidateElements=function(t){for(var e=0;e<t.length;e++)this.invalidateElement(t[e])};ft.invalidateElement=function(t){var e=this,r=e.lookup,n=[],a=r.isInvalid(t);if(a){for(var i=Ps;i<=Ru;i++){var s=r.getForCachedKey(t,i);s&&n.push(s)}var o=r.invalidate(t);if(o)for(var u=0;u<n.length;u++){var l=n[u],c=l.texture;c.invalidatedWidth+=l.width,l.invalidated=!0,e.checkTextureUtility(c)}e.removeFromQueue(t)}};ft.checkTextureUtility=function(t){t.invalidatedWidth>=lD*t.width&&this.retireTexture(t)};ft.checkTextureFullness=function(t){var e=this,r=e.getTextureQueue(t.height);t.usedWidth/t.width>uD&&t.fullnessChecks>=cD?on(r,t):t.fullnessChecks++};ft.retireTexture=function(t){var e=this,r=t.height,n=e.getTextureQueue(r),a=this.lookup;on(n,t),t.retired=!0;for(var i=t.eleCaches,s=0;s<i.length;s++){var o=i[s];a.deleteCache(o.key,o.level)}wc(i);var u=e.getRetiredTextureQueue(r);u.push(t)};ft.addTexture=function(t,e){var r=this,n=r.getTextureQueue(t),a={};return n.push(a),a.eleCaches=[],a.height=t,a.width=Math.max(iD,e),a.usedWidth=0,a.invalidatedWidth=0,a.fullnessChecks=0,a.canvas=r.renderer.makeOffscreenCanvas(a.width,a.height),a.context=a.canvas.getContext("2d"),a};ft.recycleTexture=function(t,e){for(var r=this,n=r.getTextureQueue(t),a=r.getRetiredTextureQueue(t),i=0;i<a.length;i++){var s=a[i];if(s.width>=e)return s.retired=!1,s.usedWidth=0,s.invalidatedWidth=0,s.fullnessChecks=0,wc(s.eleCaches),s.context.setTransform(1,0,0,1,0,0),s.context.clearRect(0,0,s.width,s.height),on(a,s),n.push(s),s}};ft.queueElement=function(t,e){var r=this,n=r.getElementQueue(),a=r.getElementKeyToQueue(),i=this.getKey(t),s=a[i];if(s)s.level=Math.max(s.level,e),s.eles.merge(t),s.reqs++,n.updateItem(s);else{var o={eles:t.spawn().merge(t),level:e,reqs:1,key:i};n.push(o),a[i]=o}};ft.dequeue=function(t){for(var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),a=[],i=e.lookup,s=0;s<gD&&r.size()>0;s++){var o=r.pop(),u=o.key,l=o.eles[0],c=i.hasCache(l,o.level);if(n[u]=null,c)continue;a.push(o);var f=e.getBoundingBox(l);e.getElement(l,f,t,o.level,ua.dequeue)}return a};ft.removeFromQueue=function(t){var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),a=this.getKey(t),i=n[a];i!=null&&(i.eles.length===1?(i.reqs=xc,r.updateItem(i),r.pop(),n[a]=null):i.eles.unmerge(t))};ft.onDequeue=function(t){this.onDequeues.push(t)};ft.offDequeue=function(t){on(this.onDequeues,t)};ft.setupDequeueing=yg.setupDequeueing({deqRedrawThreshold:pD,deqCost:fD,deqAvgCost:dD,deqNoDrawCost:hD,deqFastCost:vD,deq:function(e,r,n){return e.dequeue(r,n)},onDeqd:function(e,r){for(var n=0;n<e.onDequeues.length;n++){var a=e.onDequeues[n];a(r)}},shouldRedraw:function(e,r,n,a){for(var i=0;i<r.length;i++)for(var s=r[i].eles,o=0;o<s.length;o++){var u=s[o].boundingBox();if(Cc(u,a))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var yD=1,gi=-4,Ys=2,xD=3.99,bD=50,wD=50,ED=.15,CD=.1,_D=.9,BD=.9,AD=1,Vd=250,DD=4e3*4e3,SD=!0,xg=function(e){var r=this,n=r.renderer=e,a=n.cy;r.layersByLevel={},r.firstGet=!0,r.lastInvalidationTime=Or()-2*Vd,r.skipping=!1,r.eleTxrDeqs=a.collection(),r.scheduleElementRefinement=Co(function(){r.refineElementTextures(r.eleTxrDeqs),r.eleTxrDeqs.unmerge(r.eleTxrDeqs)},wD),n.beforeRender(function(s,o){o-r.lastInvalidationTime<=Vd?r.skipping=!0:r.skipping=!1},n.beforeRenderPriorities.lyrTxrSkip);var i=function(o,u){return u.reqs-o.reqs};r.layersQueue=new qi(i),r.setupDequeueing()},Bt=xg.prototype,Ud=0,kD=Math.pow(2,53)-1;Bt.makeLayer=function(t,e){var r=Math.pow(2,e),n=Math.ceil(t.w*r),a=Math.ceil(t.h*r),i=this.renderer.makeOffscreenCanvas(n,a),s={id:Ud=++Ud%kD,bb:t,level:e,width:n,height:a,canvas:i,context:i.getContext("2d"),eles:[],elesQueue:[],reqs:0},o=s.context,u=-s.bb.x1,l=-s.bb.y1;return o.scale(r,r),o.translate(u,l),s};Bt.getLayers=function(t,e,r){var n=this,a=n.renderer,i=a.cy,s=i.zoom(),o=n.firstGet;if(n.firstGet=!1,r==null){if(r=Math.ceil(Ec(s*e)),r<gi)r=gi;else if(s>=xD||r>Ys)return null}n.validateLayersElesOrdering(r,t);var u=n.layersByLevel,l=Math.pow(2,r),c=u[r]=u[r]||[],f,d=n.levelIsComplete(r,t),h,v=function(){var _=function($){if(n.validateLayersElesOrdering($,t),n.levelIsComplete($,t))return h=u[$],!0},A=function($){if(!h)for(var O=r+$;gi<=O&&O<=Ys&&!_(O);O+=$);};A(1),A(-1);for(var S=c.length-1;S>=0;S--){var P=c[S];P.invalid&&on(c,P)}};if(!d)v();else return c;var y=function(){if(!f){f=jt();for(var _=0;_<t.length;_++)pp(f,t[_].boundingBox())}return f},p=function(_){_=_||{};var A=_.after;y();var S=f.w*l*(f.h*l);if(S>DD)return null;var P=n.makeLayer(f,r);if(A!=null){var T=c.indexOf(A)+1;c.splice(T,0,P)}else(_.insert===void 0||_.insert)&&c.unshift(P);return P};if(n.skipping&&!o)return null;for(var m=null,g=t.length/yD,x=!o,b=0;b<t.length;b++){var C=t[b],E=C._private.rscratch,w=E.imgLayerCaches=E.imgLayerCaches||{},B=w[r];if(B){m=B;continue}if((!m||m.eles.length>=g||!gp(m.bb,C.boundingBox()))&&(m=p({insert:!0,after:m}),!m))return null;h||x?n.queueLayer(m,C):n.drawEleInLayer(m,C,r,e),m.eles.push(C),w[r]=m}return h||(x?null:c)};Bt.getEleLevelForLayerLevel=function(t,e){return t};Bt.drawEleInLayer=function(t,e,r,n){var a=this,i=this.renderer,s=t.context,o=e.boundingBox();o.w===0||o.h===0||!e.visible()||(r=a.getEleLevelForLayerLevel(r,n),i.setImgSmoothing(s,!1),i.drawCachedElement(s,e,null,null,r,SD),i.setImgSmoothing(s,!0))};Bt.levelIsComplete=function(t,e){var r=this,n=r.layersByLevel[t];if(!n||n.length===0)return!1;for(var a=0,i=0;i<n.length;i++){var s=n[i];if(s.reqs>0||s.invalid)return!1;a+=s.eles.length}return a===e.length};Bt.validateLayersElesOrdering=function(t,e){var r=this.layersByLevel[t];if(r)for(var n=0;n<r.length;n++){for(var a=r[n],i=-1,s=0;s<e.length;s++)if(a.eles[0]===e[s]){i=s;break}if(i<0){this.invalidateLayer(a);continue}for(var o=i,s=0;s<a.eles.length;s++)if(a.eles[s]!==e[o+s]){this.invalidateLayer(a);break}}};Bt.updateElementsInLayers=function(t,e){for(var r=this,n=zi(t[0]),a=0;a<t.length;a++)for(var i=n?null:t[a],s=n?t[a]:t[a].ele,o=s._private.rscratch,u=o.imgLayerCaches=o.imgLayerCaches||{},l=gi;l<=Ys;l++){var c=u[l];c&&(i&&r.getEleLevelForLayerLevel(c.level)!==i.level||e(c,s,i))}};Bt.haveLayers=function(){for(var t=this,e=!1,r=gi;r<=Ys;r++){var n=t.layersByLevel[r];if(n&&n.length>0){e=!0;break}}return e};Bt.invalidateElements=function(t){var e=this;t.length!==0&&(e.lastInvalidationTime=Or(),!(t.length===0||!e.haveLayers())&&e.updateElementsInLayers(t,function(n,a,i){e.invalidateLayer(n)}))};Bt.invalidateLayer=function(t){if(this.lastInvalidationTime=Or(),!t.invalid){var e=t.level,r=t.eles,n=this.layersByLevel[e];on(n,t),t.elesQueue=[],t.invalid=!0,t.replacement&&(t.replacement.invalid=!0);for(var a=0;a<r.length;a++){var i=r[a]._private.rscratch.imgLayerCaches;i&&(i[e]=null)}}};Bt.refineElementTextures=function(t){var e=this;e.updateElementsInLayers(t,function(n,a,i){var s=n.replacement;if(s||(s=n.replacement=e.makeLayer(n.bb,n.level),s.replaces=n,s.eles=n.eles),!s.reqs)for(var o=0;o<s.eles.length;o++)e.queueLayer(s,s.eles[o])})};Bt.enqueueElementRefinement=function(t){this.eleTxrDeqs.merge(t),this.scheduleElementRefinement()};Bt.queueLayer=function(t,e){var r=this,n=r.layersQueue,a=t.elesQueue,i=a.hasId=a.hasId||{};if(!t.replacement){if(e){if(i[e.id()])return;a.push(e),i[e.id()]=!0}t.reqs?(t.reqs++,n.updateItem(t)):(t.reqs=1,n.push(t))}};Bt.dequeue=function(t){for(var e=this,r=e.layersQueue,n=[],a=0;a<AD&&r.size()!==0;){var i=r.peek();if(i.replacement){r.pop();continue}if(i.replaces&&i!==i.replaces.replacement){r.pop();continue}if(i.invalid){r.pop();continue}var s=i.elesQueue.shift();s&&(e.drawEleInLayer(i,s,i.level,t),a++),n.length===0&&n.push(!0),i.elesQueue.length===0&&(r.pop(),i.reqs=0,i.replaces&&e.applyLayerReplacement(i),e.requestRedraw())}return n};Bt.applyLayerReplacement=function(t){var e=this,r=e.layersByLevel[t.level],n=t.replaces,a=r.indexOf(n);if(!(a<0||n.invalid)){r[a]=t;for(var i=0;i<t.eles.length;i++){var s=t.eles[i]._private,o=s.imgLayerCaches=s.imgLayerCaches||{};o&&(o[t.level]=t)}e.requestRedraw()}};Bt.requestRedraw=Co(function(){var t=this.renderer;t.redrawHint("eles",!0),t.redrawHint("drag",!0),t.redraw()},100);Bt.setupDequeueing=yg.setupDequeueing({deqRedrawThreshold:bD,deqCost:ED,deqAvgCost:CD,deqNoDrawCost:_D,deqFastCost:BD,deq:function(e,r){return e.dequeue(r)},onDeqd:bc,shouldRedraw:up,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var bg={},jd;function TD(t,e){for(var r=0;r<e.length;r++){var n=e[r];t.lineTo(n.x,n.y)}}function PD(t,e,r){for(var n,a=0;a<e.length;a++){var i=e[a];a===0&&(n=i),t.lineTo(i.x,i.y)}t.quadraticCurveTo(r.x,r.y,n.x,n.y)}function Wd(t,e,r){t.beginPath&&t.beginPath();for(var n=e,a=0;a<n.length;a++){var i=n[a];t.lineTo(i.x,i.y)}var s=r,o=r[0];t.moveTo(o.x,o.y);for(var a=1;a<s.length;a++){var i=s[a];t.lineTo(i.x,i.y)}t.closePath&&t.closePath()}function FD(t,e,r,n,a){t.beginPath&&t.beginPath(),t.arc(r,n,a,0,Math.PI*2,!1);var i=e,s=i[0];t.moveTo(s.x,s.y);for(var o=0;o<i.length;o++){var u=i[o];t.lineTo(u.x,u.y)}t.closePath&&t.closePath()}function RD(t,e,r,n){t.arc(e,r,n,0,Math.PI*2,!1)}bg.arrowShapeImpl=function(t){return(jd||(jd={polygon:TD,"triangle-backcurve":PD,"triangle-tee":Wd,"circle-triangle":FD,"triangle-cross":Wd,circle:RD}))[t]};var Sr={};Sr.drawElement=function(t,e,r,n,a,i){var s=this;e.isNode()?s.drawNode(t,e,r,n,a,i):s.drawEdge(t,e,r,n,a,i)};Sr.drawElementOverlay=function(t,e){var r=this;e.isNode()?r.drawNodeOverlay(t,e):r.drawEdgeOverlay(t,e)};Sr.drawElementUnderlay=function(t,e){var r=this;e.isNode()?r.drawNodeUnderlay(t,e):r.drawEdgeUnderlay(t,e)};Sr.drawCachedElementPortion=function(t,e,r,n,a,i,s,o){var u=this,l=r.getBoundingBox(e);if(!(l.w===0||l.h===0)){var c=r.getElement(e,l,n,a,i);if(c!=null){var f=o(u,e);if(f===0)return;var d=s(u,e),h=l.x1,v=l.y1,y=l.w,p=l.h,m,g,x,b,C;if(d!==0){var E=r.getRotationPoint(e);x=E.x,b=E.y,t.translate(x,b),t.rotate(d),C=u.getImgSmoothing(t),C||u.setImgSmoothing(t,!0);var w=r.getRotationOffset(e);m=w.x,g=w.y}else m=h,g=v;var B;f!==1&&(B=t.globalAlpha,t.globalAlpha=B*f),t.drawImage(c.texture.canvas,c.x,0,c.width,c.height,m,g,y,p),f!==1&&(t.globalAlpha=B),d!==0&&(t.rotate(-d),t.translate(-x,-b),C||u.setImgSmoothing(t,!1))}else r.drawElement(t,e)}};var OD=function(){return 0},ID=function(e,r){return e.getTextAngle(r,null)},LD=function(e,r){return e.getTextAngle(r,"source")},MD=function(e,r){return e.getTextAngle(r,"target")},$D=function(e,r){return r.effectiveOpacity()},Xl=function(e,r){return r.pstyle("text-opacity").pfValue*r.effectiveOpacity()};Sr.drawCachedElement=function(t,e,r,n,a,i){var s=this,o=s.data,u=o.eleTxrCache,l=o.lblTxrCache,c=o.slbTxrCache,f=o.tlbTxrCache,d=e.boundingBox(),h=i===!0?u.reasons.highQuality:null;if(!(d.w===0||d.h===0||!e.visible())&&(!n||Cc(d,n))){var v=e.isEdge(),y=e.element()._private.rscratch.badLine;s.drawElementUnderlay(t,e),s.drawCachedElementPortion(t,e,u,r,a,h,OD,$D),(!v||!y)&&s.drawCachedElementPortion(t,e,l,r,a,h,ID,Xl),v&&!y&&(s.drawCachedElementPortion(t,e,c,r,a,h,LD,Xl),s.drawCachedElementPortion(t,e,f,r,a,h,MD,Xl)),s.drawElementOverlay(t,e)}};Sr.drawElements=function(t,e){for(var r=this,n=0;n<e.length;n++){var a=e[n];r.drawElement(t,a)}};Sr.drawCachedElements=function(t,e,r,n){for(var a=this,i=0;i<e.length;i++){var s=e[i];a.drawCachedElement(t,s,r,n)}};Sr.drawCachedNodes=function(t,e,r,n){for(var a=this,i=0;i<e.length;i++){var s=e[i];s.isNode()&&a.drawCachedElement(t,s,r,n)}};Sr.drawLayeredElements=function(t,e,r,n){var a=this,i=a.data.lyrTxrCache.getLayers(e,r);if(i)for(var s=0;s<i.length;s++){var o=i[s],u=o.bb;u.w===0||u.h===0||t.drawImage(o.canvas,u.x1,u.y1,u.w,u.h)}else a.drawCachedElements(t,e,r,n)};var Nr={};Nr.drawEdge=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this,o=e._private.rscratch;if(!(i&&!e.visible())&&!(o.badLine||o.allpts==null||isNaN(o.allpts[0]))){var u;r&&(u=r,t.translate(-u.x1,-u.y1));var l=i?e.pstyle("opacity").value:1,c=i?e.pstyle("line-opacity").value:1,f=e.pstyle("curve-style").value,d=e.pstyle("line-style").value,h=e.pstyle("width").pfValue,v=e.pstyle("line-cap").value,y=e.pstyle("line-outline-width").value,p=e.pstyle("line-outline-color").value,m=l*c,g=l*c,x=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m;f==="straight-triangle"?(s.eleStrokeStyle(t,e,$),s.drawEdgeTrianglePath(e,t,o.allpts)):(t.lineWidth=h,t.lineCap=v,s.eleStrokeStyle(t,e,$),s.drawEdgePath(e,t,o.allpts,d),t.lineCap="butt")},b=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m;if(t.lineWidth=h+y,t.lineCap=v,y>0)s.colorStrokeStyle(t,p[0],p[1],p[2],$);else{t.lineCap="butt";return}f==="straight-triangle"?s.drawEdgeTrianglePath(e,t,o.allpts):(s.drawEdgePath(e,t,o.allpts,d),t.lineCap="butt")},C=function(){a&&s.drawEdgeOverlay(t,e)},E=function(){a&&s.drawEdgeUnderlay(t,e)},w=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g;s.drawArrowheads(t,e,$)},B=function(){s.drawElementText(t,e,null,n)};t.lineJoin="round";var D=e.pstyle("ghost").value==="yes";if(D){var _=e.pstyle("ghost-offset-x").pfValue,A=e.pstyle("ghost-offset-y").pfValue,S=e.pstyle("ghost-opacity").value,P=m*S;t.translate(_,A),x(P),w(P),t.translate(-_,-A)}else b();E(),x(),w(),C(),B(),r&&t.translate(u.x1,u.y1)}};var wg=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n){if(n.visible()){var a=n.pstyle("".concat(e,"-opacity")).value;if(a!==0){var i=this,s=i.usePaths(),o=n._private.rscratch,u=n.pstyle("".concat(e,"-padding")).pfValue,l=2*u,c=n.pstyle("".concat(e,"-color")).value;r.lineWidth=l,o.edgeType==="self"&&!s?r.lineCap="butt":r.lineCap="round",i.colorStrokeStyle(r,c[0],c[1],c[2],a),i.drawEdgePath(n,r,o.allpts,"solid")}}}};Nr.drawEdgeOverlay=wg("overlay");Nr.drawEdgeUnderlay=wg("underlay");Nr.drawEdgePath=function(t,e,r,n){var a=t._private.rscratch,i=e,s,o=!1,u=this.usePaths(),l=t.pstyle("line-dash-pattern").pfValue,c=t.pstyle("line-dash-offset").pfValue;if(u){var f=r.join("$"),d=a.pathCacheKey&&a.pathCacheKey===f;d?(s=e=a.pathCache,o=!0):(s=e=new Path2D,a.pathCacheKey=f,a.pathCache=s)}if(i.setLineDash)switch(n){case"dotted":i.setLineDash([1,1]);break;case"dashed":i.setLineDash(l),i.lineDashOffset=c;break;case"solid":i.setLineDash([]);break}if(!o&&!a.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(r[0],r[1]),a.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var h=2;h+3<r.length;h+=4)e.quadraticCurveTo(r[h],r[h+1],r[h+2],r[h+3]);break;case"straight":case"haystack":for(var v=2;v+1<r.length;v+=2)e.lineTo(r[v],r[v+1]);break;case"segments":if(a.isRound){var y=Yv(a.roundCorners),p;try{for(y.s();!(p=y.n()).done;){var m=p.value;cg(e,m)}}catch(x){y.e(x)}finally{y.f()}e.lineTo(r[r.length-2],r[r.length-1])}else for(var g=2;g+1<r.length;g+=2)e.lineTo(r[g],r[g+1]);break}e=i,u?e.stroke(s):e.stroke(),e.setLineDash&&e.setLineDash([])};Nr.drawEdgeTrianglePath=function(t,e,r){e.fillStyle=e.strokeStyle;for(var n=t.pstyle("width").pfValue,a=0;a+1<r.length;a+=2){var i=[r[a+2]-r[a],r[a+3]-r[a+1]],s=Math.sqrt(i[0]*i[0]+i[1]*i[1]),o=[i[1]/s,-i[0]/s],u=[o[0]*n/2,o[1]*n/2];e.beginPath(),e.moveTo(r[a]-u[0],r[a+1]-u[1]),e.lineTo(r[a]+u[0],r[a+1]+u[1]),e.lineTo(r[a+2],r[a+3]),e.closePath(),e.fill()}};Nr.drawArrowheads=function(t,e,r){var n=e._private.rscratch,a=n.edgeType==="haystack";a||this.drawArrowhead(t,e,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,r),this.drawArrowhead(t,e,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,r),this.drawArrowhead(t,e,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,r),a||this.drawArrowhead(t,e,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,r)};Nr.drawArrowhead=function(t,e,r,n,a,i,s){if(!(isNaN(n)||n==null||isNaN(a)||a==null||isNaN(i)||i==null)){var o=this,u=e.pstyle(r+"-arrow-shape").value;if(u!=="none"){var l=e.pstyle(r+"-arrow-fill").value==="hollow"?"both":"filled",c=e.pstyle(r+"-arrow-fill").value,f=e.pstyle("width").pfValue,d=e.pstyle(r+"-arrow-width"),h=d.value==="match-line"?f:d.pfValue;d.units==="%"&&(h*=f);var v=e.pstyle("opacity").value;s===void 0&&(s=v);var y=t.globalCompositeOperation;(s!==1||c==="hollow")&&(t.globalCompositeOperation="destination-out",o.colorFillStyle(t,255,255,255,1),o.colorStrokeStyle(t,255,255,255,1),o.drawArrowShape(e,t,l,f,u,h,n,a,i),t.globalCompositeOperation=y);var p=e.pstyle(r+"-arrow-color").value;o.colorFillStyle(t,p[0],p[1],p[2],s),o.colorStrokeStyle(t,p[0],p[1],p[2],s),o.drawArrowShape(e,t,c,f,u,h,n,a,i)}}};Nr.drawArrowShape=function(t,e,r,n,a,i,s,o,u){var l=this,c=this.usePaths()&&a!=="triangle-cross",f=!1,d,h=e,v={x:s,y:o},y=t.pstyle("arrow-scale").value,p=this.getArrowWidth(n,y),m=l.arrowShapes[a];if(c){var g=l.arrowPathCache=l.arrowPathCache||[],x=On(a),b=g[x];b!=null?(d=e=b,f=!0):(d=e=new Path2D,g[x]=d)}f||(e.beginPath&&e.beginPath(),c?m.draw(e,1,0,{x:0,y:0},1):m.draw(e,p,u,v,n),e.closePath&&e.closePath()),e=h,c&&(e.translate(s,o),e.rotate(u),e.scale(p,p)),(r==="filled"||r==="both")&&(c?e.fill(d):e.fill()),(r==="hollow"||r==="both")&&(e.lineWidth=i/(c?p:1),e.lineJoin="miter",c?e.stroke(d):e.stroke()),c&&(e.scale(1/p,1/p),e.rotate(-u),e.translate(-s,-o))};var $c={};$c.safeDrawImage=function(t,e,r,n,a,i,s,o,u,l){if(!(a<=0||i<=0||u<=0||l<=0))try{t.drawImage(e,r,n,a,i,s,o,u,l)}catch(c){Ne(c)}};$c.drawInscribedImage=function(t,e,r,n,a){var i=this,s=r.position(),o=s.x,u=s.y,l=r.cy().style(),c=l.getIndexedStyle.bind(l),f=c(r,"background-fit","value",n),d=c(r,"background-repeat","value",n),h=r.width(),v=r.height(),y=r.padding()*2,p=h+(c(r,"background-width-relative-to","value",n)==="inner"?0:y),m=v+(c(r,"background-height-relative-to","value",n)==="inner"?0:y),g=r._private.rscratch,x=c(r,"background-clip","value",n),b=x==="node",C=c(r,"background-image-opacity","value",n)*a,E=c(r,"background-image-smoothing","value",n),w=r.pstyle("corner-radius").value;w!=="auto"&&(w=r.pstyle("corner-radius").pfValue);var B=e.width||e.cachedW,D=e.height||e.cachedH;(B==null||D==null)&&(document.body.appendChild(e),B=e.cachedW=e.width||e.offsetWidth,D=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var _=B,A=D;if(c(r,"background-width","value",n)!=="auto"&&(c(r,"background-width","units",n)==="%"?_=c(r,"background-width","pfValue",n)*p:_=c(r,"background-width","pfValue",n)),c(r,"background-height","value",n)!=="auto"&&(c(r,"background-height","units",n)==="%"?A=c(r,"background-height","pfValue",n)*m:A=c(r,"background-height","pfValue",n)),!(_===0||A===0)){if(f==="contain"){var S=Math.min(p/_,m/A);_*=S,A*=S}else if(f==="cover"){var S=Math.max(p/_,m/A);_*=S,A*=S}var P=o-p/2,T=c(r,"background-position-x","units",n),$=c(r,"background-position-x","pfValue",n);T==="%"?P+=(p-_)*$:P+=$;var O=c(r,"background-offset-x","units",n),M=c(r,"background-offset-x","pfValue",n);O==="%"?P+=(p-_)*M:P+=M;var z=u-m/2,G=c(r,"background-position-y","units",n),X=c(r,"background-position-y","pfValue",n);G==="%"?z+=(m-A)*X:z+=X;var I=c(r,"background-offset-y","units",n),L=c(r,"background-offset-y","pfValue",n);I==="%"?z+=(m-A)*L:z+=L,g.pathCache&&(P-=o,z-=u,o=0,u=0);var U=t.globalAlpha;t.globalAlpha=C;var j=i.getImgSmoothing(t),oe=!1;if(E==="no"&&j?(i.setImgSmoothing(t,!1),oe=!0):E==="yes"&&!j&&(i.setImgSmoothing(t,!0),oe=!0),d==="no-repeat")b&&(t.save(),g.pathCache?t.clip(g.pathCache):(i.nodeShapes[i.getNodeShape(r)].draw(t,o,u,p,m,w,g),t.clip())),i.safeDrawImage(t,e,0,0,B,D,P,z,_,A),b&&t.restore();else{var se=t.createPattern(e,d);t.fillStyle=se,i.nodeShapes[i.getNodeShape(r)].draw(t,o,u,p,m,w,g),t.translate(P,z),t.fill(),t.translate(-P,-z)}t.globalAlpha=U,oe&&i.setImgSmoothing(t,j)}};var Yn={};Yn.eleTextBiggerThanMin=function(t,e){if(!e){var r=t.cy().zoom(),n=this.getPixelRatio(),a=Math.ceil(Ec(r*n));e=Math.pow(2,a)}var i=t.pstyle("font-size").pfValue*e,s=t.pstyle("min-zoomed-font-size").pfValue;return!(i<s)};Yn.drawElementText=function(t,e,r,n,a){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this;if(n==null){if(i&&!s.eleTextBiggerThanMin(e))return}else if(n===!1)return;if(e.isNode()){var o=e.pstyle("label");if(!o||!o.value)return;var u=s.getLabelJustification(e);t.textAlign=u,t.textBaseline="bottom"}else{var l=e.element()._private.rscratch.badLine,c=e.pstyle("label"),f=e.pstyle("source-label"),d=e.pstyle("target-label");if(l||(!c||!c.value)&&(!f||!f.value)&&(!d||!d.value))return;t.textAlign="center",t.textBaseline="bottom"}var h=!r,v;r&&(v=r,t.translate(-v.x1,-v.y1)),a==null?(s.drawText(t,e,null,h,i),e.isEdge()&&(s.drawText(t,e,"source",h,i),s.drawText(t,e,"target",h,i))):s.drawText(t,e,a,h,i),r&&t.translate(v.x1,v.y1)};Yn.getFontCache=function(t){var e;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if(e=this.fontCaches[r],e.context===t)return e;return e={context:t},this.fontCaches.push(e),e};Yn.setupTextStyle=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=e.pstyle("font-style").strValue,a=e.pstyle("font-size").pfValue+"px",i=e.pstyle("font-family").strValue,s=e.pstyle("font-weight").strValue,o=r?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,u=e.pstyle("text-outline-opacity").value*o,l=e.pstyle("color").value,c=e.pstyle("text-outline-color").value;t.font=n+" "+s+" "+a+" "+i,t.lineJoin="round",this.colorFillStyle(t,l[0],l[1],l[2],o),this.colorStrokeStyle(t,c[0],c[1],c[2],u)};function Zl(t,e,r,n,a){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,s=arguments.length>6?arguments[6]:void 0;t.beginPath(),t.moveTo(e+i,r),t.lineTo(e+n-i,r),t.quadraticCurveTo(e+n,r,e+n,r+i),t.lineTo(e+n,r+a-i),t.quadraticCurveTo(e+n,r+a,e+n-i,r+a),t.lineTo(e+i,r+a),t.quadraticCurveTo(e,r+a,e,r+a-i),t.lineTo(e,r+i),t.quadraticCurveTo(e,r,e+i,r),t.closePath(),s?t.stroke():t.fill()}Yn.getTextAngle=function(t,e){var r,n=t._private,a=n.rscratch,i=e?e+"-":"",s=t.pstyle(i+"text-rotation"),o=dr(a,"labelAngle",e);return s.strValue==="autorotate"?r=t.isEdge()?o:0:s.strValue==="none"?r=0:r=s.pfValue,r};Yn.drawText=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=e._private,s=i.rscratch,o=a?e.effectiveOpacity():1;if(!(a&&(o===0||e.pstyle("text-opacity").value===0))){r==="main"&&(r=null);var u=dr(s,"labelX",r),l=dr(s,"labelY",r),c,f,d=this.getLabelText(e,r);if(d!=null&&d!==""&&!isNaN(u)&&!isNaN(l)){this.setupTextStyle(t,e,a);var h=r?r+"-":"",v=dr(s,"labelWidth",r),y=dr(s,"labelHeight",r),p=e.pstyle(h+"text-margin-x").pfValue,m=e.pstyle(h+"text-margin-y").pfValue,g=e.isEdge(),x=e.pstyle("text-halign").value,b=e.pstyle("text-valign").value;g&&(x="center",b="center"),u+=p,l+=m;var C;switch(n?C=this.getTextAngle(e,r):C=0,C!==0&&(c=u,f=l,t.translate(c,f),t.rotate(C),u=0,l=0),b){case"top":break;case"center":l+=y/2;break;case"bottom":l+=y;break}var E=e.pstyle("text-background-opacity").value,w=e.pstyle("text-border-opacity").value,B=e.pstyle("text-border-width").pfValue,D=e.pstyle("text-background-padding").pfValue,_=e.pstyle("text-background-shape").strValue,A=_.indexOf("round")===0,S=2;if(E>0||B>0&&w>0){var P=u-D;switch(x){case"left":P-=v;break;case"center":P-=v/2;break}var T=l-y-D,$=v+2*D,O=y+2*D;if(E>0){var M=t.fillStyle,z=e.pstyle("text-background-color").value;t.fillStyle="rgba("+z[0]+","+z[1]+","+z[2]+","+E*o+")",A?Zl(t,P,T,$,O,S):t.fillRect(P,T,$,O),t.fillStyle=M}if(B>0&&w>0){var G=t.strokeStyle,X=t.lineWidth,I=e.pstyle("text-border-color").value,L=e.pstyle("text-border-style").value;if(t.strokeStyle="rgba("+I[0]+","+I[1]+","+I[2]+","+w*o+")",t.lineWidth=B,t.setLineDash)switch(L){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=B/4,t.setLineDash([]);break;case"solid":t.setLineDash([]);break}if(A?Zl(t,P,T,$,O,S,"stroke"):t.strokeRect(P,T,$,O),L==="double"){var U=B/2;A?Zl(t,P+U,T+U,$-U*2,O-U*2,S,"stroke"):t.strokeRect(P+U,T+U,$-U*2,O-U*2)}t.setLineDash&&t.setLineDash([]),t.lineWidth=X,t.strokeStyle=G}}var j=2*e.pstyle("text-outline-width").pfValue;if(j>0&&(t.lineWidth=j),e.pstyle("text-wrap").value==="wrap"){var oe=dr(s,"labelWrapCachedLines",r),se=dr(s,"labelLineHeight",r),V=v/2,H=this.getLabelJustification(e);switch(H==="auto"||(x==="left"?H==="left"?u+=-v:H==="center"&&(u+=-V):x==="center"?H==="left"?u+=-V:H==="right"&&(u+=V):x==="right"&&(H==="center"?u+=V:H==="right"&&(u+=v))),b){case"top":l-=(oe.length-1)*se;break;case"center":case"bottom":l-=(oe.length-1)*se;break}for(var N=0;N<oe.length;N++)j>0&&t.strokeText(oe[N],u,l),t.fillText(oe[N],u,l),l+=se}else j>0&&t.strokeText(d,u,l),t.fillText(d,u,l);C!==0&&(t.rotate(-C),t.translate(-c,-f))}}};var za={};za.drawNode=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this,o,u,l=e._private,c=l.rscratch,f=e.position();if(!(!ge(f.x)||!ge(f.y))&&!(i&&!e.visible())){var d=i?e.effectiveOpacity():1,h=s.usePaths(),v,y=!1,p=e.padding();o=e.width()+2*p,u=e.height()+2*p;var m;r&&(m=r,t.translate(-m.x1,-m.y1));for(var g=e.pstyle("background-image"),x=g.value,b=new Array(x.length),C=new Array(x.length),E=0,w=0;w<x.length;w++){var B=x[w],D=b[w]=B!=null&&B!=="none";if(D){var _=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",w);E++,C[w]=s.getCachedImage(B,_,function(){l.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var A=e.pstyle("background-blacken").value,S=e.pstyle("border-width").pfValue,P=e.pstyle("background-opacity").value*d,T=e.pstyle("border-color").value,$=e.pstyle("border-style").value,O=e.pstyle("border-join").value,M=e.pstyle("border-cap").value,z=e.pstyle("border-position").value,G=e.pstyle("border-dash-pattern").pfValue,X=e.pstyle("border-dash-offset").pfValue,I=e.pstyle("border-opacity").value*d,L=e.pstyle("outline-width").pfValue,U=e.pstyle("outline-color").value,j=e.pstyle("outline-style").value,oe=e.pstyle("outline-opacity").value*d,se=e.pstyle("outline-offset").value,V=e.pstyle("corner-radius").value;V!=="auto"&&(V=e.pstyle("corner-radius").pfValue);var H=function(){var de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:P;s.eleFillStyle(t,e,de)},N=function(){var de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:I;s.colorStrokeStyle(t,T[0],T[1],T[2],de)},K=function(){var de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:oe;s.colorStrokeStyle(t,U[0],U[1],U[2],de)},ne=function(de,ie,pe,Ce){var we=s.nodePathCache=s.nodePathCache||[],ye=lp(pe==="polygon"?pe+","+Ce.join(","):pe,""+ie,""+de,""+V),be=we[ye],me,Ee=!1;return be!=null?(me=be,Ee=!0,c.pathCache=me):(me=new Path2D,we[ye]=c.pathCache=me),{path:me,cacheHit:Ee}},he=e.pstyle("shape").strValue,R=e.pstyle("shape-polygon-points").pfValue;if(h){t.translate(f.x,f.y);var F=ne(o,u,he,R);v=F.path,y=F.cacheHit}var q=function(){if(!y){var de=f;h&&(de={x:0,y:0}),s.nodeShapes[s.getNodeShape(e)].draw(v||t,de.x,de.y,o,u,V,c)}h?t.fill(v):t.fill()},Z=function(){for(var de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d,ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,pe=l.backgrounding,Ce=0,we=0;we<C.length;we++){var ye=e.cy().style().getIndexedStyle(e,"background-image-containment","value",we);if(ie&&ye==="over"||!ie&&ye==="inside"){Ce++;continue}b[we]&&C[we].complete&&!C[we].error&&(Ce++,s.drawInscribedImage(t,C[we],e,we,de))}l.backgrounding=Ce!==E,pe!==l.backgrounding&&e.updateStyle(!1)},Y=function(){var de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d;s.hasPie(e)&&(s.drawPie(t,e,ie),de&&(h||s.nodeShapes[s.getNodeShape(e)].draw(t,f.x,f.y,o,u,V,c)))},te=function(){var de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d,ie=(A>0?A:-A)*de,pe=A>0?0:255;A!==0&&(s.colorFillStyle(t,pe,pe,pe,ie),h?t.fill(v):t.fill())},le=function(){if(S>0){if(t.lineWidth=S,t.lineCap=M,t.lineJoin=O,t.setLineDash)switch($){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash(G),t.lineDashOffset=X;break;case"solid":case"double":t.setLineDash([]);break}if(z!=="center"){if(t.save(),t.lineWidth*=2,z==="inside")h?t.clip(v):t.clip();else{var de=new Path2D;de.rect(-o/2-S,-u/2-S,o+2*S,u+2*S),de.addPath(v),t.clip(de,"evenodd")}h?t.stroke(v):t.stroke(),t.restore()}else h?t.stroke(v):t.stroke();if($==="double"){t.lineWidth=S/3;var ie=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",h?t.stroke(v):t.stroke(),t.globalCompositeOperation=ie}t.setLineDash&&t.setLineDash([])}},ce=function(){if(L>0){if(t.lineWidth=L,t.lineCap="butt",t.setLineDash)switch(j){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([]);break}var de=f;h&&(de={x:0,y:0});var ie=s.getNodeShape(e),pe=S;z==="inside"&&(pe=0),z==="outside"&&(pe*=2);var Ce=(o+pe+(L+se))/o,we=(u+pe+(L+se))/u,ye=o*Ce,be=u*we,me=s.nodeShapes[ie].points,Ee;if(h){var je=ne(ye,be,ie,me);Ee=je.path}if(ie==="ellipse")s.drawEllipsePath(Ee||t,de.x,de.y,ye,be);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(ie)){var Me=0,yt=0,at=0;ie==="round-diamond"?Me=(pe+se+L)*1.4:ie==="round-heptagon"?(Me=(pe+se+L)*1.075,at=-(pe/2+se+L)/35):ie==="round-hexagon"?Me=(pe+se+L)*1.12:ie==="round-pentagon"?(Me=(pe+se+L)*1.13,at=-(pe/2+se+L)/15):ie==="round-tag"?(Me=(pe+se+L)*1.12,yt=(pe/2+L+se)*.07):ie==="round-triangle"&&(Me=(pe+se+L)*(Math.PI/2),at=-(pe+se/2+L)/Math.PI),Me!==0&&(Ce=(o+Me)/o,ye=o*Ce,["round-hexagon","round-tag"].includes(ie)||(we=(u+Me)/u,be=u*we)),V=V==="auto"?xp(ye,be):V;for(var rt=ye/2,At=be/2,st=V+(pe+L+se)/2,dt=new Array(me.length/2),Wt=new Array(me.length/2),Nt=0;Nt<me.length/2;Nt++)dt[Nt]={x:de.x+yt+rt*me[Nt*2],y:de.y+at+At*me[Nt*2+1]};var xt,Zt,Qt,Ye,qe=dt.length;for(Zt=dt[qe-1],xt=0;xt<qe;xt++)Qt=dt[xt%qe],Ye=dt[(xt+1)%qe],Wt[xt]=Lc(Zt,Qt,Ye,st),Zt=Qt,Qt=Ye;s.drawRoundPolygonPath(Ee||t,de.x+yt,de.y+at,o*Ce,u*we,me,Wt)}else if(["roundrectangle","round-rectangle"].includes(ie))V=V==="auto"?Ln(ye,be):V,s.drawRoundRectanglePath(Ee||t,de.x,de.y,ye,be,V+(pe+L+se)/2);else if(["cutrectangle","cut-rectangle"].includes(ie))V=V==="auto"?_c():V,s.drawCutRectanglePath(Ee||t,de.x,de.y,ye,be,null,V+(pe+L+se)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(ie))V=V==="auto"?Ln(ye,be):V,s.drawBottomRoundRectanglePath(Ee||t,de.x,de.y,ye,be,V+(pe+L+se)/2);else if(ie==="barrel")s.drawBarrelPath(Ee||t,de.x,de.y,ye,be);else if(ie.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(ie)){var nt=(pe+L+se)/o;me=qs(Vs(me,nt)),s.drawPolygonPath(Ee||t,de.x,de.y,o,u,me)}else{var ht=(pe+L+se)/o;me=qs(Vs(me,-ht)),s.drawPolygonPath(Ee||t,de.x,de.y,o,u,me)}if(h?t.stroke(Ee):t.stroke(),j==="double"){t.lineWidth=pe/3;var Xn=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",h?t.stroke(Ee):t.stroke(),t.globalCompositeOperation=Xn}t.setLineDash&&t.setLineDash([])}},ue=function(){a&&s.drawNodeOverlay(t,e,f,o,u)},ae=function(){a&&s.drawNodeUnderlay(t,e,f,o,u)},fe=function(){s.drawElementText(t,e,null,n)},Q=e.pstyle("ghost").value==="yes";if(Q){var k=e.pstyle("ghost-offset-x").pfValue,W=e.pstyle("ghost-offset-y").pfValue,ee=e.pstyle("ghost-opacity").value,re=ee*d;t.translate(k,W),K(),ce(),H(ee*P),q(),Z(re,!0),N(ee*I),le(),Y(A!==0||S!==0),Z(re,!1),te(re),t.translate(-k,-W)}h&&t.translate(-f.x,-f.y),ae(),h&&t.translate(f.x,f.y),K(),ce(),H(),q(),Z(d,!0),N(),le(),Y(A!==0||S!==0),Z(d,!1),te(),h&&t.translate(-f.x,-f.y),fe(),ue(),r&&t.translate(m.x1,m.y1)}};var Eg=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n,a,i,s){var o=this;if(n.visible()){var u=n.pstyle("".concat(e,"-padding")).pfValue,l=n.pstyle("".concat(e,"-opacity")).value,c=n.pstyle("".concat(e,"-color")).value,f=n.pstyle("".concat(e,"-shape")).value,d=n.pstyle("".concat(e,"-corner-radius")).value;if(l>0){if(a=a||n.position(),i==null||s==null){var h=n.padding();i=n.width()+2*h,s=n.height()+2*h}o.colorFillStyle(r,c[0],c[1],c[2],l),o.nodeShapes[f].draw(r,a.x,a.y,i+u*2,s+u*2,d),r.fill()}}}};za.drawNodeOverlay=Eg("overlay");za.drawNodeUnderlay=Eg("underlay");za.hasPie=function(t){return t=t[0],t._private.hasPie};za.drawPie=function(t,e,r,n){e=e[0],n=n||e.position();var a=e.cy().style(),i=e.pstyle("pie-size"),s=n.x,o=n.y,u=e.width(),l=e.height(),c=Math.min(u,l)/2,f=0,d=this.usePaths();d&&(s=0,o=0),i.units==="%"?c=c*i.pfValue:i.pfValue!==void 0&&(c=i.pfValue/2);for(var h=1;h<=a.pieBackgroundN;h++){var v=e.pstyle("pie-"+h+"-background-size").value,y=e.pstyle("pie-"+h+"-background-color").value,p=e.pstyle("pie-"+h+"-background-opacity").value*r,m=v/100;m+f>1&&(m=1-f);var g=1.5*Math.PI+2*Math.PI*f,x=2*Math.PI*m,b=g+x;v===0||f>=1||f+m>1||(t.beginPath(),t.moveTo(s,o),t.arc(s,o,c,g,b),t.closePath(),this.colorFillStyle(t,y[0],y[1],y[2],p),t.fill(),f+=m)}};var Xt={},ND=100;Xt.getPixelRatio=function(){var t=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var e=this.cy.window(),r=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(e.devicePixelRatio||1)/r};Xt.paintCache=function(t){for(var e=this.paintCaches=this.paintCaches||[],r=!0,n,a=0;a<e.length;a++)if(n=e[a],n.context===t){r=!1;break}return r&&(n={context:t},e.push(n)),n};Xt.createGradientStyleFor=function(t,e,r,n,a){var i,s=this.usePaths(),o=r.pstyle(e+"-gradient-stop-colors").value,u=r.pstyle(e+"-gradient-stop-positions").pfValue;if(n==="radial-gradient")if(r.isEdge()){var l=r.sourceEndpoint(),c=r.targetEndpoint(),f=r.midpoint(),d=In(l,f),h=In(c,f);i=t.createRadialGradient(f.x,f.y,0,f.x,f.y,Math.max(d,h))}else{var v=s?{x:0,y:0}:r.position(),y=r.paddedWidth(),p=r.paddedHeight();i=t.createRadialGradient(v.x,v.y,0,v.x,v.y,Math.max(y,p))}else if(r.isEdge()){var m=r.sourceEndpoint(),g=r.targetEndpoint();i=t.createLinearGradient(m.x,m.y,g.x,g.y)}else{var x=s?{x:0,y:0}:r.position(),b=r.paddedWidth(),C=r.paddedHeight(),E=b/2,w=C/2,B=r.pstyle("background-gradient-direction").value;switch(B){case"to-bottom":i=t.createLinearGradient(x.x,x.y-w,x.x,x.y+w);break;case"to-top":i=t.createLinearGradient(x.x,x.y+w,x.x,x.y-w);break;case"to-left":i=t.createLinearGradient(x.x+E,x.y,x.x-E,x.y);break;case"to-right":i=t.createLinearGradient(x.x-E,x.y,x.x+E,x.y);break;case"to-bottom-right":case"to-right-bottom":i=t.createLinearGradient(x.x-E,x.y-w,x.x+E,x.y+w);break;case"to-top-right":case"to-right-top":i=t.createLinearGradient(x.x-E,x.y+w,x.x+E,x.y-w);break;case"to-bottom-left":case"to-left-bottom":i=t.createLinearGradient(x.x+E,x.y-w,x.x-E,x.y+w);break;case"to-top-left":case"to-left-top":i=t.createLinearGradient(x.x+E,x.y+w,x.x-E,x.y-w);break}}if(!i)return null;for(var D=u.length===o.length,_=o.length,A=0;A<_;A++)i.addColorStop(D?u[A]:A/(_-1),"rgba("+o[A][0]+","+o[A][1]+","+o[A][2]+","+a+")");return i};Xt.gradientFillStyle=function(t,e,r,n){var a=this.createGradientStyleFor(t,"background",e,r,n);if(!a)return null;t.fillStyle=a};Xt.colorFillStyle=function(t,e,r,n,a){t.fillStyle="rgba("+e+","+r+","+n+","+a+")"};Xt.eleFillStyle=function(t,e,r){var n=e.pstyle("background-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientFillStyle(t,e,n,r);else{var a=e.pstyle("background-color").value;this.colorFillStyle(t,a[0],a[1],a[2],r)}};Xt.gradientStrokeStyle=function(t,e,r,n){var a=this.createGradientStyleFor(t,"line",e,r,n);if(!a)return null;t.strokeStyle=a};Xt.colorStrokeStyle=function(t,e,r,n,a){t.strokeStyle="rgba("+e+","+r+","+n+","+a+")"};Xt.eleStrokeStyle=function(t,e,r){var n=e.pstyle("line-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientStrokeStyle(t,e,n,r);else{var a=e.pstyle("line-color").value;this.colorStrokeStyle(t,a[0],a[1],a[2],r)}};Xt.matchCanvasSize=function(t){var e=this,r=e.data,n=e.findContainerClientCoords(),a=n[2],i=n[3],s=e.getPixelRatio(),o=e.motionBlurPxRatio;(t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]||t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG])&&(s=o);var u=a*s,l=i*s,c;if(!(u===e.canvasWidth&&l===e.canvasHeight)){e.fontCaches=null;var f=r.canvasContainer;f.style.width=a+"px",f.style.height=i+"px";for(var d=0;d<e.CANVAS_LAYERS;d++)c=r.canvases[d],c.width=u,c.height=l,c.style.width=a+"px",c.style.height=i+"px";for(var d=0;d<e.BUFFER_COUNT;d++)c=r.bufferCanvases[d],c.width=u,c.height=l,c.style.width=a+"px",c.style.height=i+"px";e.textureMult=1,s<=1&&(c=r.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,c.width=u*e.textureMult,c.height=l*e.textureMult),e.canvasWidth=u,e.canvasHeight=l}};Xt.renderTo=function(t,e,r,n){this.render({forcedContext:t,forcedZoom:e,forcedPan:r,drawAllLayers:!0,forcedPxRatio:n})};Xt.render=function(t){t=t||dp();var e=t.forcedContext,r=t.drawAllLayers,n=t.drawOnlyNodeLayer,a=t.forcedZoom,i=t.forcedPan,s=this,o=t.forcedPxRatio===void 0?this.getPixelRatio():t.forcedPxRatio,u=s.cy,l=s.data,c=l.canvasNeedsRedraw,f=s.textureOnViewport&&!e&&(s.pinching||s.hoverData.dragging||s.swipePanning||s.data.wheelZooming),d=t.motionBlur!==void 0?t.motionBlur:s.motionBlur,h=s.motionBlurPxRatio,v=u.hasCompoundNodes(),y=s.hoverData.draggingEles,p=!!(s.hoverData.selecting||s.touchData.selecting);d=d&&!e&&s.motionBlurEnabled&&!p;var m=d;e||(s.prevPxRatio!==o&&(s.invalidateContainerClientCoordsCache(),s.matchCanvasSize(s.container),s.redrawHint("eles",!0),s.redrawHint("drag",!0)),s.prevPxRatio=o),!e&&s.motionBlurTimeout&&clearTimeout(s.motionBlurTimeout),d&&(s.mbFrames==null&&(s.mbFrames=0),s.mbFrames++,s.mbFrames<3&&(m=!1),s.mbFrames>s.minMbLowQualFrames&&(s.motionBlurPxRatio=s.mbPxRBlurry)),s.clearingMotionBlur&&(s.motionBlurPxRatio=1),s.textureDrawLastFrame&&!f&&(c[s.NODE]=!0,c[s.SELECT_BOX]=!0);var g=u.style(),x=u.zoom(),b=a!==void 0?a:x,C=u.pan(),E={x:C.x,y:C.y},w={zoom:x,pan:{x:C.x,y:C.y}},B=s.prevViewport,D=B===void 0||w.zoom!==B.zoom||w.pan.x!==B.pan.x||w.pan.y!==B.pan.y;!D&&!(y&&!v)&&(s.motionBlurPxRatio=1),i&&(E=i),b*=o,E.x*=o,E.y*=o;var _=s.getCachedZSortedEles();function A(F,q,Z,Y,te){var le=F.globalCompositeOperation;F.globalCompositeOperation="destination-out",s.colorFillStyle(F,255,255,255,s.motionBlurTransparency),F.fillRect(q,Z,Y,te),F.globalCompositeOperation=le}function S(F,q){var Z,Y,te,le;!s.clearingMotionBlur&&(F===l.bufferContexts[s.MOTIONBLUR_BUFFER_NODE]||F===l.bufferContexts[s.MOTIONBLUR_BUFFER_DRAG])?(Z={x:C.x*h,y:C.y*h},Y=x*h,te=s.canvasWidth*h,le=s.canvasHeight*h):(Z=E,Y=b,te=s.canvasWidth,le=s.canvasHeight),F.setTransform(1,0,0,1,0,0),q==="motionBlur"?A(F,0,0,te,le):!e&&(q===void 0||q)&&F.clearRect(0,0,te,le),r||(F.translate(Z.x,Z.y),F.scale(Y,Y)),i&&F.translate(i.x,i.y),a&&F.scale(a,a)}if(f||(s.textureDrawLastFrame=!1),f){if(s.textureDrawLastFrame=!0,!s.textureCache){s.textureCache={},s.textureCache.bb=u.mutableElements().boundingBox(),s.textureCache.texture=s.data.bufferCanvases[s.TEXTURE_BUFFER];var P=s.data.bufferContexts[s.TEXTURE_BUFFER];P.setTransform(1,0,0,1,0,0),P.clearRect(0,0,s.canvasWidth*s.textureMult,s.canvasHeight*s.textureMult),s.render({forcedContext:P,drawOnlyNodeLayer:!0,forcedPxRatio:o*s.textureMult});var w=s.textureCache.viewport={zoom:u.zoom(),pan:u.pan(),width:s.canvasWidth,height:s.canvasHeight};w.mpan={x:(0-w.pan.x)/w.zoom,y:(0-w.pan.y)/w.zoom}}c[s.DRAG]=!1,c[s.NODE]=!1;var T=l.contexts[s.NODE],$=s.textureCache.texture,w=s.textureCache.viewport;T.setTransform(1,0,0,1,0,0),d?A(T,0,0,w.width,w.height):T.clearRect(0,0,w.width,w.height);var O=g.core("outside-texture-bg-color").value,M=g.core("outside-texture-bg-opacity").value;s.colorFillStyle(T,O[0],O[1],O[2],M),T.fillRect(0,0,w.width,w.height);var x=u.zoom();S(T,!1),T.clearRect(w.mpan.x,w.mpan.y,w.width/w.zoom/o,w.height/w.zoom/o),T.drawImage($,w.mpan.x,w.mpan.y,w.width/w.zoom/o,w.height/w.zoom/o)}else s.textureOnViewport&&!e&&(s.textureCache=null);var z=u.extent(),G=s.pinching||s.hoverData.dragging||s.swipePanning||s.data.wheelZooming||s.hoverData.draggingEles||s.cy.animated(),X=s.hideEdgesOnViewport&&G,I=[];if(I[s.NODE]=!c[s.NODE]&&d&&!s.clearedForMotionBlur[s.NODE]||s.clearingMotionBlur,I[s.NODE]&&(s.clearedForMotionBlur[s.NODE]=!0),I[s.DRAG]=!c[s.DRAG]&&d&&!s.clearedForMotionBlur[s.DRAG]||s.clearingMotionBlur,I[s.DRAG]&&(s.clearedForMotionBlur[s.DRAG]=!0),c[s.NODE]||r||n||I[s.NODE]){var L=d&&!I[s.NODE]&&h!==1,T=e||(L?s.data.bufferContexts[s.MOTIONBLUR_BUFFER_NODE]:l.contexts[s.NODE]),U=d&&!L?"motionBlur":void 0;S(T,U),X?s.drawCachedNodes(T,_.nondrag,o,z):s.drawLayeredElements(T,_.nondrag,o,z),s.debug&&s.drawDebugPoints(T,_.nondrag),!r&&!d&&(c[s.NODE]=!1)}if(!n&&(c[s.DRAG]||r||I[s.DRAG])){var L=d&&!I[s.DRAG]&&h!==1,T=e||(L?s.data.bufferContexts[s.MOTIONBLUR_BUFFER_DRAG]:l.contexts[s.DRAG]);S(T,d&&!L?"motionBlur":void 0),X?s.drawCachedNodes(T,_.drag,o,z):s.drawCachedElements(T,_.drag,o,z),s.debug&&s.drawDebugPoints(T,_.drag),!r&&!d&&(c[s.DRAG]=!1)}if(s.showFps||!n&&c[s.SELECT_BOX]&&!r){var T=e||l.contexts[s.SELECT_BOX];if(S(T),s.selection[4]==1&&(s.hoverData.selecting||s.touchData.selecting)){var x=s.cy.zoom(),j=g.core("selection-box-border-width").value/x;T.lineWidth=j,T.fillStyle="rgba("+g.core("selection-box-color").value[0]+","+g.core("selection-box-color").value[1]+","+g.core("selection-box-color").value[2]+","+g.core("selection-box-opacity").value+")",T.fillRect(s.selection[0],s.selection[1],s.selection[2]-s.selection[0],s.selection[3]-s.selection[1]),j>0&&(T.strokeStyle="rgba("+g.core("selection-box-border-color").value[0]+","+g.core("selection-box-border-color").value[1]+","+g.core("selection-box-border-color").value[2]+","+g.core("selection-box-opacity").value+")",T.strokeRect(s.selection[0],s.selection[1],s.selection[2]-s.selection[0],s.selection[3]-s.selection[1]))}if(l.bgActivePosistion&&!s.hoverData.selecting){var x=s.cy.zoom(),oe=l.bgActivePosistion;T.fillStyle="rgba("+g.core("active-bg-color").value[0]+","+g.core("active-bg-color").value[1]+","+g.core("active-bg-color").value[2]+","+g.core("active-bg-opacity").value+")",T.beginPath(),T.arc(oe.x,oe.y,g.core("active-bg-size").pfValue/x,0,2*Math.PI),T.fill()}var se=s.lastRedrawTime;if(s.showFps&&se){se=Math.round(se);var V=Math.round(1e3/se);T.setTransform(1,0,0,1,0,0),T.fillStyle="rgba(255, 0, 0, 0.75)",T.strokeStyle="rgba(255, 0, 0, 0.75)",T.lineWidth=1,T.fillText("1 frame = "+se+" ms = "+V+" fps",0,20);var H=60;T.strokeRect(0,30,250,20),T.fillRect(0,30,250*Math.min(V/H,1),20)}r||(c[s.SELECT_BOX]=!1)}if(d&&h!==1){var N=l.contexts[s.NODE],K=s.data.bufferCanvases[s.MOTIONBLUR_BUFFER_NODE],ne=l.contexts[s.DRAG],he=s.data.bufferCanvases[s.MOTIONBLUR_BUFFER_DRAG],R=function(q,Z,Y){q.setTransform(1,0,0,1,0,0),Y||!m?q.clearRect(0,0,s.canvasWidth,s.canvasHeight):A(q,0,0,s.canvasWidth,s.canvasHeight);var te=h;q.drawImage(Z,0,0,s.canvasWidth*te,s.canvasHeight*te,0,0,s.canvasWidth,s.canvasHeight)};(c[s.NODE]||I[s.NODE])&&(R(N,K,I[s.NODE]),c[s.NODE]=!1),(c[s.DRAG]||I[s.DRAG])&&(R(ne,he,I[s.DRAG]),c[s.DRAG]=!1)}s.prevViewport=w,s.clearingMotionBlur&&(s.clearingMotionBlur=!1,s.motionBlurCleared=!0,s.motionBlur=!0),d&&(s.motionBlurTimeout=setTimeout(function(){s.motionBlurTimeout=null,s.clearedForMotionBlur[s.NODE]=!1,s.clearedForMotionBlur[s.DRAG]=!1,s.motionBlur=!1,s.clearingMotionBlur=!f,s.mbFrames=0,c[s.NODE]=!0,c[s.DRAG]=!0,s.redraw()},ND)),e||u.emit("render")};var gn={};gn.drawPolygonPath=function(t,e,r,n,a,i){var s=n/2,o=a/2;t.beginPath&&t.beginPath(),t.moveTo(e+s*i[0],r+o*i[1]);for(var u=1;u<i.length/2;u++)t.lineTo(e+s*i[u*2],r+o*i[u*2+1]);t.closePath()};gn.drawRoundPolygonPath=function(t,e,r,n,a,i,s){s.forEach(function(o){return cg(t,o)}),t.closePath()};gn.drawRoundRectanglePath=function(t,e,r,n,a,i){var s=n/2,o=a/2,u=i==="auto"?Ln(n,a):Math.min(i,o,s);t.beginPath&&t.beginPath(),t.moveTo(e,r-o),t.arcTo(e+s,r-o,e+s,r,u),t.arcTo(e+s,r+o,e,r+o,u),t.arcTo(e-s,r+o,e-s,r,u),t.arcTo(e-s,r-o,e,r-o,u),t.lineTo(e,r-o),t.closePath()};gn.drawBottomRoundRectanglePath=function(t,e,r,n,a,i){var s=n/2,o=a/2,u=i==="auto"?Ln(n,a):i;t.beginPath&&t.beginPath(),t.moveTo(e,r-o),t.lineTo(e+s,r-o),t.lineTo(e+s,r),t.arcTo(e+s,r+o,e,r+o,u),t.arcTo(e-s,r+o,e-s,r,u),t.lineTo(e-s,r-o),t.lineTo(e,r-o),t.closePath()};gn.drawCutRectanglePath=function(t,e,r,n,a,i,s){var o=n/2,u=a/2,l=s==="auto"?_c():s;t.beginPath&&t.beginPath(),t.moveTo(e-o+l,r-u),t.lineTo(e+o-l,r-u),t.lineTo(e+o,r-u+l),t.lineTo(e+o,r+u-l),t.lineTo(e+o-l,r+u),t.lineTo(e-o+l,r+u),t.lineTo(e-o,r+u-l),t.lineTo(e-o,r-u+l),t.closePath()};gn.drawBarrelPath=function(t,e,r,n,a){var i=n/2,s=a/2,o=e-i,u=e+i,l=r-s,c=r+s,f=Eu(n,a),d=f.widthOffset,h=f.heightOffset,v=f.ctrlPtOffsetPct*d;t.beginPath&&t.beginPath(),t.moveTo(o,l+h),t.lineTo(o,c-h),t.quadraticCurveTo(o+v,c,o+d,c),t.lineTo(u-d,c),t.quadraticCurveTo(u-v,c,u,c-h),t.lineTo(u,l+h),t.quadraticCurveTo(u-v,l,u-d,l),t.lineTo(o+d,l),t.quadraticCurveTo(o+v,l,o,l+h),t.closePath()};var Kd=Math.sin(0),Gd=Math.cos(0),Ou={},Iu={},Cg=Math.PI/40;for(var ia=0*Math.PI;ia<2*Math.PI;ia+=Cg)Ou[ia]=Math.sin(ia),Iu[ia]=Math.cos(ia);gn.drawEllipsePath=function(t,e,r,n,a){if(t.beginPath&&t.beginPath(),t.ellipse)t.ellipse(e,r,n/2,a/2,0,0,2*Math.PI);else for(var i,s,o=n/2,u=a/2,l=0*Math.PI;l<2*Math.PI;l+=Cg)i=e-o*Ou[l]*Kd+o*Iu[l]*Gd,s=r+u*Iu[l]*Kd+u*Ou[l]*Gd,l===0?t.moveTo(i,s):t.lineTo(i,s);t.closePath()};var Ki={};Ki.createBuffer=function(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,[r,r.getContext("2d")]};Ki.bufferCanvasImage=function(t){var e=this.cy,r=e.mutableElements(),n=r.boundingBox(),a=this.findContainerClientCoords(),i=t.full?Math.ceil(n.w):a[2],s=t.full?Math.ceil(n.h):a[3],o=ge(t.maxWidth)||ge(t.maxHeight),u=this.getPixelRatio(),l=1;if(t.scale!==void 0)i*=t.scale,s*=t.scale,l=t.scale;else if(o){var c=1/0,f=1/0;ge(t.maxWidth)&&(c=l*t.maxWidth/i),ge(t.maxHeight)&&(f=l*t.maxHeight/s),l=Math.min(c,f),i*=l,s*=l}o||(i*=u,s*=u,l*=u);var d=document.createElement("canvas");d.width=i,d.height=s,d.style.width=i+"px",d.style.height=s+"px";var h=d.getContext("2d");if(i>0&&s>0){h.clearRect(0,0,i,s),h.globalCompositeOperation="source-over";var v=this.getCachedZSortedEles();if(t.full)h.translate(-n.x1*l,-n.y1*l),h.scale(l,l),this.drawElements(h,v),h.scale(1/l,1/l),h.translate(n.x1*l,n.y1*l);else{var y=e.pan(),p={x:y.x*l,y:y.y*l};l*=e.zoom(),h.translate(p.x,p.y),h.scale(l,l),this.drawElements(h,v),h.scale(1/l,1/l),h.translate(-p.x,-p.y)}t.bg&&(h.globalCompositeOperation="destination-over",h.fillStyle=t.bg,h.rect(0,0,i,s),h.fill())}return d};function zD(t,e){for(var r=atob(t),n=new ArrayBuffer(r.length),a=new Uint8Array(n),i=0;i<r.length;i++)a[i]=r.charCodeAt(i);return new Blob([n],{type:e})}function Yd(t){var e=t.indexOf(",");return t.substr(e+1)}function _g(t,e,r){var n=function(){return e.toDataURL(r,t.quality)};switch(t.output){case"blob-promise":return new Fa(function(a,i){try{e.toBlob(function(s){s!=null?a(s):i(new Error("`canvas.toBlob()` sent a null value in its callback"))},r,t.quality)}catch(s){i(s)}});case"blob":return zD(Yd(n()),r);case"base64":return Yd(n());case"base64uri":default:return n()}}Ki.png=function(t){return _g(t,this.bufferCanvasImage(t),"image/png")};Ki.jpg=function(t){return _g(t,this.bufferCanvasImage(t),"image/jpeg")};var Bg={};Bg.nodeShapeImpl=function(t,e,r,n,a,i,s,o){switch(t){case"ellipse":return this.drawEllipsePath(e,r,n,a,i);case"polygon":return this.drawPolygonPath(e,r,n,a,i,s);case"round-polygon":return this.drawRoundPolygonPath(e,r,n,a,i,s,o);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,r,n,a,i,o);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,r,n,a,i,s,o);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,r,n,a,i,o);case"barrel":return this.drawBarrelPath(e,r,n,a,i)}};var HD=Ag,Ie=Ag.prototype;Ie.CANVAS_LAYERS=3;Ie.SELECT_BOX=0;Ie.DRAG=1;Ie.NODE=2;Ie.BUFFER_COUNT=3;Ie.TEXTURE_BUFFER=0;Ie.MOTIONBLUR_BUFFER_NODE=1;Ie.MOTIONBLUR_BUFFER_DRAG=2;function Ag(t){var e=this,r=e.cy.window(),n=r.document;e.data={canvases:new Array(Ie.CANVAS_LAYERS),contexts:new Array(Ie.CANVAS_LAYERS),canvasNeedsRedraw:new Array(Ie.CANVAS_LAYERS),bufferCanvases:new Array(Ie.BUFFER_COUNT),bufferContexts:new Array(Ie.CANVAS_LAYERS)};var a="-webkit-tap-highlight-color",i="rgba(0,0,0,0)";e.data.canvasContainer=n.createElement("div");var s=e.data.canvasContainer.style;e.data.canvasContainer.style[a]=i,s.position="relative",s.zIndex="0",s.overflow="hidden";var o=t.cy.container();o.appendChild(e.data.canvasContainer),o.style[a]=i;var u={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};S2()&&(u["-ms-touch-action"]="none",u["touch-action"]="none");for(var l=0;l<Ie.CANVAS_LAYERS;l++){var c=e.data.canvases[l]=n.createElement("canvas");e.data.contexts[l]=c.getContext("2d"),Object.keys(u).forEach(function(H){c.style[H]=u[H]}),c.style.position="absolute",c.setAttribute("data-id","layer"+l),c.style.zIndex=String(Ie.CANVAS_LAYERS-l),e.data.canvasContainer.appendChild(c),e.data.canvasNeedsRedraw[l]=!1}e.data.topCanvas=e.data.canvases[0],e.data.canvases[Ie.NODE].setAttribute("data-id","layer"+Ie.NODE+"-node"),e.data.canvases[Ie.SELECT_BOX].setAttribute("data-id","layer"+Ie.SELECT_BOX+"-selectbox"),e.data.canvases[Ie.DRAG].setAttribute("data-id","layer"+Ie.DRAG+"-drag");for(var l=0;l<Ie.BUFFER_COUNT;l++)e.data.bufferCanvases[l]=n.createElement("canvas"),e.data.bufferContexts[l]=e.data.bufferCanvases[l].getContext("2d"),e.data.bufferCanvases[l].style.position="absolute",e.data.bufferCanvases[l].setAttribute("data-id","buffer"+l),e.data.bufferCanvases[l].style.zIndex=String(-l-1),e.data.bufferCanvases[l].style.visibility="hidden";e.pathsEnabled=!0;var f=jt(),d=function(N){return{x:(N.x1+N.x2)/2,y:(N.y1+N.y2)/2}},h=function(N){return{x:-N.w/2,y:-N.h/2}},v=function(N){var K=N[0]._private,ne=K.oldBackgroundTimestamp===K.backgroundTimestamp;return!ne},y=function(N){return N[0]._private.nodeKey},p=function(N){return N[0]._private.labelStyleKey},m=function(N){return N[0]._private.sourceLabelStyleKey},g=function(N){return N[0]._private.targetLabelStyleKey},x=function(N,K,ne,he,R){return e.drawElement(N,K,ne,!1,!1,R)},b=function(N,K,ne,he,R){return e.drawElementText(N,K,ne,he,"main",R)},C=function(N,K,ne,he,R){return e.drawElementText(N,K,ne,he,"source",R)},E=function(N,K,ne,he,R){return e.drawElementText(N,K,ne,he,"target",R)},w=function(N){return N.boundingBox(),N[0]._private.bodyBounds},B=function(N){return N.boundingBox(),N[0]._private.labelBounds.main||f},D=function(N){return N.boundingBox(),N[0]._private.labelBounds.source||f},_=function(N){return N.boundingBox(),N[0]._private.labelBounds.target||f},A=function(N,K){return K},S=function(N){return d(w(N))},P=function(N,K,ne){var he=N?N+"-":"";return{x:K.x+ne.pstyle(he+"text-margin-x").pfValue,y:K.y+ne.pstyle(he+"text-margin-y").pfValue}},T=function(N,K,ne){var he=N[0]._private.rscratch;return{x:he[K],y:he[ne]}},$=function(N){return P("",T(N,"labelX","labelY"),N)},O=function(N){return P("source",T(N,"sourceLabelX","sourceLabelY"),N)},M=function(N){return P("target",T(N,"targetLabelX","targetLabelY"),N)},z=function(N){return h(w(N))},G=function(N){return h(D(N))},X=function(N){return h(_(N))},I=function(N){var K=B(N),ne=h(B(N));if(N.isNode()){switch(N.pstyle("text-halign").value){case"left":ne.x=-K.w;break;case"right":ne.x=0;break}switch(N.pstyle("text-valign").value){case"top":ne.y=-K.h;break;case"bottom":ne.y=0;break}}return ne},L=e.data.eleTxrCache=new ii(e,{getKey:y,doesEleInvalidateKey:v,drawElement:x,getBoundingBox:w,getRotationPoint:S,getRotationOffset:z,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),U=e.data.lblTxrCache=new ii(e,{getKey:p,drawElement:b,getBoundingBox:B,getRotationPoint:$,getRotationOffset:I,isVisible:A}),j=e.data.slbTxrCache=new ii(e,{getKey:m,drawElement:C,getBoundingBox:D,getRotationPoint:O,getRotationOffset:G,isVisible:A}),oe=e.data.tlbTxrCache=new ii(e,{getKey:g,drawElement:E,getBoundingBox:_,getRotationPoint:M,getRotationOffset:X,isVisible:A}),se=e.data.lyrTxrCache=new xg(e);e.onUpdateEleCalcs(function(N,K){L.invalidateElements(K),U.invalidateElements(K),j.invalidateElements(K),oe.invalidateElements(K),se.invalidateElements(K);for(var ne=0;ne<K.length;ne++){var he=K[ne]._private;he.oldBackgroundTimestamp=he.backgroundTimestamp}});var V=function(N){for(var K=0;K<N.length;K++)se.enqueueElementRefinement(N[K].ele)};L.onDequeue(V),U.onDequeue(V),j.onDequeue(V),oe.onDequeue(V)}Ie.redrawHint=function(t,e){var r=this;switch(t){case"eles":r.data.canvasNeedsRedraw[Ie.NODE]=e;break;case"drag":r.data.canvasNeedsRedraw[Ie.DRAG]=e;break;case"select":r.data.canvasNeedsRedraw[Ie.SELECT_BOX]=e;break}};var qD=typeof Path2D<"u";Ie.path2dEnabled=function(t){if(t===void 0)return this.pathsEnabled;this.pathsEnabled=!!t};Ie.usePaths=function(){return qD&&this.pathsEnabled};Ie.setImgSmoothing=function(t,e){t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e)};Ie.getImgSmoothing=function(t){return t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled:t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled};Ie.makeOffscreenCanvas=function(t,e){var r;if((typeof OffscreenCanvas>"u"?"undefined":ct(OffscreenCanvas))!=="undefined")r=new OffscreenCanvas(t,e);else{var n=this.cy.window(),a=n.document;r=a.createElement("canvas"),r.width=t,r.height=e}return r};[bg,Sr,Nr,$c,Yn,za,Xt,gn,Ki,Bg].forEach(function(t){Be(Ie,t)});var VD=[{name:"null",impl:og},{name:"base",impl:mg},{name:"canvas",impl:HD}],UD=[{type:"layout",extensions:XA},{type:"renderer",extensions:VD}],Dg={},Sg={};function kg(t,e,r){var n=r,a=function(B){Ne("Can not register `"+e+"` for `"+t+"` since `"+B+"` already exists in the prototype and can not be overridden")};if(t==="core"){if(Oi.prototype[e])return a(e);Oi.prototype[e]=r}else if(t==="collection"){if(Ct.prototype[e])return a(e);Ct.prototype[e]=r}else if(t==="layout"){for(var i=function(B){this.options=B,r.call(this,B),Oe(this._private)||(this._private={}),this._private.cy=B.cy,this._private.listeners=[],this.createEmitter()},s=i.prototype=Object.create(r.prototype),o=[],u=0;u<o.length;u++){var l=o[u];s[l]=s[l]||function(){return this}}s.start&&!s.run?s.run=function(){return this.start(),this}:!s.start&&s.run&&(s.start=function(){return this.run(),this});var c=r.prototype.stop;s.stop=function(){var w=this.options;if(w&&w.animate){var B=this.animations;if(B)for(var D=0;D<B.length;D++)B[D].stop()}return c?c.call(this):this.emit("layoutstop"),this},s.destroy||(s.destroy=function(){return this}),s.cy=function(){return this._private.cy};var f=function(B){return B._private.cy},d={addEventFields:function(B,D){D.layout=B,D.cy=f(B),D.target=B},bubble:function(){return!0},parent:function(B){return f(B)}};Be(s,{createEmitter:function(){return this._private.emitter=new Po(d,this),this},emitter:function(){return this._private.emitter},on:function(B,D){return this.emitter().on(B,D),this},one:function(B,D){return this.emitter().one(B,D),this},once:function(B,D){return this.emitter().one(B,D),this},removeListener:function(B,D){return this.emitter().removeListener(B,D),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(B,D){return this.emitter().emit(B,D),this}}),$e.eventAliasesOn(s),n=i}else if(t==="renderer"&&e!=="null"&&e!=="base"){var h=Tg("renderer","base"),v=h.prototype,y=r,p=r.prototype,m=function(){h.apply(this,arguments),y.apply(this,arguments)},g=m.prototype;for(var x in v){var b=v[x],C=p[x]!=null;if(C)return a(x);g[x]=b}for(var E in p)g[E]=p[E];v.clientFunctions.forEach(function(w){g[w]=g[w]||function(){et("Renderer does not implement `renderer."+w+"()` on its prototype")}}),n=m}else if(t==="__proto__"||t==="constructor"||t==="prototype")return et(t+" is an illegal type to be registered, possibly lead to prototype pollutions");return tp({map:Dg,keys:[t,e],value:n})}function Tg(t,e){return rp({map:Dg,keys:[t,e]})}function jD(t,e,r,n,a){return tp({map:Sg,keys:[t,e,r,n],value:a})}function WD(t,e,r,n){return rp({map:Sg,keys:[t,e,r,n]})}var Lu=function(){if(arguments.length===2)return Tg.apply(null,arguments);if(arguments.length===3)return kg.apply(null,arguments);if(arguments.length===4)return WD.apply(null,arguments);if(arguments.length===5)return jD.apply(null,arguments);et("Invalid extension access syntax")};Oi.prototype.extension=Lu;UD.forEach(function(t){t.extensions.forEach(function(e){kg(t.type,e.name,e.impl)})});var Pg=function t(){if(!(this instanceof t))return new t;this.length=0},Nn=Pg.prototype;Nn.instanceString=function(){return"stylesheet"};Nn.selector=function(t){var e=this.length++;return this[e]={selector:t,properties:[]},this};Nn.css=function(t,e){var r=this.length-1;if(_e(t))this[r].properties.push({name:t,value:e});else if(Oe(t))for(var n=t,a=Object.keys(n),i=0;i<a.length;i++){var s=a[i],o=n[s];if(o!=null){var u=kt.properties[s]||kt.properties[wo(s)];if(u!=null){var l=u.name,c=o;this[r].properties.push({name:l,value:c})}}}return this};Nn.style=Nn.css;Nn.generateStyle=function(t){var e=new kt(t);return this.appendToStyle(e)};Nn.appendToStyle=function(t){for(var e=0;e<this.length;e++){var r=this[e],n=r.selector,a=r.properties;t.selector(n);for(var i=0;i<a.length;i++){var s=a[i];t.css(s.name,s.value)}}return t};var KD="3.30.2",zn=function(e){if(e===void 0&&(e={}),Oe(e))return new Oi(e);if(_e(e))return Lu.apply(Lu,arguments)};zn.use=function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift(zn),t.apply(null,e),this};zn.warnings=function(t){return cp(t)};zn.version=KD;zn.stylesheet=zn.Stylesheet=Pg;const GD="https://vhhyfjcnkfmcjyqeymec.supabase.co",YD="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZoaHlmamNua2ZtY2p5cWV5bWVjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjQ1Mjc2NDIsImV4cCI6MjA0MDEwMzY0Mn0.Qjc5L6Nyfnj-xtTR48Dy9EXmxzb-abHTQhmYncIZ9J4",Xd=Un(GD,YD),XD={name:"addEmployeeModal",data(){return{isVisible:!0}},methods:{close(){this.$emit("close")},async updateArray(){let t=document.getElementById("name").value.trim(),e=document.getElementById("surname").value.trim(),r=document.getElementById("birth_date").value.trim(),n=document.getElementById("salary").value.trim(),a=document.getElementById("role").value.trim(),i=document.getElementById("reporting_line_manager").value.trim(),s={};if(t===""||e===""){alert("Please enter the name and surname");return}if(r!==""&&(s.birth_date=r),n!==""&&(s.salary=n),a!==""&&(s.role=a),i!=="")if(i==="-1")s.reporting_line_manager=null;else{let l=i.split(" ");if(l.length!==2){alert("Please enter the Reporting Line Manager name and surname");return}let{data:c,error:f}=await Xd.from("employee").select("*").eq("name",l[0]).eq("surname",l[1]);if(f||c.length===0){alert("Manager not found");return}s.reporting_line_manager=c[0].employee_number}if(Object.keys(s).length===0){alert("No fields to update");return}let{data:o,error:u}=await Xd.from("employee").update(s).eq("name",t).eq("surname",e);if(u){console.log("Error: "+u.message),alert("Error updating employee");return}alert("Employee updated successfully")}}},ZD={class:"modal-backdrop"},QD={class:"modal"},JD={class:"modal-header"},eS=ve("div",{class:"title"}," Edit Empolyee ",-1),tS=ve("div",{class:"subtitle"}," *only employee data can be changed, not name or surname",-1),rS={class:"modal-body"},nS={class:"addEmployeeForm"},aS=uo('<label for="name">Name:</label><input type="text" id="name" name="name" placeholder="Enter Name" required><label for="surname">Surname:</label><input type="text" id="surname" name="surname" placeholder="Enter Surame" required><label for="birth_date">Birth Date:</label><input type="date" id="birth_date" name="birth_date" required><label for="salary">Salary:</label><input type="number" id="salary" name="salary" placeholder="Enter Salary" required><label for="role">Role:</label><input type="text" id="role" name="role" placeholder="Enter Role" required><label for="reporting_line_manager">Reporting Line Manager:</label><input type="text" id="reporting_line_manager" name="reporting_line_manager" placeholder="Reporting Line Manager Name and Surname" required>',12),iS={class:"modal-footer"};function sS(t,e,r,n,a,i){return lt(),$t("div",ZD,[ve("div",QD,[ve("header",JD,[Rs(t.$slots,"header",{},()=>[eS,tS]),ve("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=s=>i.close())}," x ")]),ve("section",rS,[Rs(t.$slots,"body",{},()=>[ve("form",nS,[aS,ve("input",{type:"button",value:"Update Employee",onClick:e[1]||(e[1]=s=>i.updateArray())})])])]),ve("footer",iS,[ve("button",{type:"button",class:"btn-green",onClick:e[2]||(e[2]=s=>i.close())}," Close Modal ")])])])}const oS=Kn(XD,[["render",sS]]),lS="https://vhhyfjcnkfmcjyqeymec.supabase.co",uS="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZoaHlmamNua2ZtY2p5cWV5bWVjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjQ1Mjc2NDIsImV4cCI6MjA0MDEwMzY0Mn0.Qjc5L6Nyfnj-xtTR48Dy9EXmxzb-abHTQhmYncIZ9J4",Zd=Un(lS,uS),cS={name:"addEmployeeModal",data(){return{isVisible:!0}},methods:{close(){this.$emit("close")},async updateArray(){let t=document.getElementById("Addname").value,e=document.getElementById("Addsurname").value,r=document.getElementById("Addbirth_date").value,n=document.getElementById("Addsalary").value,a=document.getElementById("Addrole").value,i=document.getElementById("Addreporting_line_manager").value;if(t===""||e===""||r===""||n===""||a===""){alert("Cannot leave any field besides Reporting Line Manager empty");return}if(i==="")i=null;else{var s=i.split(" ");if(s.length!=2){alert("Please enter the Reporting Line Manager name and surname");return}let{data:l,error:c}=await Zd.from("employee").select("*").eq("name",s[0]).eq("surname",s[1]);if(c){alert("Manager not found");return}if(l.length===0){alert("Manager not found");return}i=l[0].employee_number}let{data:o,error:u}=await Zd.from("employee").insert([{name:t,surname:e,birth_date:r,salary:n,role:a,reporting_line_manager:i}]);if(u){console.log("Error: "+u.message);return}alert("Employee added successfully")}}},fS={class:"modal-backdrop"},dS={class:"modal"},hS={class:"modal-header"},vS={class:"modal-body"},pS={class:"addEmployeeForm"},gS=uo('<label for="name">Name:</label><input type="text" id="Addname" name="name" placeholder="Enter Name" required><label for="surname">Surname:</label><input type="text" id="Addsurname" name="surname" placeholder="Enter Surame" required><label for="birth_date">Birth Date:</label><input type="date" id="Addbirth_date" name="birth_date" required><label for="salary">Salary:</label><input type="number" id="Addsalary" name="salary" placeholder="Enter Salary" required><label for="role">Role:</label><input type="text" id="Addrole" name="role" placeholder="Enter Role" required><label for="reporting_line_manager">Reporting Line Manager:</label><input type="text" id="Addreporting_line_manager" name="reporting_line_manager" placeholder="Reporting Line Manager Name and Surname" required>',12),mS={class:"modal-footer"};function yS(t,e,r,n,a,i){return lt(),$t("div",fS,[ve("div",dS,[ve("header",hS,[Rs(t.$slots,"header",{},()=>[lo(" Add empolyee ")]),ve("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=s=>i.close())}," x ")]),ve("section",vS,[Rs(t.$slots,"body",{},()=>[ve("form",pS,[gS,ve("input",{type:"button",value:"Add Employee",onClick:e[1]||(e[1]=s=>i.updateArray())})])])]),ve("footer",mS,[ve("button",{type:"button",class:"btn-green",onClick:e[2]||(e[2]=s=>i.close())}," Close Modal ")])])])}const xS=Kn(cS,[["render",yS]]),bS="https://vhhyfjcnkfmcjyqeymec.supabase.co",wS="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZoaHlmamNua2ZtY2p5cWV5bWVjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjQ1Mjc2NDIsImV4cCI6MjA0MDEwMzY0Mn0.Qjc5L6Nyfnj-xtTR48Dy9EXmxzb-abHTQhmYncIZ9J4",Ql=Un(bS,wS),ES={components:{addEmployeeModal:xS,editEmployeeModal:oS},methods:{home(){this.$router.push("/home")},manage(){this.$router.push("/manage")},search(){this.$router.push("/search")},profile(){this.$router.push("/profile")},async getEmployees(){const{data:t,error:e}=await Ql.from("employee").select("*");if(e){console.log("Error: "+e.message);return}this.employees=t,console.log(t)},async addEmployee(){this.showModal=!0},closeModal(){this.showModal=!1,location.reload()},async deleteEmployee(){var t=document.getElementById("deleteEmployee").value;if(t===""||t===null){alert("Cannot leave name empty");return}const e=t.split(" ");t=e[0];let r=e.slice(1).join(" "),{data:n,error:a}=await Ql.from("employee").delete().eq("name",t).eq("surname",r);if(a){console.log("Error: "+a.message);return}location.reload(),alert("Employee deleted")},createGraph(){this.cy=zn({container:document.getElementById("cy"),elements:[...this.employees.map(t=>({data:{id:t.employee_number,label:t.name+" "+t.surname}})),...this.employees.map(t=>t.reporting_line_manager?{data:{id:`${t.employee_number}-${t.reporting_line_manager}`,source:t.employee_number,target:t.reporting_line_manager}}:null).filter(t=>t)],style:[{selector:"node",style:{"background-color":"#cccccc",label:"data(label)",color:"#000000",width:80,height:40}},{selector:"edge",style:{width:2,"line-color":"#000000"}}]})},toggleGraphVisibility(){this.showModal||this.showEditModal?(this.cy=null,document.getElementsByClassName("main-body")[0].style.display="none"):(document.getElementsByClassName("main-body")[0].style.display="block",this.getEmployees(),this.createGraph())},editEmployee(){this.showEditModal=!0},closeEditModal(){this.showEditModal=!1,location.reload()},async submit(){let t=document.getElementById("employee").value;if(t===""||t===null){alert("Cannot leave search empty");return}const e=this.cy.nodes().filter(r=>r.data("label").includes(t));e.length>0?this.cy.animate({fit:{eles:e}}):console.log("No match")}},async created(){const{data:t,error:e}=await Ql.from("employee").select("*");if(e){console.log("Error: "+e.message);return}this.employees=t,this.createGraph()},data(){return{employees:[],showModal:!1,cy:null,showEditModal:!1}},watch:{showModal(t,e){t!==e&&this.toggleGraphVisibility()},showEditModal(t,e){t!==e&&this.toggleGraphVisibility()}}},Nc=t=>(Qu("data-v-c074722e"),t=t(),Ju(),t),CS={class:"management"},_S={style:{width:"100%"}},BS={class:"search-and-add"},AS={class:"search"},DS={class:"search-box"},SS=Nc(()=>ve("input",{type:"text",class:"input-field",id:"employee",placeholder:"Enter Name"},null,-1)),kS={class:"search-and-add"},TS={class:"search-box"},PS=Nc(()=>ve("input",{type:"text",class:"input-field",id:"deleteEmployee",placeholder:"Enter Name and Surname"},null,-1)),FS=Nc(()=>ve("div",{class:"main-body"},[ve("div",{id:"cy",style:{width:"90%",height:"90%"}})],-1));function RS(t,e,r,n,a,i){const s=au("editEmployeeModal"),o=au("addEmployeeModal");return lt(),$t(Mt,null,[ve("div",CS,[ve("div",_S,[Jc(gt(s,{onClose:i.closeEditModal},null,8,["onClose"]),[[vf,a.showEditModal]]),Jc(gt(o,{onClose:i.closeModal},null,8,["onClose"]),[[vf,a.showModal]])]),ve("div",BS,[ve("form",AS,[ve("div",DS,[SS,ve("input",{type:"button",value:"Search",onClick:e[0]||(e[0]=u=>i.submit())})])]),ve("button",{onClick:e[1]||(e[1]=u=>i.addEmployee()),class:"add-employee-button"},"Add Employee"),ve("form",kS,[ve("div",TS,[PS,ve("input",{type:"button",value:"Delete",onClick:e[2]||(e[2]=u=>i.deleteEmployee()),style:{background:"red"}})])]),ve("button",{onClick:e[3]||(e[3]=u=>i.editEmployee()),class:"add-employee-button",style:{background:"orange"}},"Edit Employee")])]),FS],64)}const OS=Kn(ES,[["render",RS],["__scopeId","data-v-c074722e"]]),IS="https://vhhyfjcnkfmcjyqeymec.supabase.co",LS="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZoaHlmamNua2ZtY2p5cWV5bWVjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjQ1Mjc2NDIsImV4cCI6MjA0MDEwMzY0Mn0.Qjc5L6Nyfnj-xtTR48Dy9EXmxzb-abHTQhmYncIZ9J4",MS=Un(IS,LS),$S={name:"Login",data(){return{email:"",password:"",errorMessage:""}},methods:{async submit(){let t=!1;var e=document.getElementById("email").value,r=document.getElementById("password").value;if(e===""||e===null||r===""||r===null?(console.log("Cannot leave email or password empty"),this.errorMessage="Cannot leave email or password empty"):t=!0,t){let{data:n,error:a}=await MS.auth.signInWithPassword({email:e,password:r});if(a){console.log(e),alert("Error: "+a.message);return}console.log("Everything is ok"),this.$router.push("/home")}},signup(){this.$router.push("/")}}},NS={class:"main-body"},zS={class:"signup"},HS=ve("div",{class:"signup-heading"},[ve("h1",null,"Login")],-1),qS={class:"form-group"},VS={class:"email-box"},US=ve("div",null,[ve("input",{type:"text",class:"input-box",id:"email",placeholder:"Enter Your Email or Phone Number",style:{color:"black"}})],-1),jS=ve("div",null,[ve("input",{type:"password",class:"input-box",id:"password",placeholder:"Enter Your Password",style:{color:"black"}})],-1),WS={key:0,class:"error-message"},KS={class:"input-box"},GS={class:"signup-change"};function YS(t,e,r,n,a,i){return lt(),$t("div",NS,[ve("form",zS,[HS,ve("div",qS,[ve("div",VS,[US,jS,a.errorMessage!=""?(lt(),$t("div",WS,ur(a.errorMessage),1)):nc("",!0),ve("div",KS,[ve("input",{type:"button",value:"Login",onClick:e[0]||(e[0]=s=>i.submit())})])])]),ve("div",GS,[lo(" Or "),ve("a",{class:"google-button",onClick:e[1]||(e[1]=s=>i.signup()),style:{cursor:"pointer"}},"Signup")])])])}const XS=Kn($S,[["render",YS]]),ZS="https://vhhyfjcnkfmcjyqeymec.supabase.co",QS="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZoaHlmamNua2ZtY2p5cWV5bWVjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjQ1Mjc2NDIsImV4cCI6MjA0MDEwMzY0Mn0.Qjc5L6Nyfnj-xtTR48Dy9EXmxzb-abHTQhmYncIZ9J4",Qd=Un(ZS,QS),JS={name:"Signup",data(){return{email:"",password:"",passwordTwo:"",errorMessage:""}},methods:{checkPassword(){return this.password===this.passwordTwo},check(){},async submit(){if(this.checkPassword()){let t=document.getElementById("email").value,e=document.getElementById("password").value;if(t===""){this.errorMessage="Email is required";return}let{data:r,error:n}=await Qd.auth.signUp({email:t,password:e});if(await Qd.auth.getUser(),n){console.log(n.message);return}this.$router.push("/home")}else alert("Passwords do not match")},login(){this.$router.push("/login")}}},e8={class:"main-body"},t8={class:"signup"},r8=ve("div",{class:"signup-heading"},[ve("h1",null,"Signup")],-1),n8={class:"form-group"},a8={class:"email-box"},i8=ve("div",null,[ve("input",{type:"text",class:"input-box",id:"email",placeholder:"Enter Your Email or Phone Number",style:{color:"black"}})],-1),s8=ve("div",null,[ve("input",{type:"password",class:"input-box",id:"password",placeholder:"Enter Your Password",style:{color:"black"}})],-1),o8={key:0,class:"error-message"},l8={class:"input-box"},u8={class:"signup-change"};function c8(t,e,r,n,a,i){return lt(),$t("div",e8,[ve("form",t8,[r8,ve("div",n8,[ve("div",a8,[i8,s8,ve("div",null,[ve("input",{type:"password",class:"input-box",id:"password-two",placeholder:"Enter Your Password Again",style:{color:"black"},onKeyup:e[0]||(e[0]=s=>i.check())},null,32)]),a.errorMessage?(lt(),$t("div",o8,ur(a.errorMessage),1)):nc("",!0),ve("div",l8,[ve("input",{type:"button",value:"Signup",onClick:e[1]||(e[1]=s=>i.submit())})])])]),ve("div",u8,[lo(" Or "),ve("a",{class:"google-button",onClick:e[2]||(e[2]=s=>i.login()),style:{cursor:"pointer"}},"Login")])])])}const f8=Kn(JS,[["render",c8]]),d8="https://vhhyfjcnkfmcjyqeymec.supabase.co",h8="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZoaHlmamNua2ZtY2p5cWV5bWVjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjQ1Mjc2NDIsImV4cCI6MjA0MDEwMzY0Mn0.Qjc5L6Nyfnj-xtTR48Dy9EXmxzb-abHTQhmYncIZ9J4",gs=Un(d8,h8),v8={methods:{async filter(){console.log("filtering");let t=document.getElementById("filter-by").value,e=document.getElementById("filter-type").value,r=document.getElementById("filter-value").value;if(r===""){alert("Please enter a value");return}let{data:n,error:a}=await gs.from("employee").select("*").filter(t,e,r);if(a){console.log("Error "+a);return}this.employees=n,console.log("finished filtering")},async sort(){console.log("sorting");let t=document.getElementById("sort-type").value,e=document.getElementById("sort-by").value;t=="true"?t=!0:t=!1;let{data:r,error:n}=await gs.from("employee").select("*").order(e,{ascending:t});if(n){console.log("Error: "+n);return}this.employees=r,console.log("finished")},async removeFilters(){let{data:t,error:e}=await gs.from("employee").select("*");if(e){console.log("Error: "+e);return}this.employees=t}},data(){return{employees:[]}},async created(){let{data:t,error:e}=await gs.from("employee").select("*");e?console.log("Error: "+e):this.employees=t},setup(){return{ChevronDownIcon:xv}}},p8=t=>(Qu("data-v-76bb1de0"),t=t(),Ju(),t),g8={class:"search"},m8={class:"search-box"},y8=uo('<div class="filter-by" data-v-76bb1de0> Filter By: </div><div class="select-type" data-v-76bb1de0><select class="custom-select" id="filter-by" data-v-76bb1de0><option value="employee_number" data-v-76bb1de0>Employee Number</option><option value="name" data-v-76bb1de0>Name</option><option value="surname" data-v-76bb1de0>Surname</option><option value="birth_date" data-v-76bb1de0>Birth Date</option><option value="salary" data-v-76bb1de0>Salary</option><option value="role" data-v-76bb1de0>Role</option><option value="reporting_line_manager" data-v-76bb1de0>Manager Number</option></select></div><div class="select-type" data-v-76bb1de0><select class="custom-select" id="filter-type" data-v-76bb1de0><option value="lt" data-v-76bb1de0>&lt;</option><option value="gt" data-v-76bb1de0>&gt;</option><option value="eq" data-v-76bb1de0>=</option></select></div><input type="text" class="input-field" id="filter-value" placeholder="Enter Value" data-v-76bb1de0>',4),x8={class:"search"},b8={class:"search-box"},w8=uo('<div class="filter-by" data-v-76bb1de0> Sort By: </div><div class="select-type" data-v-76bb1de0><select class="custom-select" id="sort-by" data-v-76bb1de0><option value="employee_number" data-v-76bb1de0>Employee Number</option><option value="name" data-v-76bb1de0>Name</option><option value="surname" data-v-76bb1de0>Surname</option><option value="birth_date" data-v-76bb1de0>Birth Date</option><option value="salary" data-v-76bb1de0>Salary</option><option value="role" data-v-76bb1de0>Role</option><option value="reporting_line_manager" data-v-76bb1de0>Manager Number</option></select></div><div class="select-type" data-v-76bb1de0><select class="custom-select" id="sort-type" data-v-76bb1de0><option value="false" data-v-76bb1de0>Descending</option><option value="true" data-v-76bb1de0>Ascending</option></select></div>',3),E8={style:{"background-color":"grey",display:"flex","justify-content":"center","align-items":"center"}},C8={class:"main-body"},_8={class:"employee-table"},B8=p8(()=>ve("thead",null,[ve("tr",null,[ve("th",null,"Employee Number"),ve("th",null,"Name"),ve("th",null,"Surname"),ve("th",null,"Birth Date"),ve("th",null,"Salary"),ve("th",null,"Role"),ve("th",null,"Reporting Line Manager Employee Number")])],-1));function A8(t,e,r,n,a,i){return lt(),$t(Mt,null,[ve("form",g8,[ve("div",m8,[y8,ve("input",{type:"button",value:"Filter",onClick:e[0]||(e[0]=s=>i.filter())})])]),ve("form",x8,[ve("div",b8,[w8,ve("input",{type:"button",value:"Sort",onClick:e[1]||(e[1]=s=>i.sort())})])]),ve("div",E8,[ve("button",{class:"remove-filters-button",onClick:e[2]||(e[2]=s=>i.removeFilters())}," Return Original")]),ve("div",C8,[ve("table",_8,[B8,ve("tbody",null,[(lt(!0),$t(Mt,null,Xm(a.employees,s=>(lt(),$t("tr",{key:s.employee_number},[ve("td",null,ur(s.employee_number),1),ve("td",null,ur(s.name),1),ve("td",null,ur(s.surname),1),ve("td",null,ur(s.birth_date),1),ve("td",null,"R"+ur(s.salary),1),ve("td",null,ur(s.role),1),ve("td",null,ur(s.reporting_line_manager),1)]))),128))])])])],64)}const D8=Kn(v8,[["render",A8],["__scopeId","data-v-76bb1de0"]]),S8=[{path:"/",name:"Signin",component:f8,meta:{hideNavbar:!0}},{path:"/home",name:"Home",component:OS},{path:"/login",name:"Login",component:XS,meta:{hideNavbar:!0}},{path:"/search",name:"Search",component:D8}],k8=y1({history:Wx(),routes:S8});hx(v2).use(k8).mount("#app");export{S1 as g};
